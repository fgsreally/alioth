var iS=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);import*as nS from"vue";import{defineComponent as me,computed as Ue,ref as we,reactive as $t,onMounted as vr,onUnmounted as rS,watch as tt,nextTick as Da,openBlock as R,createElementBlock as j,normalizeClass as yr,normalizeStyle as tn,createElementVNode as Z,createCommentVNode as it,renderSlot as Ct,createVNode as xe,Fragment as ct,renderList as Tt,withDirectives as nn,withKeys as aa,vModelDynamic as sS,toDisplayString as nt,vShow as nl,withModifiers as Yi,vModelText as rf,unref as G,createBlock as gt,vModelSelect as oS,resolveComponent as rl,createTextVNode as Rh,pushScopeId as QO,popScopeId as AO,shallowRef as Fs,inject as Mn,toRaw as Ih,onBeforeUnmount as nc,h as ni,withCtx as vt,resolveDynamicComponent as sf,shallowReactive as aS,provide as La,render as EO,markRaw as of,useAttrs as lS,isVNode as cS,cloneVNode as RO,watchEffect as hS,getCurrentInstance as af,mergeProps as dn,onBeforeMount as uS,toRef as Ht,isRef as IO,Teleport as ZO,Transition as MO,normalizeProps as fS,guardReactiveProps as dS,createApp as pS}from"vue";import{createFilter as gS,emitter as on,Global as us,Tag as fs,Init as rc,useV as kt,createLayer as mS,useO as Hn,createForm as OS,Watcher as sc,createFormData as bS,useR as rr,createPhecda as vS}from"phecda-vue";var EY=iS((ti,ii)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();var yS=Object.defineProperty,xS=(t,e,i)=>e in t?yS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,co=(t,e,i)=>(xS(t,typeof e!="symbol"?e+"":e,i),i);class DO{constructor(){co(this,"onFinishListener")}finish(){this.onFinishListener!=null&&this.onFinishListener()}onFinish(e){this.onFinishListener=e}}class SS extends DO{constructor(){super(...arguments),co(this,"handler")}ask(e){this.handler!=null&&this.handler(e)}onAsk(e){this.handler=e}}class wS extends DO{constructor(){super(...arguments),co(this,"handler")}flush(e){this.handler!=null&&this.handler(e)}onFlush(e){this.handler=e}}function Zh(t){return String(t).replace(/&(?!\w+;)/g,"&amp;").replace(/ /g,"&nbsp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;")}function zs(t){return t==null||typeof t=="string"&&t.trim().length===0||typeof t=="object"&&Object.keys(t).length===0}function Hi(t){return!zs(t)}function Zd(t){return t?t.replace(/[<">']/g,e=>({"<":"&lt;",'"':"&quot;",">":"&gt;","'":"&#39;"})[e]):""}function lf(t=document.body.clientWidth){let e={};return t<600?e.xs=!0:t>=600&&t<960?e.sm=!0:t>=960&&t<1264?e.md=!0:t>=1264&&t<1904?e.lg=!0:e.xl=!0,e}function kS(){return/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)}function CS(t){let e=0;for(let i=0;i<t.length;i++)t[i].match(/[^\x00-\xff]/ig)!=null?e+=2:e+=1;return e}function oi(t,e,i){t&&t.addEventListener&&t.addEventListener(e,i)}function Md(t,e,i){t&&t.removeEventListener&&t.removeEventListener(e,i)}function $S(){return navigator&&navigator.clipboard?navigator.clipboard.readText():new Promise((t,e)=>{try{let i=document.createElement("div");i.contentEditable="true";let n=document.activeElement.appendChild(i).parentNode;i.focus(),document.execCommand("paste");let r=i.innerText;n.removeChild(i),t(r)}catch(i){e(i)}})}function _S(t){if(t){if(t=t.replace(/nbsp;/g," "),navigator&&navigator.clipboard)return navigator.clipboard.writeText(t);{let e=document.createElement("textarea");return e.value=t,e.style.position="absolute",e.style.opacity="0",e.style.left="-999999px",e.style.top="-999999px",document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),e.remove(),Promise.resolve()}}}function Dd(t,e){const{x:i,y:n}=t,r=e.x,s=e.y,o=e.width,a=e.height;return i>=r&&i<=r+o&&n>=s&&n<=s+a}function PS(){return window.getSelection?window.getSelection():document.getSelection()}function TS(t){if(typeof t=="object"&&t)return t;if(typeof t=="string")try{return JSON.parse(t)}catch{return t}}function QS(t,e){/^((http|https):\/\/)?(([A-Za-z0-9]+-[A-Za-z0-9]+|[A-Za-z0-9]+)\.)+([A-Za-z]+)[/?:]?.*$/.test(t)?!t.startsWith("http")&&!t.startsWith("https")?window.open(`http://${t}`):window.open(t):e({class:"error",type:"normal",content:"Invalid website url"})}function AS(t){if(zs(t))return"";let e=t.replace(/\xA0/g," ").split(" "),i="";for(let n=0;n<e.length;n++){let r=Zh(e[n]);n===0?i+=`<span class='t-cmd-key'>${r}</span>`:r.startsWith("-")?i+=`<span class="t-cmd-arg">${r}</span>`:r.length>0&&(i+=`<span>${r}</span>`),n<e.length-1&&(i+="<span>&nbsp;</span>")}return i}function ES(t,e,i=null){for(;t;){if(t===e)return!0;if(i&&t.classList.contains(i))break;t=t.parentElement}return!1}function RS(){let t=navigator.userAgent;if(t)return/mobile/i.test(t);let e=lf();return e.xs||e.sm}function IS(){let t=navigator.userAgent;return t?/pad/i.test(t):lf().sm}const Ld=100,ZS="terminal";class MS{constructor(e){co(this,"storageKey",ZS),co(this,"dataMap"),e&&(this.storageKey=e);let i=window.localStorage.getItem(this.storageKey);i?this.dataMap=JSON.parse(i):this.dataMap={}}push(e,i){let n=this.getData(e);n.cmdLog==null&&(n.cmdLog=[]),(n.cmdLog.length===0||n.cmdLog[n.cmdLog.length-1]!==i)&&(n.cmdLog.push(i),n.cmdLog.length>Ld&&n.cmdLog.splice(0,n.cmdLog.length-Ld)),n.cmdIdx=n.cmdLog.length,this.store()}store(){window.localStorage.setItem(this.storageKey,JSON.stringify(this.dataMap))}getData(e){let i=this.dataMap[e];return i==null&&(i={},this.dataMap[e]=i),i}getLog(e){let i=this.getData(e);return i.cmdLog||(i.cmdLog=[]),i.cmdLog}clear(e){let i=this.getData(e);i.cmdLog=[],i.cmdIdx=0,this.store()}clearAll(){this.dataMap={},this.store()}getIdx(e){return this.getData(e).cmdIdx|0}setIdx(e,i){this.getData(e).cmdIdx=i}}const Ki=new MS,sl={};let jd={};function LO(t,e){if(sl[t])throw Error(`Unable to register an existing terminal: ${t}`);sl[t]=e}function jO(t){delete sl[t]}function DS(t,e,i){jO(e),LO(t,i)}const Nt={setOptions(t){jd=t},getOptions(){return jd},post(t="terminal",e,i){let n=sl[t];if(n!=null)return n(e,i)},pushMessage(t,e){return Nt.post(t,"pushMessage",e)},getHistory(){return Ki},fullscreen(t){return Nt.post(t,"fullscreen")},isFullscreen(t){return Nt.post(t,"isFullscreen")},dragging(t,e){return Nt.post(t,"dragging",e)},execute(t,e){return Nt.post(t,"execute",e)},focus(t,e){return Nt.post(t,"focus",e)},elementInfo(t,e){return Nt.post(t,"elementInfo",e)},textEditorOpen(t,e){return Nt.post(t,"textEditorOpen",e)},textEditorClose(t,e){return Nt.post(t,"textEditorClose",e)}},LS=[{key:"help",title:"Help",group:"local",usage:"help [pattern]",description:"Show command document.",example:[{des:"Get all commands.",cmd:"help"},{des:"Get help documentation for exact match commands.",cmd:"help refresh"},{des:"Get help documentation for fuzzy matching commands.",cmd:"help *e*"},{des:"Get help documentation for specified group, match key must start with ':'.",cmd:"help :groupA"}]},{key:"clear",title:"Clear screen or history logs",group:"local",usage:"clear [history]",description:"Clear screen or history.",example:[{cmd:"clear",des:"Clear all records on the current screen."},{cmd:"clear history",des:"Clear command history"}]},{key:"open",title:"Open page",group:"local",usage:"open <url>",description:"Open a specified page.",example:[{cmd:"open blog.beifengtz.com"}]}],jS="rgb(0,0,0)",NS="rgb(128,0,0)",YS="rgb(0,128,0)",BS="rgb(128,128,0)",VS="rgb(0,0,128)",XS="rgb(128,0,128)",WS="rgb(0,128,128)",US="rgb(192,192,192)",FS="rgb(128,128,128)",zS="rgb(255,0,0)",qS="rgb(0,255,0)",GS="rgb(255,255,0)",HS="rgb(0,0,255)",KS="rgb(255,0,255)",JS="rgb(0,255,255)",ew="rgb(255,255,255)",tw="rgb(0,0,0)",iw="rgb(0,0,95)",nw="rgb(0,0,135)",rw="rgb(0,0,175)",sw="rgb(0,0,215)",ow="rgb(0,0,255)",aw="rgb(0,95,0)",lw="rgb(0,95,95)",cw="rgb(0,95,135)",hw="rgb(0,95,175)",uw="rgb(0,95,215)",fw="rgb(0,95,255)",dw="rgb(0,135,0)",pw="rgb(0,135,95)",gw="rgb(0,135,135)",mw="rgb(0,135,175)",Ow="rgb(0,135,215)",bw="rgb(0,135,255)",vw="rgb(0,175,0)",yw="rgb(0,175,95)",xw="rgb(0,175,135)",Sw="rgb(0,175,175)",ww="rgb(0,175,215)",kw="rgb(0,175,255)",Cw="rgb(0,215,0)",$w="rgb(0,215,95)",_w="rgb(0,215,135)",Pw="rgb(0,215,175)",Tw="rgb(0,215,215)",Qw="rgb(0,215,255)",Aw="rgb(0,255,0)",Ew="rgb(0,255,95)",Rw="rgb(0,255,135)",Iw="rgb(0,255,175)",Zw="rgb(0,255,215)",Mw="rgb(0,255,255)",Dw="rgb(95,0,0)",Lw="rgb(95,0,95)",jw="rgb(95,0,135)",Nw="rgb(95,0,175)",Yw="rgb(95,0,215)",Bw="rgb(95,0,255)",Vw="rgb(95,95,0)",Xw="rgb(95,95,95)",Ww="rgb(95,95,135)",Uw="rgb(95,95,175)",Fw="rgb(95,95,215)",zw="rgb(95,95,255)",qw="rgb(95,135,0)",Gw="rgb(95,135,95)",Hw="rgb(95,135,135)",Kw="rgb(95,135,175)",Jw="rgb(95,135,215)",ek="rgb(95,135,255)",tk="rgb(95,175,0)",ik="rgb(95,175,95)",nk="rgb(95,175,135)",rk="rgb(95,175,175)",sk="rgb(95,175,215)",ok="rgb(95,175,255)",ak="rgb(95,215,0)",lk="rgb(95,215,95)",ck="rgb(95,215,135)",hk="rgb(95,215,175)",uk="rgb(95,215,215)",fk="rgb(95,215,255)",dk="rgb(95,255,0)",pk="rgb(95,255,95)",gk="rgb(95,255,135)",mk="rgb(95,255,175)",Ok="rgb(95,255,215)",bk="rgb(95,255,255)",vk="rgb(135,0,0)",yk="rgb(135,0,95)",xk="rgb(135,0,135)",Sk="rgb(135,0,175)",wk="rgb(135,0,215)",kk="rgb(135,0,255)",Ck="rgb(135,95,0)",$k="rgb(135,95,95)",_k="rgb(135,95,135)",Pk="rgb(135,95,175)",Tk="rgb(135,95,215)",Qk="rgb(135,95,255)",Ak="rgb(135,135,0)",Ek="rgb(135,135,95)",Rk="rgb(135,135,135)",Ik="rgb(135,135,175)",Zk="rgb(135,135,215)",Mk="rgb(135,135,255)",Dk="rgb(135,175,0)",Lk="rgb(135,175,95)",jk="rgb(135,175,135)",Nk="rgb(135,175,175)",Yk="rgb(135,175,215)",Bk="rgb(135,175,255)",Vk="rgb(135,215,0)",Xk="rgb(135,215,95)",Wk="rgb(135,215,135)",Uk="rgb(135,215,175)",Fk="rgb(135,215,215)",zk="rgb(135,215,255)",qk="rgb(135,255,0)",Gk="rgb(135,255,95)",Hk="rgb(135,255,135)",Kk="rgb(135,255,175)",Jk="rgb(135,255,215)",e2="rgb(135,255,255)",t2="rgb(175,0,0)",i2="rgb(175,0,95)",n2="rgb(175,0,135)",r2="rgb(175,0,175)",s2="rgb(175,0,215)",o2="rgb(175,0,255)",a2="rgb(175,95,0)",l2="rgb(175,95,95)",c2="rgb(175,95,135)",h2="rgb(175,95,175)",u2="rgb(175,95,215)",f2="rgb(175,95,255)",d2="rgb(175,135,0)",p2="rgb(175,135,95)",g2="rgb(175,135,135)",m2="rgb(175,135,175)",O2="rgb(175,135,215)",b2="rgb(175,135,255)",v2="rgb(175,175,0)",y2="rgb(175,175,95)",x2="rgb(175,175,135)",S2="rgb(175,175,175)",w2="rgb(175,175,215)",k2="rgb(175,175,255)",C2="rgb(175,215,0)",$2="rgb(175,215,95)",_2="rgb(175,215,135)",P2="rgb(175,215,175)",T2="rgb(175,215,215)",Q2="rgb(175,215,255)",A2="rgb(175,255,0)",E2="rgb(175,255,95)",R2="rgb(175,255,135)",I2="rgb(175,255,175)",Z2="rgb(175,255,215)",M2="rgb(175,255,255)",D2="rgb(215,0,0)",L2="rgb(215,0,95)",j2="rgb(215,0,135)",N2="rgb(215,0,175)",Y2="rgb(215,0,215)",B2="rgb(215,0,255)",V2="rgb(215,95,0)",X2="rgb(215,95,95)",W2="rgb(215,95,135)",U2="rgb(215,95,175)",F2="rgb(215,95,215)",z2="rgb(215,95,255)",q2="rgb(215,135,0)",G2="rgb(215,135,95)",H2="rgb(215,135,135)",K2="rgb(215,135,175)",J2="rgb(215,135,215)",eC="rgb(215,135,255)",tC="rgb(215,175,0)",iC="rgb(215,175,95)",nC="rgb(215,175,135)",rC="rgb(215,175,175)",sC="rgb(215,175,215)",oC="rgb(215,175,255)",aC="rgb(215,215,0)",lC="rgb(215,215,95)",cC="rgb(215,215,135)",hC="rgb(215,215,175)",uC="rgb(215,215,215)",fC="rgb(215,215,255)",dC="rgb(215,255,0)",pC="rgb(215,255,95)",gC="rgb(215,255,135)",mC="rgb(215,255,175)",OC="rgb(215,255,215)",bC="rgb(215,255,255)",vC="rgb(255,0,0)",yC="rgb(255,0,95)",xC="rgb(255,0,135)",SC="rgb(255,0,175)",wC="rgb(255,0,215)",kC="rgb(255,0,255)",CC="rgb(255,95,0)",$C="rgb(255,95,95)",_C="rgb(255,95,135)",PC="rgb(255,95,175)",TC="rgb(255,95,215)",QC="rgb(255,95,255)",AC="rgb(255,135,0)",EC="rgb(255,135,95)",RC="rgb(255,135,135)",IC="rgb(255,135,175)",ZC="rgb(255,135,215)",MC="rgb(255,135,255)",DC="rgb(255,175,0)",LC="rgb(255,175,95)",jC="rgb(255,175,135)",NC="rgb(255,175,175)",YC="rgb(255,175,215)",BC="rgb(255,175,255)",VC="rgb(255,215,0)",XC="rgb(255,215,95)",WC="rgb(255,215,135)",UC="rgb(255,215,175)",FC="rgb(255,215,215)",zC="rgb(255,215,255)",qC="rgb(255,255,0)",GC="rgb(255,255,95)",HC="rgb(255,255,135)",KC="rgb(255,255,175)",JC="rgb(255,255,215)",e$="rgb(255,255,255)",t$="rgb(8,8,8)",i$="rgb(18,18,18)",n$="rgb(28,28,28)",r$="rgb(38,38,38)",s$="rgb(48,48,48)",o$="rgb(58,58,58)",a$="rgb(68,68,68)",l$="rgb(78,78,78)",c$="rgb(88,88,88)",h$="rgb(98,98,98)",u$="rgb(108,108,108)",f$="rgb(118,118,118)",d$="rgb(128,128,128)",p$="rgb(138,138,138)",g$="rgb(148,148,148)",m$="rgb(158,158,158)",O$="rgb(168,168,168)",b$="rgb(178,178,178)",v$="rgb(188,188,188)",y$="rgb(198,198,198)",x$="rgb(208,208,208)",S$="rgb(218,218,218)",w$="rgb(228,228,228)",k$="rgb(238,238,238)",Nd={c0:jS,c1:NS,c2:YS,c3:BS,c4:VS,c5:XS,c6:WS,c7:US,c8:FS,c9:zS,c10:qS,c11:GS,c12:HS,c13:KS,c14:JS,c15:ew,c16:tw,c17:iw,c18:nw,c19:rw,c20:sw,c21:ow,c22:aw,c23:lw,c24:cw,c25:hw,c26:uw,c27:fw,c28:dw,c29:pw,c30:gw,c31:mw,c32:Ow,c33:bw,c34:vw,c35:yw,c36:xw,c37:Sw,c38:ww,c39:kw,c40:Cw,c41:$w,c42:_w,c43:Pw,c44:Tw,c45:Qw,c46:Aw,c47:Ew,c48:Rw,c49:Iw,c50:Zw,c51:Mw,c52:Dw,c53:Lw,c54:jw,c55:Nw,c56:Yw,c57:Bw,c58:Vw,c59:Xw,c60:Ww,c61:Uw,c62:Fw,c63:zw,c64:qw,c65:Gw,c66:Hw,c67:Kw,c68:Jw,c69:ek,c70:tk,c71:ik,c72:nk,c73:rk,c74:sk,c75:ok,c76:ak,c77:lk,c78:ck,c79:hk,c80:uk,c81:fk,c82:dk,c83:pk,c84:gk,c85:mk,c86:Ok,c87:bk,c88:vk,c89:yk,c90:xk,c91:Sk,c92:wk,c93:kk,c94:Ck,c95:$k,c96:_k,c97:Pk,c98:Tk,c99:Qk,c100:Ak,c101:Ek,c102:Rk,c103:Ik,c104:Zk,c105:Mk,c106:Dk,c107:Lk,c108:jk,c109:Nk,c110:Yk,c111:Bk,c112:Vk,c113:Xk,c114:Wk,c115:Uk,c116:Fk,c117:zk,c118:qk,c119:Gk,c120:Hk,c121:Kk,c122:Jk,c123:e2,c124:t2,c125:i2,c126:n2,c127:r2,c128:s2,c129:o2,c130:a2,c131:l2,c132:c2,c133:h2,c134:u2,c135:f2,c136:d2,c137:p2,c138:g2,c139:m2,c140:O2,c141:b2,c142:v2,c143:y2,c144:x2,c145:S2,c146:w2,c147:k2,c148:C2,c149:$2,c150:_2,c151:P2,c152:T2,c153:Q2,c154:A2,c155:E2,c156:R2,c157:I2,c158:Z2,c159:M2,c160:D2,c161:L2,c162:j2,c163:N2,c164:Y2,c165:B2,c166:V2,c167:X2,c168:W2,c169:U2,c170:F2,c171:z2,c172:q2,c173:G2,c174:H2,c175:K2,c176:J2,c177:eC,c178:tC,c179:iC,c180:nC,c181:rC,c182:sC,c183:oC,c184:aC,c185:lC,c186:cC,c187:hC,c188:uC,c189:fC,c190:dC,c191:pC,c192:gC,c193:mC,c194:OC,c195:bC,c196:vC,c197:yC,c198:xC,c199:SC,c200:wC,c201:kC,c202:CC,c203:$C,c204:_C,c205:PC,c206:TC,c207:QC,c208:AC,c209:EC,c210:RC,c211:IC,c212:ZC,c213:MC,c214:DC,c215:LC,c216:jC,c217:NC,c218:YC,c219:BC,c220:VC,c221:XC,c222:WC,c223:UC,c224:FC,c225:zC,c226:qC,c227:GC,c228:HC,c229:KC,c230:JC,c231:e$,c232:t$,c233:i$,c234:n$,c235:r$,c236:s$,c237:o$,c238:a$,c239:l$,c240:c$,c241:h$,c242:u$,c243:f$,c244:d$,c245:p$,c246:g$,c247:m$,c248:O$,c249:b$,c250:v$,c251:y$,c252:x$,c253:S$,c254:w$,c255:k$},C$="\0",$$="\x07",ri="\x1B",_$=ri+"[",P$=ri+"]",T$=ri+"^",Q$=ri+"=",A$=ri+">",E$=ri+"(",R$=ri+")",I$=ri+"*",Z$=ri+"+",M$=ri+"%",D$=ri+"#";function L$(t,e="windows"){let i=[""],n={attachStyle:"",styleFlag:[]};function r(){i[i.length-1]='<div class="t-ansi-line">'+i[i.length-1]+"</div>",i.push("")}function s(a){try{let l=a.split("");for(let c of l){let h,u="t-ansi-char";n.styleFlag.length>0?(n.styleFlag.forEach(f=>u+=" t-ansi-"+parseInt(String(f))),h=`<span class="${u}" style="${n.attachStyle}">${c}</span>`):h=`<span class="${u}" style="${n.attachStyle}">${c}</span>`,i[i.length-1]=i[i.length-1]+h}}catch(l){console.error("Can not fill char: "+a.toString(),l)}}let o=Array.from(t);for(let a=0;a<o.length;a++){let l=o[a];if(l!==C$){if(l===ri){let c=t.substring(a,a+2),h=a;if(c===_$){const u=/[@ABCDEFGHIJKLMPSTXZ`"bcdfghilmnpqrstwxz]/;let f;for(h=a+1;h<o.length-1;){let p=o[++h];if(u.test(p.toString())){if(p==="`"&&h+1<o.length){let g=o[h+1];if(/[wz{|]/.test(g.toString())){f=p+g,h++;break}}else if(p==='"'&&h+1<o.length){let g=o[h+1];if(/[pq]/.test(g.toString())){f=p+g,h++;break}}else if(p==="&"&&h+1<o.length){let g=o[h+1];if(g==="w"){f=p+g,h++;break}}f=p;break}}let d=t.substring(a,h+1);if(f==="m"){let p=d.substring(2,d.length-1);p.length===0&&(p="0"),n.styleFlag=[];for(let g of p.split(";")){let m=parseInt(g);m===0?(n.attachStyle="",n.styleFlag=[]):n.styleFlag.push(m)}n.styleFlag.length===3&&(n.styleFlag[0]===38&&n.styleFlag[1]===5?(n.attachStyle+=`color:${Nd["c"+n.styleFlag[2]]};`,n.styleFlag=[]):n.styleFlag[0]===48&&n.styleFlag[1]===5?(n.attachStyle+=`background-color:${Nd["c"+n.styleFlag[2]]};`,n.styleFlag=[]):n.attachStyle="")}}else if(c===P$){let u=a+1;for(;u<=o.length;)if(u++,o[u]===$$){h=u;break}else if(o[u]===ri&&o[u]==="\\"){h=u+1;break}}else if(c===T$){let u=a+1;for(;u<o.length&&(++u,o[u]!=="\\"););h=u}else c===Q$||c===A$?h=a+1:(c===E$||c===R$||I$||Z$||c===M$||c===D$)&&(h=a+2);a=h;continue}else if(l==="\r"){e==="windows"?a+1<o.length&&o[a+1]===`
`?(r(),a++):r():e==="mac"&&r();continue}else if(l===`
`){r();continue}else{if(l==="\b")continue;if(l==="	"){s(" ".repeat(4));continue}else if(l>="\0"&&l<="")continue}s(l)}}return i.join("")}const Do=t=>(QO("data-v-d043b957"),t=t(),AO(),t),j$={class:"t-header"},N$={style:{display:"inline-block"}},Y$={class:"t-shell-dots"},B$=Do(()=>Z("svg",{t:"1645078279626",class:"t-shell-dot",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1864",width:"10",height:"10"},[Z("path",{d:"M544.448 499.2l284.576-284.576a32 32 0 0 0-45.248-45.248L499.2 453.952 214.624 169.376a32 32 0 0 0-45.248 45.248l284.576 284.576-284.576 284.576a32 32 0 0 0 45.248 45.248l284.576-284.576 284.576 284.576a31.904 31.904 0 0 0 45.248 0 32 32 0 0 0 0-45.248L544.448 499.2z","p-id":"1865",fill:"#1413139c"})],-1)),V$=[B$],X$=Do(()=>Z("svg",{t:"1645078503601",class:"t-shell-dot",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2762",width:"10",height:"10"},[Z("path",{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z","p-id":"2763",fill:"#1413139c"})],-1)),W$=[X$],U$=Do(()=>Z("svg",{t:"1645078604258",class:"t-shell-dot",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9907",width:"10",height:"10"},[Z("path",{d:"M188.373333 128H384c23.573333 0 42.666667-19.093333 42.666667-42.666667s-19.093333-42.666667-42.666667-42.666666H85.333333C61.76 42.666667 42.666667 61.76 42.666667 85.333333v298.666667c0 23.573333 19.093333 42.666667 42.666666 42.666667s42.666667-19.093333 42.666667-42.666667V188.373333L396.170667 456.533333a42.730667 42.730667 0 0 0 60.362666 0 42.741333 42.741333 0 0 0 0-60.362666L188.373333 128zM938.666667 597.002667c-23.573333 0-42.666667 19.093333-42.666667 42.666666v195.626667l-268.309333-268.16c-16.746667-16.64-43.893333-16.64-60.544 0s-16.650667 43.893333 0 60.533333L835.317333 896h-195.626666c-23.584 0-42.666667 19.093333-42.666667 42.666667s19.082667 42.666667 42.666667 42.666666h298.666666C961.92 981.333333 981.333333 961.92 981.333333 938.336v-298.666667c0-23.573333-19.093333-42.666667-42.666666-42.666666z","p-id":"9908",fill:"#1413139c"})],-1)),F$=[U$],z$={key:0,t:"1683254395548",class:"icon",viewBox:"0 0 1025 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4113",width:"18",height:"18"},q$=Do(()=>Z("path",{d:"M320 839.68l-238.592 174.08c-8.704 6.656-19.456 9.728-29.696 9.728-12.8 0-26.112-5.12-35.84-14.848-17.92-17.92-20.48-46.08-5.12-66.56l212.992-288.256L56.32 487.424C39.936 471.04 36.864 445.44 48.128 425.472c8.192-12.8 76.8-112.64 229.376-75.264 2.56 0.512 5.12 0.512 8.192 1.024 6.144 0.512 13.312 1.024 20.992 2.56 32.256 5.12 89.6-20.48 139.264-62.976 47.616-40.448 78.336-87.552 78.336-120.32 0-7.68 0-15.872-0.512-23.552-1.024-30.72-3.072-77.824 31.744-112.64 41.472-41.472 107.52-45.056 153.088-7.68 1.024 0.512 1.536 1.536 2.56 2.56 24.576 24.064 276.48 275.968 279.04 278.528 21.504 21.504 33.792 50.688 33.792 81.408s-11.776 59.392-33.792 80.896c-34.816 34.816-82.432 33.28-113.664 31.744-7.168 0-15.36-0.512-23.04-0.512-30.72 0-67.584 21.504-103.936 60.928-50.688 55.296-81.92 126.464-79.36 158.72 1.024 10.24 3.072 28.16 3.584 30.72 36.864 149.504-62.976 217.6-74.752 225.28-20.48 12.288-46.592 9.216-62.976-7.168l-165.376-165.376-50.688 35.328z","p-id":"4114",fill:"#daf3ef"},null,-1)),G$=[q$],H$={key:1,t:"1683166931100",class:"icon",viewBox:"0 0 1025 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2638",width:"18",height:"18"},K$=Do(()=>Z("path",{d:"M51.196068 1024c-13.021992 0-26.0184-5.091113-36.021541-15.094254-18.113104-18.164271-20.262117-46.050265-5.091113-66.337966l213.059228-288.325828-166.983379-166.983379C39.862586 470.961896 36.639068 445.48075 48.305135 425.2698c7.982046-12.612656 76.699275-112.82315 229.483822-75.010766 2.532765 0.307002 5.270197 0.537253 8.212297 0.793088 6.267953 0.537253 13.277827 1.17684 20.87612 2.404847 32.33752 5.244614 89.516599-20.722619 139.148552-63.037697 47.559691-40.49865 78.285451-87.751339 78.285451-120.344693 0-7.57271-0.179084-15.631507-0.358169-23.536802-1.279174-30.623426-3.223519-77.697031 31.979351-112.874317 41.649907-41.701074 107.552953-45.05251 153.270633-7.854129 0.921005 0.741921 1.76526 1.535009 2.583932 2.379264l-0.025583 0c24.585725 24.048472 276.608594 275.815506 279.243692 278.476188 21.694792 21.694792 33.642277 50.527374 33.693444 81.176384 0.025583 30.674593-11.896319 59.456009-33.539943 81.099634-35.023785 35.049369-82.353225 33.053857-113.565071 31.723516-7.393626-0.153501-15.478006-0.332585-23.025133-0.332585-30.828094 0-67.69389 21.592458-103.715431 60.760767-50.808793 55.260318-82.09739 126.63823-79.411124 158.617581 1.125673 10.258976 3.223519 28.37208 3.607271 30.930428 36.891379 149.612195-63.114447 217.843339-74.627013 225.109047-20.697036 12.484739-46.357267 9.389137-63.012113-7.240125l-178.393611-178.393611c-10.003141-10.003141-10.003141-26.171901 0-36.175042s26.171901-10.003141 36.175042 0l178.393611 178.393611c7.854129-5.091113 80.101878-54.646315 51.320462-171.76749-0.51167-2.35368-3.044434-23.562386-4.374775-35.970374-4.298025-51.115795 35.586622-136.027367 92.688951-198.118475 32.439854-35.254036 83.27423-77.287695 141.348731-77.287695 7.905296 0 16.399011 0.179084 24.662475 0.358169 32.41427 1.355924 58.048918 0.972172 75.77827-16.782763 11.973069-11.973069 18.548024-27.885994 18.548024-44.847842-0.025583-17.013015-6.677288-33.00269-18.701524-45.05251C952.220677 340.23031 683.849964 72.243349 675.944668 64.645055c-24.278723-19.724864-60.7096-17.882853-83.785899 5.21903-17.908437 17.908437-18.317772 43.491917-17.013015 75.087516 0.204668 8.800717 0.383752 17.243266 0.383752 25.148562 0 48.378362-35.995957 107.936705-96.270638 159.282751-49.478452 42.135993-122.979792 83.811483-180.491457 74.60143-6.293536-1.023339-12.049819-1.509425-17.192099-1.944345-3.325852-0.281418-6.421454-0.562837-9.312387-0.921005-2.456014-0.07675-4.860861-0.537253-7.188958-1.304758-117.760762-29.037251-167.597382 43.44075-172.893163 51.806549l182.742803 182.026466c8.954218 8.954218 10.028724 23.101883 2.481598 33.309692L51.170485 973.114457l238.617125-174.530506c11.435816-8.365798 27.425491-5.80745 35.740123 5.602782s5.80745 27.399908-5.602782 35.714539l-238.821793 174.12117C72.148939 1020.699731 61.685295 1024 51.196068 1024z",fill:"#e6e6e6","p-id":"2639"},null,-1)),J$=[K$],e_=me({__name:"THeader",props:{title:{type:String,default:"vue-web-terminal"},pinned:Boolean,draggable:Boolean},emits:["on-click"],setup(t,{emit:e}){const i=n=>{e("on-click",n)};return(n,r)=>(R(),j("div",j$,[Z("h4",N$,[Z("span",{onClick:r[0]||(r[0]=s=>i("title")),class:"t-disable-select",style:{cursor:"pointer"}},nt(t.title),1)]),Z("ul",Y$,[Z("li",{class:"shell-dot-item t-shell-dots-red",onClick:r[1]||(r[1]=s=>i("close"))},V$),Z("li",{class:"shell-dot-item t-shell-dots-yellow",onClick:r[2]||(r[2]=s=>i("minScreen"))},W$),Z("li",{class:"shell-dot-item t-shell-dots-green",onClick:r[3]||(r[3]=s=>i("fullScreen"))},F$)]),t.draggable?(R(),j("div",{key:0,class:"pin",onClick:r[4]||(r[4]=s=>i("pin"))},[t.pinned?(R(),j("svg",z$,G$)):(R(),j("svg",H$,J$))])):it("",!0)]))}}),NO=(t,e)=>{const i=t.__vccOpts||t;for(const[n,r]of e)i[n]=r;return i},t_=NO(e_,[["__scopeId","data-v-d043b957"]]),i_={class:"t-content-normal"},n_=["innerHTML"],r_=me({__name:"TViewerNormal",props:{message:Object,idx:[Number,String]},setup(t){return(e,i)=>(R(),j("span",i_,[G(Hi)(t.message.tag==null?t.message.class:t.message.tag)?(R(),j("span",{key:0,class:yr(t.message.class),style:{"margin-right":"10px"}},nt(t.message.tag==null?t.message.class:t.message.tag),3)):it("",!0),Z("span",{innerHTML:t.message.content},null,8,n_)]))}});var YO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function s_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function o_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var i=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(i,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),i}var BO={exports:{}};const a_=o_(nS);var Ic={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */var Yd;function l_(){return Yd||(Yd=1,function(t,e){(function(n,r){t.exports=r()})(YO,function(){return function(){var i={686:function(s,o,a){a.d(o,{default:function(){return ye}});var l=a(279),c=a.n(l),h=a(370),u=a.n(h),f=a(817),d=a.n(f);function p(ne){try{return document.execCommand(ne)}catch{return!1}}var g=function(U){var N=d()(U);return p("cut"),N},m=g;function b(ne){var U=document.documentElement.getAttribute("dir")==="rtl",N=document.createElement("textarea");N.style.fontSize="12pt",N.style.border="0",N.style.padding="0",N.style.margin="0",N.style.position="absolute",N.style[U?"right":"left"]="-9999px";var le=window.pageYOffset||document.documentElement.scrollTop;return N.style.top="".concat(le,"px"),N.setAttribute("readonly",""),N.value=ne,N}var v=function(U,N){var le=b(U);N.container.appendChild(le);var ce=d()(le);return p("copy"),le.remove(),ce},x=function(U){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},le="";return typeof U=="string"?le=v(U,N):U instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(U==null?void 0:U.type)?le=v(U.value,N):(le=d()(U),p("copy")),le},S=x;function y(ne){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?y=function(N){return typeof N}:y=function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},y(ne)}var $=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},N=U.action,le=N===void 0?"copy":N,ce=U.container,w=U.target,V=U.text;if(le!=="copy"&&le!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(w!==void 0)if(w&&y(w)==="object"&&w.nodeType===1){if(le==="copy"&&w.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(le==="cut"&&(w.hasAttribute("readonly")||w.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(V)return S(V,{container:ce});if(w)return le==="cut"?m(w):S(w,{container:ce})},k=$;function T(ne){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?T=function(N){return typeof N}:T=function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},T(ne)}function P(ne,U){if(!(ne instanceof U))throw new TypeError("Cannot call a class as a function")}function A(ne,U){for(var N=0;N<U.length;N++){var le=U[N];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(ne,le.key,le)}}function I(ne,U,N){return U&&A(ne.prototype,U),N&&A(ne,N),ne}function ie(ne,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(U&&U.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),U&&he(ne,U)}function he(ne,U){return he=Object.setPrototypeOf||function(le,ce){return le.__proto__=ce,le},he(ne,U)}function D(ne){var U=J();return function(){var le=oe(ne),ce;if(U){var w=oe(this).constructor;ce=Reflect.construct(le,arguments,w)}else ce=le.apply(this,arguments);return L(this,ce)}}function L(ne,U){return U&&(T(U)==="object"||typeof U=="function")?U:W(ne)}function W(ne){if(ne===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne}function J(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function oe(ne){return oe=Object.setPrototypeOf?Object.getPrototypeOf:function(N){return N.__proto__||Object.getPrototypeOf(N)},oe(ne)}function z(ne,U){var N="data-clipboard-".concat(ne);if(U.hasAttribute(N))return U.getAttribute(N)}var ae=function(ne){ie(N,ne);var U=D(N);function N(le,ce){var w;return P(this,N),w=U.call(this),w.resolveOptions(ce),w.listenClick(le),w}return I(N,[{key:"resolveOptions",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof ce.action=="function"?ce.action:this.defaultAction,this.target=typeof ce.target=="function"?ce.target:this.defaultTarget,this.text=typeof ce.text=="function"?ce.text:this.defaultText,this.container=T(ce.container)==="object"?ce.container:document.body}},{key:"listenClick",value:function(ce){var w=this;this.listener=u()(ce,"click",function(V){return w.onClick(V)})}},{key:"onClick",value:function(ce){var w=ce.delegateTarget||ce.currentTarget,V=this.action(w)||"copy",B=k({action:V,container:this.container,target:this.target(w),text:this.text(w)});this.emit(B?"success":"error",{action:V,text:B,trigger:w,clearSelection:function(){w&&w.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(ce){return z("action",ce)}},{key:"defaultTarget",value:function(ce){var w=z("target",ce);if(w)return document.querySelector(w)}},{key:"defaultText",value:function(ce){return z("text",ce)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(ce){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return S(ce,w)}},{key:"cut",value:function(ce){return m(ce)}},{key:"isSupported",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],w=typeof ce=="string"?[ce]:ce,V=!!document.queryCommandSupported;return w.forEach(function(B){V=V&&!!document.queryCommandSupported(B)}),V}}]),N}(c()),ye=ae},828:function(s){var o=9;if(typeof Element<"u"&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}function l(c,h){for(;c&&c.nodeType!==o;){if(typeof c.matches=="function"&&c.matches(h))return c;c=c.parentNode}}s.exports=l},438:function(s,o,a){var l=a(828);function c(f,d,p,g,m){var b=u.apply(this,arguments);return f.addEventListener(p,b,m),{destroy:function(){f.removeEventListener(p,b,m)}}}function h(f,d,p,g,m){return typeof f.addEventListener=="function"?c.apply(null,arguments):typeof p=="function"?c.bind(null,document).apply(null,arguments):(typeof f=="string"&&(f=document.querySelectorAll(f)),Array.prototype.map.call(f,function(b){return c(b,d,p,g,m)}))}function u(f,d,p,g){return function(m){m.delegateTarget=l(m.target,d),m.delegateTarget&&g.call(f,m)}}s.exports=h},879:function(s,o){o.node=function(a){return a!==void 0&&a instanceof HTMLElement&&a.nodeType===1},o.nodeList=function(a){var l=Object.prototype.toString.call(a);return a!==void 0&&(l==="[object NodeList]"||l==="[object HTMLCollection]")&&"length"in a&&(a.length===0||o.node(a[0]))},o.string=function(a){return typeof a=="string"||a instanceof String},o.fn=function(a){var l=Object.prototype.toString.call(a);return l==="[object Function]"}},370:function(s,o,a){var l=a(879),c=a(438);function h(p,g,m){if(!p&&!g&&!m)throw new Error("Missing required arguments");if(!l.string(g))throw new TypeError("Second argument must be a String");if(!l.fn(m))throw new TypeError("Third argument must be a Function");if(l.node(p))return u(p,g,m);if(l.nodeList(p))return f(p,g,m);if(l.string(p))return d(p,g,m);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function u(p,g,m){return p.addEventListener(g,m),{destroy:function(){p.removeEventListener(g,m)}}}function f(p,g,m){return Array.prototype.forEach.call(p,function(b){b.addEventListener(g,m)}),{destroy:function(){Array.prototype.forEach.call(p,function(b){b.removeEventListener(g,m)})}}}function d(p,g,m){return c(document.body,p,g,m)}s.exports=h},817:function(s){function o(a){var l;if(a.nodeName==="SELECT")a.focus(),l=a.value;else if(a.nodeName==="INPUT"||a.nodeName==="TEXTAREA"){var c=a.hasAttribute("readonly");c||a.setAttribute("readonly",""),a.select(),a.setSelectionRange(0,a.value.length),c||a.removeAttribute("readonly"),l=a.value}else{a.hasAttribute("contenteditable")&&a.focus();var h=window.getSelection(),u=document.createRange();u.selectNodeContents(a),h.removeAllRanges(),h.addRange(u),l=h.toString()}return l}s.exports=o},279:function(s){function o(){}o.prototype={on:function(a,l,c){var h=this.e||(this.e={});return(h[a]||(h[a]=[])).push({fn:l,ctx:c}),this},once:function(a,l,c){var h=this;function u(){h.off(a,u),l.apply(c,arguments)}return u._=l,this.on(a,u,c)},emit:function(a){var l=[].slice.call(arguments,1),c=((this.e||(this.e={}))[a]||[]).slice(),h=0,u=c.length;for(h;h<u;h++)c[h].fn.apply(c[h].ctx,l);return this},off:function(a,l){var c=this.e||(this.e={}),h=c[a],u=[];if(h&&l)for(var f=0,d=h.length;f<d;f++)h[f].fn!==l&&h[f].fn._!==l&&u.push(h[f]);return u.length?c[a]=u:delete c[a],this}},s.exports=o,s.exports.TinyEmitter=o}},n={};function r(s){if(n[s])return n[s].exports;var o=n[s]={exports:{}};return i[s](o,o.exports,r),o.exports}return function(){r.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return r.d(o,{a:o}),o}}(),function(){r.d=function(s,o){for(var a in o)r.o(o,a)&&!r.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:o[a]})}}(),function(){r.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)}}(),r(686)}().default})}(Ic)),Ic.exports}(function(t,e){(function(i,n){t.exports=n(a_,l_())})(YO,function(i,n){return o={},r.m=s=[function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.default=(h,u)=>{const f=h.__vccOpts||h;for(var[d,p]of u)f[d]=p;return f}},function(a,l){a.exports=i},function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),d(c(1));var h=d(c(22)),u=d(c(42)),f=c(43);function d(p){return p&&p.__esModule?p:{default:p}}l.default={name:"JsonViewer",components:{JsonBox:h.default},props:{value:{type:[Object,Array,String,Number,Boolean,Function],required:!0},expanded:{type:Boolean,default:!1},expandDepth:{type:Number,default:1},copyable:{type:[Boolean,Object],default:!1},sort:{type:Boolean,default:!1},boxed:{type:Boolean,default:!1},theme:{type:String,default:"jv-light"},timeformat:{type:Function,default:function(p){return p.toLocaleString()}},previewMode:{type:Boolean,default:!1},showArrayIndex:{type:Boolean,default:!0},showDoubleQuotes:{type:Boolean,default:!1}},provide:function(){return{expandDepth:this.expandDepth,timeformat:this.timeformat,onKeyclick:this.onKeyclick}},data:function(){return{copied:!1,expandableCode:!1,expandCode:this.expanded}},computed:{jvClass:function(){return"jv-container "+this.theme+(this.boxed?" boxed":"")},copyText:function(){var p=this.copyable;return{copyText:p.copyText||"copy",copiedText:p.copiedText||"copied!",timeout:p.timeout||2e3,align:p.align}}},watch:{value:function(){this.onResized()}},mounted:function(){var p=this;this.debounceResized=(0,f.debounce)(this.debResized.bind(this),200),this.boxed&&this.$refs.jsonBox&&(this.onResized(),this.$refs.jsonBox.$el.addEventListener("resized",this.onResized,!0)),this.copyable&&new u.default(this.$refs.clip,{container:this.$refs.viewer,text:function(){return JSON.stringify(p.value,null,2)}}).on("success",function(g){p.onCopied(g)})},methods:{onResized:function(){this.debounceResized()},debResized:function(){var p=this;this.$nextTick(function(){p.$refs.jsonBox&&(250<=p.$refs.jsonBox.$el.clientHeight?p.expandableCode=!0:p.expandableCode=!1)})},onCopied:function(p){var g=this;this.copied||(this.copied=!0,setTimeout(function(){g.copied=!1},this.copyText.timeout),this.$emit("copied",p))},toggleExpandCode:function(){this.expandCode=!this.expandCode},onKeyclick:function(p){this.$emit("keyclick",p)}}}},function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0});var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},u=c(1),f=S(c(31)),d=S(c(32)),p=S(c(33)),g=S(c(34)),m=S(c(35)),b=S(c(36)),v=S(c(37)),x=S(c(38));function S(y){return y&&y.__esModule?y:{default:y}}l.default={name:"JsonBox",inject:["expandDepth","onKeyclick"],props:{value:{type:[Object,Array,String,Number,Boolean,Function,Date],default:null},keyName:{type:String,default:""},sort:Boolean,depth:{type:Number,default:0},previewMode:Boolean,forceExpand:Boolean,showArrayIndex:Boolean,showDoubleQuotes:Boolean,path:{type:String,default:"$"}},data:function(){return{expand:!0,forceExpandMe:this.forceExpand}},mounted:function(){this.expand=this.previewMode||!(this.depth>=this.expandDepth)||this.forceExpandMe},methods:{toggle:function(){this.expand=!this.expand,this.dispatchEvent()},toggleAll:function(){this.expand=!this.expand,this.forceExpandMe=this.expand,this.dispatchEvent()},dispatchEvent:function(){try{this.$el.dispatchEvent(new Event("resized"))}catch{var y=document.createEvent("Event");y.initEvent("resized",!0,!1),this.$el.dispatchEvent(y)}},getPath:function(){for(var y=[this.keyName],$=this.$parent;$.depth;)$.$el.classList.contains("jv-node")&&y.push($.keyName),$=$.$parent;return y.reverse()}},render:function(){var y=this,$=[],k=void 0;this.value===null||this.value===void 0?k=d.default:Array.isArray(this.value)?k=b.default:Object.prototype.toString.call(this.value)==="[object Date]"?k=x.default:h(this.value)==="object"?k=m.default:typeof this.value=="number"?k=p.default:typeof this.value=="string"?k=f.default:typeof this.value=="boolean"?k=g.default:typeof this.value=="function"&&(k=v.default);var T=this.keyName&&this.value&&(Array.isArray(this.value)||h(this.value)==="object"&&Object.prototype.toString.call(this.value)!=="[object Date]");return!this.previewMode&&T&&$.push((0,u.h)("span",{class:{"jv-toggle":!0,open:!!this.expand},onClick:function(P){P.altKey?y.toggleAll():y.toggle()}})),this.keyName&&$.push((0,u.h)("span",{class:{"jv-key":!0},innerText:this.showDoubleQuotes?'"'+this.keyName+'":':this.keyName+":",onClick:function(){y.onKeyclick(y.path)}})),$.push((0,u.h)(k,{class:{"jv-push":!0},jsonValue:this.value,keyName:this.keyName,sort:this.sort,depth:this.depth,expand:this.expand,previewMode:this.previewMode,forceExpand:this.forceExpandMe,showArrayIndex:this.showArrayIndex,showDoubleQuotes:this.showDoubleQuotes,path:this.path,"onUpdate:expand":function(P){y.expand=P},"onUpdate:expandAll":function(P){y.expand=P,y.forceExpandMe=y.expand}})),(0,u.h)("div",{class:{"jv-node":!0,"jv-key-node":!!this.keyName&&!T,toggle:!this.previewMode&&T}},$)}}},function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0});var h=c(1),u=/^\w+:\/\//;l.default={name:"JsonString",props:{jsonValue:{type:String,required:!0}},data:function(){return{expand:!0,canExtend:!1}},mounted:function(){this.$refs.itemRef.offsetHeight>this.$refs.holderRef.offsetHeight&&(this.canExtend=!0)},methods:{toggle:function(){this.expand=!this.expand}},render:function(){var f=this.jsonValue,d=u.test(f),p=void 0;return this.expand?(p={class:{"jv-item":!0,"jv-string":!0},ref:"itemRef"},d?p.innerHTML='"'+(f='<a href="'+f+'" target="_blank" class="jv-link">'+f+"</a>").toString()+'"':p.innerText='"'+f.toString()+'"'):p={class:{"jv-ellipsis":!0},onClick:this.toggle,innerText:"..."},(0,h.h)("span",{},[this.canExtend&&(0,h.h)("span",{class:{"jv-toggle":!0,open:this.expand},onClick:this.toggle}),(0,h.h)("span",{class:{"jv-holder-node":!0},ref:"holderRef"}),(0,h.h)("span",p)])}}},function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0});var h=c(1);l.default={name:"JsonUndefined",functional:!0,props:{jsonValue:{type:Object,default:null}},render:function(){return(0,h.h)("span",{class:{"jv-item":!0,"jv-undefined":!0},innerText:this.jsonValue===null?"null":"undefined"})}}},function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0});var h=c(1);l.default={name:"JsonNumber",functional:!0,props:{jsonValue:{type:Number,required:!0}},render:function(){var u=Number.isInteger(this.jsonValue);return(0,h.h)("span",{class:{"jv-item":!0,"jv-number":!0,"jv-number-integer":u,"jv-number-float":!u},innerText:this.jsonValue.toString()})}}},function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0});var h=c(1);l.default={name:"JsonBoolean",functional:!0,props:{jsonValue:Boolean},render:function(){return(0,h.h)("span",{class:{"jv-item":!0,"jv-boolean":!0},innerText:this.jsonValue.toString()})}}},function(a,l,u){Object.defineProperty(l,"__esModule",{value:!0});var h=u(1),u=u(22),f=(u=u)&&u.__esModule?u:{default:u};l.default={name:"JsonObject",props:{jsonValue:{type:Object,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},expand:Boolean,forceExpand:Boolean,sort:Boolean,previewMode:Boolean,showArrayIndex:Boolean,showDoubleQuotes:Boolean,path:String},data:function(){return{value:{}}},computed:{ordered:function(){var d=this;if(!this.sort)return this.value;var p={};return Object.keys(this.value).sort().forEach(function(g){p[g]=d.value[g]}),p}},watch:{jsonValue:function(d){this.setValue(d)}},mounted:function(){this.setValue(this.jsonValue)},methods:{setValue:function(d){var p=this;setTimeout(function(){p.value=d},0)},toggle:function(){this.$emit("update:expand",!this.expand),this.dispatchEvent()},toggleAll:function(){this.$emit("update:expandAll",!this.expand),this.dispatchEvent()},dispatchEvent:function(){try{this.$el.dispatchEvent(new Event("resized"))}catch{var d=document.createEvent("Event");d.initEvent("resized",!0,!1),this.$el.dispatchEvent(d)}}},render:function(){var d,p=this,g=[];if(this.previewMode||this.keyName||g.push((0,h.h)("span",{class:{"jv-toggle":!0,open:!!this.expand},onClick:function(b){b.altKey?p.toggleAll():p.toggle()}})),g.push((0,h.h)("span",{class:{"jv-item":!0,"jv-object":!0},innerText:"{"})),this.expand)for(var m in this.ordered)this.ordered.hasOwnProperty(m)&&(d=this.ordered[m],g.push((0,h.h)(f.default,{key:m,style:{display:this.expand?void 0:"none"},sort:this.sort,keyName:m,depth:this.depth+1,value:d,previewMode:this.previewMode,forceExpand:this.forceExpand,showArrayIndex:this.showArrayIndex,showDoubleQuotes:this.showDoubleQuotes,path:this.path+"."+m})));return!this.expand&&Object.keys(this.value).length&&g.push((0,h.h)("span",{class:{"jv-ellipsis":!0},onClick:function(b){b.altKey?p.toggleAll():p.toggle()},title:"click to reveal object content (keys: "+Object.keys(this.ordered).join(", ")+")",innerText:"..."})),g.push((0,h.h)("span",{class:{"jv-item":!0,"jv-object":!0},innerText:"}"})),(0,h.h)("span",g)}}},function(a,l,u){Object.defineProperty(l,"__esModule",{value:!0});var h=u(1),u=u(22),f=(u=u)&&u.__esModule?u:{default:u};l.default={name:"JsonArray",props:{jsonValue:{type:Array,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},sort:Boolean,expand:Boolean,forceExpand:Boolean,previewMode:Boolean,showArrayIndex:Boolean,showDoubleQuotes:Boolean,path:String},data:function(){return{value:[]}},watch:{jsonValue:function(d){this.setValue(d)}},mounted:function(){this.setValue(this.jsonValue)},methods:{setValue:function(d){var p=this,g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0;g===0&&(this.value=[]),setTimeout(function(){d.length>g&&(p.value.push(d[g]),p.setValue(d,g+1))},0)},toggle:function(){this.$emit("update:expand",!this.expand),this.dispatchEvent()},toggleAll:function(){this.$emit("update:expandAll",!this.expand),this.dispatchEvent()},dispatchEvent:function(){try{this.$el.dispatchEvent(new Event("resized"))}catch{var d=document.createEvent("Event");d.initEvent("resized",!0,!1),this.$el.dispatchEvent(d)}}},render:function(){var d=this,p=[];return this.previewMode||this.keyName||p.push((0,h.h)("span",{class:{"jv-toggle":!0,open:!!this.expand},onClick:function(g){g.altKey?d.toggleAll():d.toggle()}})),p.push((0,h.h)("span",{class:{"jv-item":!0,"jv-array":!0},innerText:"["})),this.expand&&this.value.forEach(function(g,m){p.push((0,h.h)(f.default,{key:m,style:{display:d.expand?void 0:"none"},sort:d.sort,keyName:d.showArrayIndex?""+m:"",depth:d.depth+1,value:g,previewMode:d.previewMode,forceExpand:d.forceExpand,showArrayIndex:d.showArrayIndex,showDoubleQuotes:d.showDoubleQuotes,path:d.path+"."+m}))}),!this.expand&&this.value.length&&p.push((0,h.h)("span",{class:{"jv-ellipsis":!0},onClick:function(g){g.altKey?d.toggleAll():d.toggle()},title:"click to reveal "+this.value.length+" hidden items",innerText:"..."})),p.push((0,h.h)("span",{class:{"jv-item":!0,"jv-array":!0},innerText:"]"})),(0,h.h)("span",p)}}},function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0});var h=c(1);l.default={name:"JsonFunction",functional:!0,props:{jsonValue:{type:Function,required:!0}},render:function(){return(0,h.h)("span",{class:{"jv-item":!0,"jv-function":!0},attrs:{title:this.jsonValue.toString()},innerHTML:"&lt;function&gt;"})}}},function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0});var h=c(1);l.default={name:"JsonDate",inject:["timeformat"],functional:!0,props:{jsonValue:{type:Date,required:!0}},render:function(){var u=this.jsonValue,f=this.timeformat;return(0,h.h)("span",{class:{"jv-item":!0,"jv-string":!0},innerText:'"'+f(u)+'"'})}}},function(a,l,c){c.r(l);var h,u=c(2),f=c.n(u);for(h in c.d(l,"default",function(){return f.a}),u)["default","default"].indexOf(h)<0&&function(d){c.d(l,d,function(){return u[d]})}(h)},function(a,l,c){c.r(l);var h,u=c(3),f=c.n(u);for(h in c.d(l,"default",function(){return f.a}),u)["default","default"].indexOf(h)<0&&function(d){c.d(l,d,function(){return u[d]})}(h)},function(a,l,c){c.r(l);var h,u=c(4),f=c.n(u);for(h in c.d(l,"default",function(){return f.a}),u)["default","default"].indexOf(h)<0&&function(d){c.d(l,d,function(){return u[d]})}(h)},function(a,l,c){c.r(l);var h,u=c(5),f=c.n(u);for(h in c.d(l,"default",function(){return f.a}),u)["default","default"].indexOf(h)<0&&function(d){c.d(l,d,function(){return u[d]})}(h)},function(a,l,c){c.r(l);var h,u=c(6),f=c.n(u);for(h in c.d(l,"default",function(){return f.a}),u)["default","default"].indexOf(h)<0&&function(d){c.d(l,d,function(){return u[d]})}(h)},function(a,l,c){c.r(l);var h,u=c(7),f=c.n(u);for(h in c.d(l,"default",function(){return f.a}),u)["default","default"].indexOf(h)<0&&function(d){c.d(l,d,function(){return u[d]})}(h)},function(a,l,c){c.r(l);var h,u=c(8),f=c.n(u);for(h in c.d(l,"default",function(){return f.a}),u)["default","default"].indexOf(h)<0&&function(d){c.d(l,d,function(){return u[d]})}(h)},function(a,l,c){c.r(l);var h,u=c(9),f=c.n(u);for(h in c.d(l,"default",function(){return f.a}),u)["default","default"].indexOf(h)<0&&function(d){c.d(l,d,function(){return u[d]})}(h)},function(a,l,c){c.r(l);var h,u=c(10),f=c.n(u);for(h in c.d(l,"default",function(){return f.a}),u)["default","default"].indexOf(h)<0&&function(d){c.d(l,d,function(){return u[d]})}(h)},function(a,l,c){c.r(l);var h,u=c(11),f=c.n(u);for(h in c.d(l,"default",function(){return f.a}),u)["default","default"].indexOf(h)<0&&function(d){c.d(l,d,function(){return u[d]})}(h)},function(a,l,c){c.r(l);var h,u=c(13);for(h in u)h!=="default"&&function(d){c.d(l,d,function(){return u[d]})}(h);c(39);var f=c(0),f=c.n(f)()(u.default,[["__file","lib/json-box.vue"]]);l.default=f},function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.render=function(u,f,d,p,g,m){var b=(0,h.resolveComponent)("json-box");return(0,h.openBlock)(),(0,h.createElementBlock)("div",{ref:"viewer",class:(0,h.normalizeClass)(m.jvClass)},[d.copyable?((0,h.openBlock)(),(0,h.createElementBlock)("div",{key:0,class:(0,h.normalizeClass)("jv-tooltip "+(m.copyText.align||"right"))},[(0,h.createElementVNode)("span",{ref:"clip",class:(0,h.normalizeClass)(["jv-button",{copied:g.copied}])},[(0,h.renderSlot)(u.$slots,"copy",{copied:g.copied},function(){return[(0,h.createTextVNode)((0,h.toDisplayString)(g.copied?m.copyText.copiedText:m.copyText.copyText),1)]})],2)],2)):(0,h.createCommentVNode)("v-if",!0),(0,h.createElementVNode)("div",{class:(0,h.normalizeClass)(["jv-code",{open:g.expandCode,boxed:d.boxed}])},[(0,h.createVNode)(b,{ref:"jsonBox",value:d.value,sort:d.sort,"preview-mode":d.previewMode,"show-array-index":d.showArrayIndex,"show-double-quotes":d.showDoubleQuotes,onKeyclick:m.onKeyclick},null,8,["value","sort","preview-mode","show-array-index","show-double-quotes","onKeyclick"])],2),g.expandableCode&&d.boxed?((0,h.openBlock)(),(0,h.createElementBlock)("div",{key:1,class:"jv-more",onClick:f[0]||(f[0]=function(){return m.toggleExpandCode&&m.toggleExpandCode.apply(m,arguments)})},[(0,h.createElementVNode)("span",{class:(0,h.normalizeClass)(["jv-toggle",{open:!!g.expandCode}])},null,2)])):(0,h.createCommentVNode)("v-if",!0)],2)};var h=c(1)},function(a,l,c){var h=c(40);typeof h=="string"&&(h=[[a.i,h,""]]);var u={hmr:!0,transform:void 0};c(26)(h,u),h.locals&&(a.exports=h.locals)},function(a,l,c){a.exports=function(h){var u=[];return u.toString=function(){return this.map(function(f){var d=function(p,g){var m=p[1]||"",b=p[3];return b?g&&typeof btoa=="function"?(p=function(v){return v=btoa(unescape(encodeURIComponent(JSON.stringify(v)))),v="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(v),"/*# ".concat(v," */")}(b),g=b.sources.map(function(v){return"/*# sourceURL=".concat(b.sourceRoot||"").concat(v," */")}),[m].concat(g).concat([p]).join(`
`)):[m].join(`
`):m}(f,h);return f[2]?"@media ".concat(f[2]," {").concat(d,"}"):d}).join("")},u.i=function(f,d,p){typeof f=="string"&&(f=[[null,f,""]]);var g={};if(p)for(var m=0;m<this.length;m++){var b=this[m][0];b!=null&&(g[b]=!0)}for(var v=0;v<f.length;v++){var x=[].concat(f[v]);p&&g[x[0]]||(d&&(x[2]?x[2]="".concat(d," and ").concat(x[2]):x[2]=d),u.push(x))}},u}},function(a,l,c){var h,u,f,d={},p=(h=function(){return window&&document&&document.all&&!window.atob},function(){return u=u===void 0?h.apply(this,arguments):u}),g=(f={},function(D){if(f[D]===void 0){var L=(function(W){return document.querySelector(W)}).call(this,D);if(L instanceof window.HTMLIFrameElement)try{L=L.contentDocument.head}catch{L=null}f[D]=L}return f[D]}),m=null,b=0,v=[],x=c(41);function S(D,L){for(var W=0;W<D.length;W++){var J=D[W],oe=d[J.id];if(oe){oe.refs++;for(var z=0;z<oe.parts.length;z++)oe.parts[z](J.parts[z]);for(;z<J.parts.length;z++)oe.parts.push(A(J.parts[z],L))}else{for(var ae=[],z=0;z<J.parts.length;z++)ae.push(A(J.parts[z],L));d[J.id]={id:J.id,refs:1,parts:ae}}}}function y(D,L){for(var W=[],J={},oe=0;oe<D.length;oe++){var ae=D[oe],z=L.base?ae[0]+L.base:ae[0],ae={css:ae[1],media:ae[2],sourceMap:ae[3]};J[z]?J[z].parts.push(ae):W.push(J[z]={id:z,parts:[ae]})}return W}function $(D,L){var W=g(D.insertInto);if(!W)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var J=v[v.length-1];if(D.insertAt==="top")J?J.nextSibling?W.insertBefore(L,J.nextSibling):W.appendChild(L):W.insertBefore(L,W.firstChild),v.push(L);else if(D.insertAt==="bottom")W.appendChild(L);else{if(typeof D.insertAt!="object"||!D.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);D=g(D.insertInto+" "+D.insertAt.before),W.insertBefore(L,D)}}function k(D){D.parentNode!==null&&(D.parentNode.removeChild(D),0<=(D=v.indexOf(D))&&v.splice(D,1))}function T(D){var L=document.createElement("style");return D.attrs.type="text/css",P(L,D.attrs),$(D,L),L}function P(D,L){Object.keys(L).forEach(function(W){D.setAttribute(W,L[W])})}function A(D,L){var W,J,oe,z,ae;if(L.transform&&D.css){if(!(z=L.transform(D.css)))return function(){};D.css=z}return oe=L.singleton?(ae=b++,W=m=m||T(L),J=he.bind(null,W,ae,!1),he.bind(null,W,ae,!0)):D.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(z=L,ae=document.createElement("link"),z.attrs.type="text/css",z.attrs.rel="stylesheet",P(ae,z.attrs),$(z,ae),W=ae,J=(function(ye,ne,ce){var N=ce.css,le=ce.sourceMap,ce=ne.convertToAbsoluteUrls===void 0&&le;(ne.convertToAbsoluteUrls||ce)&&(N=x(N)),le&&(N+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(le))))+" */"),le=new Blob([N],{type:"text/css"}),N=ye.href,ye.href=URL.createObjectURL(le),N&&URL.revokeObjectURL(N)}).bind(null,W,L),function(){k(W),W.href&&URL.revokeObjectURL(W.href)}):(W=T(L),J=(function(ye,N){var U=N.css,N=N.media;if(N&&ye.setAttribute("media",N),ye.styleSheet)ye.styleSheet.cssText=U;else{for(;ye.firstChild;)ye.removeChild(ye.firstChild);ye.appendChild(document.createTextNode(U))}}).bind(null,W),function(){k(W)}),J(D),function(ye){ye?ye.css===D.css&&ye.media===D.media&&ye.sourceMap===D.sourceMap||J(D=ye):oe()}}a.exports=function(D,L){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(L=L||{}).attrs=typeof L.attrs=="object"?L.attrs:{},L.singleton||typeof L.singleton=="boolean"||(L.singleton=p()),L.insertInto||(L.insertInto="head"),L.insertAt||(L.insertAt="bottom");var W=y(D,L);return S(W,L),function(J){for(var oe=[],z=0;z<W.length;z++){var ae=W[z];(ye=d[ae.id]).refs--,oe.push(ye)}J&&S(y(J,L),L);for(var ye,z=0;z<oe.length;z++)if((ye=oe[z]).refs===0){for(var ne=0;ne<ye.parts.length;ne++)ye.parts[ne]();delete d[ye.id]}}};var I,ie=(I=[],function(D,L){return I[D]=L,I.filter(Boolean).join(`
`)});function he(D,L,oe,J){var oe=oe?"":J.css;D.styleSheet?D.styleSheet.cssText=ie(L,oe):(J=document.createTextNode(oe),(oe=D.childNodes)[L]&&D.removeChild(oe[L]),oe.length?D.insertBefore(J,oe[L]):D.appendChild(J))}},function(a,l,c){var h=c(45);typeof h=="string"&&(h=[[a.i,h,""]]);var u={hmr:!0,transform:void 0};c(26)(h,u),h.locals&&(a.exports=h.locals)},function(a,l,c){var h=c(23);c.o(h,"render")&&c.d(l,"render",function(){return h.render})},function(a,l,h){Object.defineProperty(l,"__esModule",{value:!0});var h=h(30),u=(h=h)&&h.__esModule?h:{default:h};l.default=Object.assign(u.default,{install:function(f){f.component("JsonViewer",u.default)}})},function(a,l,c){c.r(l);var h,d=c(28),u=c(12);for(h in u)h!=="default"&&function(p){c.d(l,p,function(){return u[p]})}(h);c(44);var f=c(0),d=c.n(f)()(u.default,[["render",d.render],["__file","lib/json-viewer.vue"]]);l.default=d},function(a,l,c){c.r(l);var h,u=c(14);for(h in u)h!=="default"&&function(d){c.d(l,d,function(){return u[d]})}(h);var f=c(0),f=c.n(f)()(u.default,[["__file","lib/types/json-string.vue"]]);l.default=f},function(a,l,c){c.r(l);var h,u=c(15);for(h in u)h!=="default"&&function(d){c.d(l,d,function(){return u[d]})}(h);var f=c(0),f=c.n(f)()(u.default,[["__file","lib/types/json-undefined.vue"]]);l.default=f},function(a,l,c){c.r(l);var h,u=c(16);for(h in u)h!=="default"&&function(d){c.d(l,d,function(){return u[d]})}(h);var f=c(0),f=c.n(f)()(u.default,[["__file","lib/types/json-number.vue"]]);l.default=f},function(a,l,c){c.r(l);var h,u=c(17);for(h in u)h!=="default"&&function(d){c.d(l,d,function(){return u[d]})}(h);var f=c(0),f=c.n(f)()(u.default,[["__file","lib/types/json-boolean.vue"]]);l.default=f},function(a,l,c){c.r(l);var h,u=c(18);for(h in u)h!=="default"&&function(d){c.d(l,d,function(){return u[d]})}(h);var f=c(0),f=c.n(f)()(u.default,[["__file","lib/types/json-object.vue"]]);l.default=f},function(a,l,c){c.r(l);var h,u=c(19);for(h in u)h!=="default"&&function(d){c.d(l,d,function(){return u[d]})}(h);var f=c(0),f=c.n(f)()(u.default,[["__file","lib/types/json-array.vue"]]);l.default=f},function(a,l,c){c.r(l);var h,u=c(20);for(h in u)h!=="default"&&function(d){c.d(l,d,function(){return u[d]})}(h);var f=c(0),f=c.n(f)()(u.default,[["__file","lib/types/json-function.vue"]]);l.default=f},function(a,l,c){c.r(l);var h,u=c(21);for(h in u)h!=="default"&&function(d){c.d(l,d,function(){return u[d]})}(h);var f=c(0),f=c.n(f)()(u.default,[["__file","lib/types/json-date.vue"]]);l.default=f},function(a,l,c){c(24)},function(a,l,c){(l=c(25)(!1)).push([a.i,`.jv-node{position:relative}.jv-node:after{content:','}.jv-node:last-of-type:after{content:''}.jv-node.toggle{margin-left:13px !important}.jv-node .jv-node{margin-left:25px}
`,""]),a.exports=l},function(a,l){a.exports=function(c){var h=typeof window<"u"&&window.location;if(!h)throw new Error("fixUrls requires window.location");if(!c||typeof c!="string")return c;var u=h.protocol+"//"+h.host,f=u+h.pathname.replace(/\/[^\/]*$/,"/");return c.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(d,g){var g=g.trim().replace(/^"(.*)"$/,function(m,b){return b}).replace(/^'(.*)'$/,function(m,b){return b});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(g)?d:(g=g.indexOf("//")===0?g:g.indexOf("/")===0?u+g:f+g.replace(/^\.\//,""),"url("+JSON.stringify(g)+")")})}},function(a,l){a.exports=n},function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.debounce=function(h,u){var f=Date.now(),d=void 0;return function(){for(var p=arguments.length,g=Array(p),m=0;m<p;m++)g[m]=arguments[m];Date.now()-f<u&&d&&clearTimeout(d),d=setTimeout(function(){h.apply(void 0,g)},u),f=Date.now()}}},function(a,l,c){c(27)},function(a,l,f){var h=f(25),u=f(46),f=f(47);l=h(!1),f=u(f),l.push([a.i,".jv-container{box-sizing:border-box;position:relative}.jv-container.boxed{border:1px solid #eee;border-radius:6px}.jv-container.boxed:hover{box-shadow:0 2px 7px rgba(0,0,0,0.15);border-color:transparent;position:relative}.jv-container.jv-light{background:#fff;white-space:nowrap;color:#525252;font-size:14px;font-family:Consolas, Menlo, Courier, monospace}.jv-container.jv-light .jv-ellipsis{color:#999;background-color:#eee;display:inline-block;line-height:0.9;font-size:0.9em;padding:0px 4px 2px 4px;margin:0 4px;border-radius:3px;vertical-align:2px;cursor:pointer;-webkit-user-select:none;user-select:none}.jv-container.jv-light .jv-button{color:#49b3ff}.jv-container.jv-light .jv-key{color:#111111;margin-right:4px}.jv-container.jv-light .jv-item.jv-array{color:#111111}.jv-container.jv-light .jv-item.jv-boolean{color:#fc1e70}.jv-container.jv-light .jv-item.jv-function{color:#067bca}.jv-container.jv-light .jv-item.jv-number{color:#fc1e70}.jv-container.jv-light .jv-item.jv-object{color:#111111}.jv-container.jv-light .jv-item.jv-undefined{color:#e08331}.jv-container.jv-light .jv-item.jv-string{color:#42b983;word-break:break-word;white-space:normal}.jv-container.jv-light .jv-item.jv-string .jv-link{color:#0366d6}.jv-container.jv-light .jv-code .jv-toggle:before{padding:0px 2px;border-radius:2px}.jv-container.jv-light .jv-code .jv-toggle:hover:before{background:#eee}.jv-container .jv-code{overflow:hidden;padding:30px 20px}.jv-container .jv-code.boxed{max-height:300px}.jv-container .jv-code.open{max-height:initial !important;overflow:visible;overflow-x:auto;padding-bottom:45px}.jv-container .jv-toggle{background-image:url("+f+`);background-repeat:no-repeat;background-size:contain;background-position:center center;cursor:pointer;width:10px;height:10px;margin-right:2px;display:inline-block;-webkit-transition:-webkit-transform 0.1s;transition:-webkit-transform 0.1s;transition:transform 0.1s;transition:transform 0.1s, -webkit-transform 0.1s}.jv-container .jv-toggle.open{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.jv-container .jv-more{position:absolute;z-index:1;bottom:0;left:0;right:0;height:40px;width:100%;text-align:center;cursor:pointer}.jv-container .jv-more .jv-toggle{position:relative;top:40%;z-index:2;color:#888;-webkit-transition:all 0.1s;transition:all 0.1s;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.jv-container .jv-more .jv-toggle.open{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.jv-container .jv-more:after{content:"";width:100%;height:100%;position:absolute;bottom:0;left:0;z-index:1;background:-webkit-linear-gradient(top, rgba(0,0,0,0) 20%, rgba(230,230,230,0.3) 100%);background:linear-gradient(to bottom, rgba(0,0,0,0) 20%, rgba(230,230,230,0.3) 100%);-webkit-transition:all 0.1s;transition:all 0.1s}.jv-container .jv-more:hover .jv-toggle{top:50%;color:#111}.jv-container .jv-more:hover:after{background:-webkit-linear-gradient(top, rgba(0,0,0,0) 20%, rgba(230,230,230,0.3) 100%);background:linear-gradient(to bottom, rgba(0,0,0,0) 20%, rgba(230,230,230,0.3) 100%)}.jv-container .jv-button{position:relative;cursor:pointer;display:inline-block;padding:5px;z-index:5}.jv-container .jv-button.copied{opacity:0.4;cursor:default}.jv-container .jv-tooltip{position:absolute}.jv-container .jv-tooltip.right{right:15px}.jv-container .jv-tooltip.left{left:15px}.jv-container .j-icon{font-size:12px}
`,""]),a.exports=l},function(a,l,c){a.exports=function(h,u){return u=u||{},typeof(h=h&&h.__esModule?h.default:h)!="string"?h:(/^['"].*['"]$/.test(h)&&(h=h.slice(1,-1)),u.hash&&(h+=u.hash),/["'() \t\n]/.test(h)||u.needQuotes?'"'.concat(h.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):h)}},function(a,l){a.exports="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjE2IiB3aWR0aD0iOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KIAo8cG9seWdvbiBwb2ludHM9IjAsMCA4LDggMCwxNiIKc3R5bGU9ImZpbGw6IzY2NjtzdHJva2U6cHVycGxlO3N0cm9rZS13aWR0aDowIiAvPgo8L3N2Zz4="}],r.c=o,r.d=function(a,l,c){r.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:c})},r.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},r.t=function(a,l){if(1&l&&(a=r(a)),8&l||4&l&&typeof a=="object"&&a&&a.__esModule)return a;var c=Object.create(null);if(r.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:a}),2&l&&typeof a!="string")for(var h in a)r.d(c,h,(function(u){return a[u]}).bind(null,h));return c},r.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(l,"a",l),l},r.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},r.p="",r(r.s=29);function r(a){if(o[a])return o[a].exports;var l=o[a]={i:a,l:!1,exports:{}};return s[a].call(l.exports,l,l.exports,r),l.l=!0,l.exports}var s,o})})(BO);var c_=BO.exports;const h_=s_(c_),u_={style:{position:"relative"},class:"t-json-container"},f_=Z("option",{value:"",disabled:"",selected:"",hidden:"",label:"Choose a display deep"},null,-1),d_=["label","value"],p_=me({__name:"TViewerJson",props:{message:Object,idx:[Number,String]},setup(t){const e=$t([1,2,3,4,5,6,7,8,9,10]);return(i,n)=>(R(),j("span",u_,[(R(),gt(G(h_),{"expand-depth":t.message.depth,sort:"",copyable:"",expanded:"",key:t.idx+"_"+t.message.depth,value:G(TS)(t.message.content)},null,8,["expand-depth","value"])),nn(Z("select",{class:"t-json-deep-selector","onUpdate:modelValue":n[0]||(n[0]=r=>t.message.depth=r)},[f_,(R(!0),j(ct,null,Tt(e,r=>(R(),j("option",{key:r,label:`Deep ${r}`,value:r},null,8,d_))),128))],512),[[oS,t.message.depth]])]))}}),g_={class:"t-code"},m_={key:0,class:"t-vue-highlight"},O_={key:1,class:"t-vue-codemirror"},b_={key:2,style:{background:"rgb(39 50 58)"}},v_={style:{padding:"1em",margin:"0"}},y_={style:{"font-size":"15px"}},x_=me({__name:"TViewerCode",props:{message:Object,idx:[Number,String]},setup(t){return(e,i)=>{const n=rl("highlightjs"),r=rl("codemirror");return R(),j("div",g_,[G(Nt).getOptions().highlight?(R(),j("div",m_,[xe(n,{ref:"highlightjs",autodetect:"",code:t.message.content},null,8,["code"])])):G(Nt).getOptions().codemirror?(R(),j("div",O_,[xe(r,{ref:"codemirror",modelValue:t.message.content,"onUpdate:modelValue":i[0]||(i[0]=s=>t.message.content=s),options:G(Nt).getOptions().codemirror},null,8,["modelValue","options"])])):(R(),j("div",b_,[Z("pre",v_,[Z("code",y_,nt(t.message.content),1)])]))])}}}),S_={class:"t-table t-border-dashed"},w_={class:"t-border-dashed"},k_=["innerHTML"],C_=me({__name:"TViewerTable",props:{message:Object,idx:[Number,String]},setup(t){return(e,i)=>(R(),j("table",S_,[Z("thead",null,[Z("tr",w_,[(R(!0),j(ct,null,Tt(t.message.content.head,n=>(R(),j("td",{key:n,class:"t-border-dashed"},nt(n),1))),128))])]),Z("tbody",null,[(R(!0),j(ct,null,Tt(t.message.content.rows,(n,r)=>(R(),j("tr",{key:r,class:"t-border-dashed"},[(R(!0),j(ct,null,Tt(n,(s,o)=>(R(),j("td",{key:o,class:"t-border-dashed"},[Z("div",{innerHTML:s},null,8,k_)]))),128))]))),128))])]))}}),$_=["innerHTML"],__={key:1},P_={key:0},T_={key:1},Q_={class:"t-cmd-help-eg"},A_={class:"t-cmd-help-example"},E_={class:"t-example-ul"},R_={class:"t-example-li"},I_={class:"t-example-li"},Z_={key:0,class:"t-cmd-help-des"},M_=me({__name:"THelpBox",props:{showHeader:Boolean,result:Object},setup(t,{expose:e}){const i=we();return e({getClientRect:()=>i.value.getBoundingClientRect()}),(r,s)=>(R(),j("div",{class:"t-cmd-help",ref_key:"terminalHelpBoxRef",ref:i,style:tn(t.showHeader?"top: 40px;max-height: calc(100% - 60px);":"top: 15px;max-height: calc(100% - 40px);")},[t.result.item.description?(R(),j("p",{key:0,class:"text",style:{margin:"15px 0"},innerHTML:t.result.item.description},null,8,$_)):it("",!0),t.result.item.example&&t.result.item.example.length>0?(R(),j("div",__,[(R(!0),j(ct,null,Tt(t.result.item.example,(o,a)=>(R(),j("div",{key:a,class:"text"},[t.result.item.example.length===1?(R(),j("div",P_,[Z("span",null,[Rh("Example: "),Z("code",null,nt(o.cmd),1),Rh(" "+nt(o.des),1)])])):(R(),j("div",T_,[Z("div",Q_," eg"+nt(t.result.item.example.length>1?a+1:"")+": ",1),Z("div",A_,[Z("ul",E_,[Z("li",R_,[Z("code",null,nt(o.cmd),1)]),Z("li",I_,[o.des!=null?(R(),j("span",Z_,nt(o.des),1)):it("",!0)])])])]))]))),128))])):it("",!0)],4))}}),D_={class:"t-editor"},L_={class:"t-text-editor-floor",align:"center"},j_=me({__name:"TEditor",props:{config:Object,modelValue:String},emits:["update:modelValue","close"],setup(t,{expose:e,emit:i}){const n=t,r=we(),s=we();vr(()=>{r.value=n.modelValue}),tt(()=>r,l=>{i("update:modelValue",l)});const o=()=>{s.value.focus()},a=l=>{i("close",l)};return e({focus:o}),(l,c)=>(R(),j("div",D_,[nn(Z("textarea",{name:"editor",ref_key:"textEditorRef",ref:s,autofocus:"",class:"t-text-editor","onUpdate:modelValue":c[0]||(c[0]=h=>r.value=h),onFocus:c[1]||(c[1]=(...h)=>t.config.onFocus&&t.config.onFocus(...h)),onBlur:c[2]||(c[2]=(...h)=>t.config.onBlur&&t.config.onBlur(...h))},null,544),[[rf,r.value]]),Z("div",L_,[Z("button",{class:"t-text-editor-floor-btn t-close-btn",onClick:c[3]||(c[3]=h=>a(!1)),title:"Cancel Edit"},"Cancel "),Z("button",{class:"t-text-editor-floor-btn t-save-btn",onClick:c[4]||(c[4]=h=>a(!0)),title:"Save And Close"},"Save & Close ")])]))}}),N_=NO(j_,[["__scopeId","data-v-a1df126f"]]),Y_={key:0},B_={class:"terminal"},V_={key:0,class:"t-crude-font t-cmd-line"},X_={class:"t-prompt t-cmd-line-content"},W_=["innerHTML"],U_={key:1},F_={key:0},z_={key:1},q_={key:2},G_={key:3},H_={key:4},K_=["innerHTML"],J_={key:0},e5=["innerHTML"],t5={key:1},i5=["innerHTML"],n5=["type","onKeyup"],r5=Z("span",null," > ",-1),s5=["innerHTML"],o5=["onKeyup"],a5={class:"t-flag t-cmd-line t-disable-select"},l5={class:"t-help-msg"},c5={key:1},VO=me({__name:"Terminal",props:{title:{type:String,default:"vue-web-terminal"},name:{type:String,default:""},initLog:{type:Array,default:()=>[{type:"normal",content:"Terminal Initializing ..."},{type:"normal",content:"Current login time: "+new Date().toLocaleString()},{type:"normal",content:"Welcome to vue web terminal! If you are using for the first time, you can use the <span class='t-cmd-key'>help</span> command to learn.Thanks for your star support: <a class='t-a' target='_blank' href='https://github.com/tzfun/vue-web-terminal'>https://github.com/tzfun/vue-web-terminal</a>"}]},context:{type:String,default:"/vue-web-terminal"},commandStore:Array,commandStoreSort:Function,autoHelp:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},enableExampleHint:{type:Boolean,default:!0},inputFilter:Function,dragConf:Object,commandFormatter:Function,tabKeyHandler:Function,searchHandler:Function,scrollMode:{type:String,default:"smooth"},pushMessageBefore:Function},emits:["on-keydown","on-click","before-exec-cmd","exec-cmd","destroyed","init-before","init-complete","on-active","on-inactive"],setup(t,{emit:e}){const i=t,n=Ue(()=>i.showHeader&&i.dragConf!=null),r=Ue(()=>i.dragConf&&i.dragConf.pinned),s=Ue(()=>h.show||x.open&&A.value===document.activeElement||S.open&&S.focus),o=Ue(()=>S.open||v.open||x.open),a=Ue(()=>{if(y.value){let C=[];for(let E in y.value)C.push(`${E}:${y.value[E]}`);return C.join(";")}return""}),l=we(),c=we(""),h=$t({defaultWidth:7,width:7,left:"unset",top:"unset",idx:0,show:!1}),u=$t({init:!1,en:8,cn:13}),f=we(!0),d=we([]),p=$t({show:!1,defaultBoxRect:null,item:null}),g=we([]),m=we(!1),b=$t({boxWidth:0,boxHeight:0,promptWidth:0,promptHeight:0}),v=$t({open:!1,content:null}),x=$t({open:!1,question:null,isPassword:!1,callback:null,autoReview:!1,input:""}),S=$t({open:!1,focus:!1,value:"",onClose:null});S.onFocus=()=>{S.focus=!0},S.onBlur=()=>{S.focus=!1};const y=we(),$=we(null),k=we(null),T=we(null),P=we(null),A=we(null),I=we(null),ie=we(null),he=we(null),D=we(null),L=we(null),W=we(null),J=we(null),oe=we(null),z=we(null),ae=we(null),ye=we(null),ne=we(),U=we(),N=we();vr(()=>{e("init-before",w()),Hx(),i.initLog&&xn(i.initLog),g.value=g.value.concat(LS),i.commandStore&&(i.commandStoreSort&&i.commandStore.sort(i.commandStoreSort),g.value=g.value.concat(i.commandStore)),T.value&&(T.value.scrollTop=T.value.offsetHeight);let C=null;oi(window,"click",ne.value=M=>{let H=!1,X=$.value;X&&X.getBoundingClientRect&&Dd(M,X.getBoundingClientRect())&&(H=ES(M.target,X,"t-container")||M.target&&M.target.classList.contains("t-text-editor-floor-btn")),o.value?h.show=!1:h.show=H,H?oa():tS()}),oi(window,"keydown",U.value=M=>{s.value&&(h.show&&(M.key.toLowerCase()==="tab"?(i.tabKeyHandler?i.tabKeyHandler(M):ke(),M.preventDefault()):document.activeElement!==P.value&&(P.value.focus(),Ad(M))),e("on-keydown",M,w()))}),oi(T,"mousedown",()=>{let M=PS(),H="";(!M.isCollapsed||(H=M.toString()).length>0)&&(C=H.length>0?H:M.toString())}),oi(T,"contextmenu",M=>{if(M.preventDefault(),C){_S(C),C=null;return}const H=$S();H?H.then(X=>{if(!X)return;const ge=c.value;c.value=ge&&ge.length?`${ge}${X}`:X,de()}).catch(X=>{console.error(X)}):de()});let E=null;if(["fullscreenchange","webkitfullscreenchange","mozfullscreenchange"].forEach(M=>{oi(window,M,()=>{const H=document;H.fullscreenElement||H.fullScreen||H.mozFullScreen||H.webkitIsFullScreen?(E=JSON.parse(JSON.stringify(y.value)),kS()&&(y.value.width="100%",y.value.height="100%",y.value.left="0",y.value.top="0")):(m.value=!1,E&&(y.value=E))})}),RS()||IS()){let M=0;T.value.addEventListener("touchend",()=>{let H=new Date().getTime();M===0?M=H:new Date().getTime()-M<600?de(!0):M=H})}Kx(),LO(w(),N.value=(M,H)=>{if(M==="pushMessage")xn(H);else if(M==="fullscreen")sa();else{if(M==="isFullscreen")return m.value;if(M==="dragging")n.value?Ed(H.x,H.y):console.warn("Terminal is not draggable: "+w());else if(M==="execute")!o.value&&Hi(H)&&(c.value=H,yn());else if(M==="focus")de(H);else if(M==="elementInfo"){let X=T.value.getBoundingClientRect(),ge=$.value.getBoundingClientRect(),ve=T.value.scrollHeight>T.value.clientHeight||T.value.offsetHeight>T.value.clientHeight;return{pos:Jx(),screenWidth:ge.width,screenHeight:ge.height,clientWidth:ve?X.width-48:X.width-40,clientHeight:X.height,charWidth:{en:u.en,cn:u.cn}}}else if(M==="textEditorOpen"){let X=H||{};S.value=X.content,S.open=!0,S.onClose=X.onClose,de()}else{if(M==="textEditorClose")return Id(H);console.error(`Unsupported event type ${M} in instance ${w()}`)}}}),e("init-complete",w())}),rS(()=>{e("destroyed",w()),Md(window,"keydown",U.value),Md(window,"click",ne.value),jO(w())}),tt(()=>d,()=>ta(),{deep:!0}),tt(()=>i.context,()=>{Da(()=>{se()}).then(()=>{})}),tt(()=>i.name,(C,E)=>{DS(C||w(),E||l,N)}),tt(()=>i.dragConf?i.dragConf.zIndex:null,C=>{y.value&&(y.value["z-index"]=C)});let le=0;function ce(){return le++,`terminal_${le}`}const w=()=>i.name?i.name:(l.value||(l.value=ce()),l.value),V=C=>{if(C==="fullScreen"&&!m.value)sa();else if(C==="minScreen"&&m.value)sa();else if(C==="pin"&&i.showHeader){let E=i.dragConf.pinned||!1;i.dragConf.pinned=!E}e("on-click",C,w())},B=()=>{if(u.init)return;let C=he.value;if(C){let E=C.getBoundingClientRect();E&&E.width>0&&(u.init=!0,u.en=E.width,u.cn=D.value.getBoundingClientRect().width,h.defaultWidth=u.en)}},se=()=>{let C=ie.value;if(C){let E=C.getBoundingClientRect();E.width>0&&(b.promptWidth=E.width,b.promptHeight=E.height)}},Ae=()=>{p.item=null},Xe=C=>{if(!i.autoHelp)return;if(i.searchHandler){i.searchHandler(g.value,C,M=>{p.item=M,ta()});return}let E=C;if(E==null&&(E=c.value.split(" ")[0]),zs(E))Ae();else if(E.trim().indexOf(" ")<0){let M=new RegExp(E,"i"),H=[],X=null;for(const ge of g.value)if(Hi(ge.key)){let ve=ge.key.match(M);if(ve!=null){let ue=ve.index*1e3+(E.length-ve[0].length)+(ge.key.length-ve[0].length);if(ue===0){X=ge;break}else H.push({item:ge,score:ue})}}if(X==null)if(H.length>0)H.sort((ge,ve)=>ge.score-ve.score),X=H[0].item;else{p.item=null;return}p.item=X,ta()}},ke=()=>{p.item&&(c.value=p.item.key)},de=C=>{Da(()=>{oa();let E;x.open?(E=A.value,h.show=!1):S.open?(E=L.value,h.show=!1):(C===!0&&(E=P.value),h.show=!0),E&&E.focus()})},Ke=(C,E)=>{let M={head:["KEY","GROUP","DETAIL"],rows:[]},H=E&&E.length>1&&E.startsWith(":")?E.substring(1).toLowerCase():null;g.value.forEach(X=>{if(H){if(zs(X.group)||H!==X.group.toLowerCase())return}else if(!C.test(X.key))return;let ge=[];ge.push(`<span class='t-cmd-key'>${X.key}</span>`),ge.push(X.group);let ve="";if(Hi(X.description)&&(ve+=`Description: ${X.description}<br>`),Hi(X.usage)&&(ve+=`Usage: <code>${Zd(X.usage)}</code><br>`),X.example!=null){X.example.length>0&&(ve+="<br>");for(let ue in X.example){let si=X.example[ue];ve+=`
                        <div>
                            <div style="float:left;width: 30px;display:flex;font-size: 12px;line-height: 18px;">
                              eg${parseInt(ue)+1}:
                            </div>
                            <div class="t-cmd-help-example">
                              <ul class="t-example-ul">
                                <li class="t-example-li"><code>${si.cmd}</code></li>
                                <li class="t-example-li"><span></span></li>
                        `,Hi(si.des)&&(ve+=`<li class="t-example-li"><span>${si.des}</span></li>`),ve+=`
                            </ul>
                        </div>
                    </div>
                    `}}ge.push(ve),M.rows.push(ge)}),xn({type:"table",content:M})},yn=()=>{if(Ae(),Bx(),Hi(c.value))try{let C=c.value.split(" "),E=C[0];switch(e("before-exec-cmd",E,c.value,w()),E){case"help":{let M=`^${C.length>1&&Hi(C[1])?C[1]:"*"}$`;M=M.replace(/\*/g,".*"),Ke(new RegExp(M,"i"),C[1]);break}case"clear":Vx(C);break;case"open":QS(C[1],xn);break;default:{f.value=!1;let M=X=>{let ge=()=>{f.value=!0,dt()};if(X)if(X instanceof wS){X.onFlush(ve=>{v.content=ve}),X.onFinish(()=>{v.open=!1,ge()}),v.open=!0;return}else if(X instanceof SS){X.onAsk(ve=>{x.input="",x.isPassword=ve.isPassword,x.question=Zh(ve.question),x.callback=ve.callback,x.autoReview=ve.autoReview,de()}),X.onFinish(()=>{x.open=!1,ge(),de(!0)}),x.open=!0;return}else xn(X);ge()},H=X=>{X&&xn({type:"normal",class:"error",content:X}),f.value=!0,dt()};e("exec-cmd",E,c.value,M,H,w());return}}}catch(C){console.error(C),xn({type:"normal",class:"error",content:Zh(Zd(C.stack)),tag:"error"})}dt()},dt=()=>{c.value="",ia(),s.value?(de(),h.show=!0):h.show=!1,p.show=!0,p.defaultBoxRect=null},Yx=C=>{const E=C.type&&/^(normal|html|code|table|json)$/.test(C.type);return E?C.type==="json"&&(C.depth||(C.depth=1)):(console.debug(`Invalid terminal message type: ${C.type}, the default type normal will be used`),C.type="normal"),E},xn=C=>{if(C){if(C instanceof Array){for(let E of C)Qd(E);return}typeof C=="string"&&(C={type:"normal",content:C}),C.type==="ansi"&&(C.type="html",C.content=L$(C.content)),Qd(C),C.type==="json"&&setTimeout(()=>{ta()},80)}},Qd=C=>{Yx(C),C.type!=="cmdLine"&&i.pushMessageBefore&&i.pushMessageBefore(C,w()),d.value.push(C)},ta=()=>{Da(()=>{let C=T.value;C!=null&&C.scrollTo({top:C.scrollHeight,behavior:i.scrollMode})}).then(()=>{})},Bx=()=>{Hi(c.value)&&Ki.push(w(),c.value),d.value.push({type:"cmdLine",content:`${i.context} > ${Rd(c.value)}`})},Vx=C=>{C.length===1?d.value=[]:C.length===2&&C[1]==="history"&&Ki.clear(w())},ia=C=>{B(),h.idx=(C||c.value).length,h.left="unset",h.top="unset",h.width=h.defaultWidth},na=C=>{let E=h.idx,M=C||c.value;if(B(),E<0||E>=M.length){ia();return}b.promptWidth===0&&se();let H=I.value.getBoundingClientRect().width,X={left:0,top:0},ge=h.defaultWidth,ve=b.promptWidth;for(let ue=0;ue<=E;ue++)ge=zx(M[ue]),X.left+=ve,ve=ge,X.left>H&&(X.top+=20,X.left=ge);h.left=X.left+"px",h.top=X.top+"px",h.width=ge},Xx=()=>{h.idx>0&&h.idx--,na()},Wx=()=>{h.idx<c.value.length&&h.idx++,na()},Ux=()=>{let C=Ki.getLog(w()),E=Ki.getIdx(w());C.length!==0&&E>0&&(E-=1,c.value=C[E]?C[E]:""),ia(),Ki.setIdx(w(),E),Xe(c.value.trim().split(" ")[0])},Fx=()=>{let C=Ki.getLog(w()),E=Ki.getIdx(w());C.length!==0&&E<C.length-1?(E+=1,c.value=C[E]?C[E]:""):(E=C.length,c.value=""),ia(),Ki.setIdx(w(),E),Xe(c.value.trim().split(" ")[0])},zx=C=>{let E=0;for(let M of C)E+=CS(M)===1?u.en:u.cn;return E},qx=C=>{if(i.inputFilter){let H=C.target.value,X=i.inputFilter(C.data,H,C);X==null&&(X=H),c.value=X}zs(c.value)?Ae():Xe(),ra(),na();let E=W.value.getBoundingClientRect(),M=p.defaultBoxRect||(J.value?J.value.getClientRect():null);E&&M&&Dd(E,M)?(p.show=!1,p.defaultBoxRect=M):(p.show=!0,p.defaultBoxRect=null)},ra=()=>{let C=P.value;C.selectionStart!==h.idx&&(h.idx=C.selectionStart)},Ad=C=>{let E=C.key.toLowerCase();E==="arrowleft"?(ra(),Xx()):E==="arrowright"&&(ra(),Wx())},Gx=C=>{let E=C.key.toLowerCase(),M=C.code.toLowerCase();(E==="home"||E==="end"||M==="altleft"||M==="metaleft"||M==="controlleft"||(C.ctrlKey||C.metaKey||C.altKey)&&(E==="arrowright"||E==="arrowleft"))&&(ra(),na())},sa=()=>{let C=$.value;if(m.value){let E=document;E.exitFullscreen?E.exitFullscreen():E.webkitCancelFullScreen?E.webkitCancelFullScreen():E.mozCancelFullScreen?E.mozCancelFullScreen():E.msExitFullscreen&&E.msExitFullscreen()}else C.requestFullscreen?C.requestFullscreen():C.webkitRequestFullScreen?C.webkitRequestFullScreen():C.mozRequestFullScreen?C.mozRequestFullScreen():C.msRequestFullscreen&&C.msRequestFullscreen();m.value=!m.value},Hx=()=>{let C={};if(n.value){let E=document.body.clientWidth,M=document.body.clientHeight,H=i.dragConf.width,X=H||700;H&&typeof H=="string"&&H.endsWith("%")&&(X=E*(parseInt(H)/100));let ge=i.dragConf.height,ve=ge?parseInt(ge):500;ge&&typeof ge=="string"&&ge.endsWith("%")&&(ve=M*(parseInt(ge)/100));let ue=i.dragConf.zIndex?i.dragConf.zIndex:100,si,Je,Pe=i.dragConf.init;Pe&&Pe.x&&Pe.y?(si=Pe.x,Je=Pe.y):(si=(E-X)/2,Je=(M-ve)/2),C.position="fixed",C.width=X+"px",C.height=ve+"px",C.left=si+"px",C.top=Je+"px",C["z-index"]=ue}else C.width="100%",C.height="100%";y.value=C},Kx=()=>{if(!n.value)return;let C=0,E=0,M=k.value,H=$.value,X=T.value,ge=!1,ve=!1,ue={minWidth:270,minHeight:180,type:"",boxX:0,boxY:0,boxWidth:0,boxHeight:0,cursorX:0,cursorY:0};const si=(Je,Pe)=>{ve=!0,X.style["user-select"]="none",ue.type=Je,ue.cursorX=Pe.clientX,ue.cursorY=Pe.clientY,ue.boxX=H.offsetLeft,ue.boxY=H.offsetTop,ue.boxWidth=H.clientWidth,ue.boxHeight=H.clientHeight};oi(M,"mousedown",Je=>{m.value||(oa(),C=Je.clientX-H.offsetLeft,E=Je.clientY-H.offsetTop,ge=!0,X.style["user-select"]="none")}),oi(oe.value,"mousedown",Je=>{si("lt",Je)}),oi(z.value,"mousedown",Je=>{si("rt",Je)}),oi(ae.value,"mousedown",Je=>{si("lb",Je)}),oi(ye.value,"mousedown",Je=>{si("rb",Je)}),oi(document,"mousemove",Je=>{if(!(r.value||m.value)){if(ge){let Pe=Je.clientX-C,We=Je.clientY-E;Ed(Pe,We)}else if(ve){let Pe=Je.clientX-ue.cursorX,We=Je.clientY-ue.cursorY;ue.type==="rb"?(Pe=Pe<0?-Math.min(ue.boxWidth-ue.minWidth,-Pe):Pe,We=We<0?-Math.min(ue.boxHeight-ue.minHeight,-We):We,y.value.width=ue.boxWidth+Pe+"px",y.value.height=ue.boxHeight+We+"px"):ue.type==="rt"?(Pe=Pe<0?-Math.min(ue.boxWidth-ue.minWidth,-Pe):Pe,We=We>0?Math.min(ue.boxHeight-ue.minHeight,We):We,y.value.width=ue.boxWidth+Pe+"px",y.value.height=ue.boxHeight-We+"px",y.value.top=Math.max(0,ue.boxY+We)+"px"):ue.type==="lb"?(Pe=Pe>0?Math.min(ue.boxWidth-ue.minWidth,Pe):Pe,We=We<0?-Math.min(ue.boxHeight-ue.minHeight,-We):We,y.value.width=ue.boxWidth-Pe+"px",y.value.height=ue.boxHeight+We+"px",y.value.left=Math.max(0,ue.boxX+Pe)+"px"):ue.type==="lt"&&(Pe=Pe>0?Math.min(ue.boxWidth-ue.minWidth,Pe):Pe,We=We>0?Math.min(ue.boxHeight-ue.minHeight,We):We,y.value.width=ue.boxWidth-Pe+"px",y.value.height=ue.boxHeight-We+"px",y.value.left=Math.max(0,ue.boxX+Pe)+"px",y.value.top=Math.max(0,ue.boxY+We)+"px")}}}),oi(document,"mouseup",()=>{(ge||ve)&&oa(),ge=!1,ve=!1,X.style["user-select"]="unset"})},Ed=(C,E)=>{if(r.value)return;let M=document.body.clientWidth,H=document.body.clientHeight,X=$.value,ge,ve;C>M-X.clientWidth?ge=M-X.clientWidth:ge=Math.max(0,C),E>H-X.clientHeight?ve=H-X.clientHeight:ve=Math.max(0,E),i.dragConf&&(i.dragConf.init={x:ge,y:ve}),y.value.left=ge+"px",y.value.top=ve+"px"},Rd=C=>i.commandFormatter!=null?i.commandFormatter(C):AS(C),Jx=()=>{if(n.value){let C=$.value;return{x:parseInt(C.style.left),y:parseInt(C.style.top)}}else return{x:0,y:0}},eS=()=>{x.autoReview&&xn(x.question+(x.isPassword?"*".repeat(x.input.length):x.input)),x.question=null,x.callback&&x.callback(x.input)},Id=C=>{if(S.open){S.open=!1;let E=S.value;return S.value="",S.onClose&&(S.onClose(E,C),S.onClose=null),de(!0),E}},oa=()=>{e("on-active",w())},tS=()=>{e("on-inactive",w())};return(C,E)=>(R(),j("div",{class:yr("t-container "+(s.value?"":"t-disable-select")),style:tn(a.value),ref_key:"terminalContainerRef",ref:$},[n.value?(R(),j("div",Y_,[Z("div",{class:"t-point t-point-lt",ref_key:"resizeLTRef",ref:oe},null,512),Z("div",{class:"t-point t-point-rt",ref_key:"resizeRTRef",ref:z},null,512),Z("div",{class:"t-point t-point-lb",ref_key:"resizeLBRef",ref:ae},null,512),Z("div",{class:"t-point t-point-rb",ref_key:"resizeRBRef",ref:ye},null,512)])):it("",!0),Z("div",B_,[t.showHeader?(R(),j("div",{key:0,class:"t-header-container",ref_key:"terminalHeaderRef",ref:k,style:tn(n.value?"cursor: move;":""),onDblclick:sa},[Ct(C.$slots,"header",{},()=>[xe(t_,{title:t.title,pinned:r.value,draggable:n.value,onOnClick:V},null,8,["title","pinned","draggable"])])],36)):it("",!0),Z("div",{class:"t-window",style:tn(`${t.showHeader?"height:calc(100% - 34px);margin-top: 34px;":"height:100%"}`),ref_key:"terminalWindowRef",ref:T,onClick:de,onDblclick:E[3]||(E[3]=M=>de(!0))},[(R(!0),j(ct,null,Tt(d.value,(M,H)=>(R(),j("div",{class:"t-log-box",key:H},[M.type==="cmdLine"?(R(),j("span",V_,[Z("span",X_,[Z("span",{innerHTML:M.content},null,8,W_)])])):(R(),j("div",U_,[M.type==="normal"?(R(),j("span",F_,[Ct(C.$slots,"normal",{message:M},()=>[xe(r_,{message:M},null,8,["message"])])])):M.type==="json"?(R(),j("div",z_,[Ct(C.$slots,"json",{message:M},()=>[xe(p_,{message:M,idx:H},null,8,["message","idx"])])])):M.type==="code"?(R(),j("div",q_,[Ct(C.$slots,"code",{message:M},()=>[xe(x_,{message:M,idx:H},null,8,["message","idx"])])])):M.type==="table"?(R(),j("div",G_,[Ct(C.$slots,"table",{message:M},()=>[xe(C_,{message:M,idx:H},null,8,["message","idx"])])])):M.type==="html"?(R(),j("div",H_,[Ct(C.$slots,"html",{message:M},()=>[Z("div",{innerHTML:M.content},null,8,K_)])])):it("",!0)]))]))),128)),v.open&&v.content?(R(),j("div",J_,[Ct(C.$slots,"flash",{content:v.content},()=>[Z("div",{innerHTML:v.content},null,8,e5)])])):it("",!0),x.open&&x.question?(R(),j("div",t5,[Z("div",{innerHTML:x.question,style:{display:"inline-block"}},null,8,i5),nn(Z("input",{type:x.isPassword?"password":"text",ref_key:"terminalAskInputRef",ref:A,"onUpdate:modelValue":E[0]||(E[0]=M=>x.input=M),class:"t-ask-input",autofocus:"",autocomplete:"off","auto-complete":"new-password",onKeyup:aa(eS,["enter"])},null,40,n5),[[sS,x.input]])])):it("",!0),nn(Z("p",{class:"t-last-line t-crude-font t-cmd-line",ref_key:"terminalInputBoxRef",ref:I},[Z("span",{class:"t-prompt t-cmd-line-content t-disable-select",ref_key:"terminalInputPromptRef",ref:ie},[Z("span",null,nt(t.context),1),r5],512),Z("span",{class:"t-cmd-line-content",innerHTML:Rd(c.value)},null,8,s5),nn(Z("span",{class:"cursor t-disable-select",ref_key:"terminalCursorRef",ref:W,style:tn(`width:${h.width}px;left:${h.left};top:${h.top};`)}," ",4),[[nl,h.show]]),nn(Z("input",{type:"text",autofocus:"","onUpdate:modelValue":E[1]||(E[1]=M=>c.value=M),class:"t-cmd-input t-disable-select",ref_key:"terminalCmdInputRef",ref:P,autocomplete:"off","auto-complete":"new-password",onKeydown:Ad,onKeyup:[Gx,aa(Yi(Ux,["exact"]),["up"]),aa(Yi(Fx,["exact"]),["down"]),aa(yn,["enter"])],onInput:qx,onFocusin:E[2]||(E[2]=M=>h.show=!0)},null,40,o5),[[rf,c.value]]),Z("span",a5,[Z("span",{class:"t-cmd-line-content",ref_key:"terminalEnFlagRef",ref:he},"a",512),Z("span",{class:"t-cmd-line-content",ref_key:"terminalCnFlagRef",ref:D},"你",512)])],512),[[nl,f.value]]),Ct(C.$slots,"helpCmd",{item:p.item},()=>[Z("p",l5,nt(p.item?p.item.usage:""),1)])],36)]),t.enableExampleHint?(R(),j("div",c5,[Ct(C.$slots,"helpBox",{showHeader:t.showHeader,item:p.item},()=>[p.show&&p.item&&!G(lf)().xs?(R(),gt(M_,{key:0,ref_key:"terminalHelpBoxRef",ref:J,"show-header":t.showHeader,result:p},null,8,["show-header","result"])):it("",!0)])])):it("",!0),S.open?(R(),j("div",{key:2,class:"t-text-editor-container",style:tn(`${t.showHeader?"height:calc(100% - 34px);margin-top: 34px;":"height:100%"}`)},[Ct(C.$slots,"textEditor",{data:S},()=>[xe(N_,{config:S,modelValue:S.value,"onUpdate:modelValue":E[4]||(E[4]=M=>S.value=M),onClose:Id,ref_key:"terminalTextEditorRef",ref:L},null,8,["config","modelValue"])])],4)):it("",!0)],6))}}),XO=t=>{t.component("terminal",VO)};window&&window.Vue&&XO(window.Vue);const h5={install:XO};class Qe{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,i,n){let r=[];return this.decompose(0,e,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(i,this.length,r,1),Ai.from(r,this.length-(i-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,i=this.length){let n=[];return this.decompose(e,i,n,0),Ai.from(n,i-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let i=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),r=new qs(this),s=new qs(e);for(let o=i,a=i;;){if(r.next(o),s.next(o),o=0,r.lineBreak!=s.lineBreak||r.done!=s.done||r.value!=s.value)return!1;if(a+=r.value.length,r.done||a>=n)return!0}}iter(e=1){return new qs(this,e)}iterRange(e,i=this.length){return new WO(this,e,i)}iterLines(e,i){let n;if(e==null)n=this.iter();else{i==null&&(i=this.lines+1);let r=this.line(e).from;n=this.iterRange(r,Math.max(r,i==this.lines+1?this.length:i<=1?0:this.line(i-1).to))}return new UO(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Qe.empty:e.length<=32?new et(e):Ai.from(et.split(e,[]))}}class et extends Qe{constructor(e,i=u5(e)){super(),this.text=e,this.length=i}get lines(){return this.text.length}get children(){return null}lineInner(e,i,n,r){for(let s=0;;s++){let o=this.text[s],a=r+o.length;if((i?n:a)>=e)return new f5(r,a,n,o);r=a+1,n++}}decompose(e,i,n,r){let s=e<=0&&i>=this.length?this:new et(Bd(this.text,e,i),Math.min(i,this.length)-Math.max(0,e));if(r&1){let o=n.pop(),a=ja(s.text,o.text.slice(),0,s.length);if(a.length<=32)n.push(new et(a,o.length+s.length));else{let l=a.length>>1;n.push(new et(a.slice(0,l)),new et(a.slice(l)))}}else n.push(s)}replace(e,i,n){if(!(n instanceof et))return super.replace(e,i,n);let r=ja(this.text,ja(n.text,Bd(this.text,0,e)),i),s=this.length+n.length-(i-e);return r.length<=32?new et(r,s):Ai.from(et.split(r,[]),s)}sliceString(e,i=this.length,n=`
`){let r="";for(let s=0,o=0;s<=i&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(r+=n),e<l&&i>s&&(r+=a.slice(Math.max(0,e-s),i-s)),s=l+1}return r}flatten(e){for(let i of this.text)e.push(i)}scanIdentical(){return 0}static split(e,i){let n=[],r=-1;for(let s of e)n.push(s),r+=s.length+1,n.length==32&&(i.push(new et(n,r)),n=[],r=-1);return r>-1&&i.push(new et(n,r)),i}}class Ai extends Qe{constructor(e,i){super(),this.children=e,this.length=i,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,i,n,r){for(let s=0;;s++){let o=this.children[s],a=r+o.length,l=n+o.lines-1;if((i?l:a)>=e)return o.lineInner(e,i,n,r);r=a+1,n=l+1}}decompose(e,i,n,r){for(let s=0,o=0;o<=i&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&i>=o){let c=r&((o<=e?1:0)|(l>=i?2:0));o>=e&&l<=i&&!c?n.push(a):a.decompose(e-o,i-o,n,c)}o=l+1}}replace(e,i,n){if(n.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.length;if(e>=s&&i<=a){let l=o.replace(e-s,i-s,n),c=this.lines-o.lines+l.lines;if(l.lines<c>>5-1&&l.lines>c>>5+1){let h=this.children.slice();return h[r]=l,new Ai(h,this.length-(i-e)+n.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,i,n)}sliceString(e,i=this.length,n=`
`){let r="";for(let s=0,o=0;s<this.children.length&&o<=i;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(r+=n),e<l&&i>o&&(r+=a.sliceString(e-o,i-o,n)),o=l+1}return r}flatten(e){for(let i of this.children)i.flatten(e)}scanIdentical(e,i){if(!(e instanceof Ai))return 0;let n=0,[r,s,o,a]=i>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=i,s+=i){if(r==o||s==a)return n;let l=this.children[r],c=e.children[s];if(l!=c)return n+l.scanIdentical(c,i);n+=l.length+1}}static from(e,i=e.reduce((n,r)=>n+r.length+1,-1)){let n=0;for(let d of e)n+=d.lines;if(n<32){let d=[];for(let p of e)p.flatten(d);return new et(d,i)}let r=Math.max(32,n>>5),s=r<<1,o=r>>1,a=[],l=0,c=-1,h=[];function u(d){let p;if(d.lines>s&&d instanceof Ai)for(let g of d.children)u(g);else d.lines>o&&(l>o||!l)?(f(),a.push(d)):d instanceof et&&l&&(p=h[h.length-1])instanceof et&&d.lines+p.lines<=32?(l+=d.lines,c+=d.length+1,h[h.length-1]=new et(p.text.concat(d.text),p.length+1+d.length)):(l+d.lines>r&&f(),l+=d.lines,c+=d.length+1,h.push(d))}function f(){l!=0&&(a.push(h.length==1?h[0]:Ai.from(h,c)),c=-1,l=h.length=0)}for(let d of e)u(d);return f(),a.length==1?a[0]:new Ai(a,i)}}Qe.empty=new et([""],0);function u5(t){let e=-1;for(let i of t)e+=i.length+1;return e}function ja(t,e,i=0,n=1e9){for(let r=0,s=0,o=!0;s<t.length&&r<=n;s++){let a=t[s],l=r+a.length;l>=i&&(l>n&&(a=a.slice(0,n-r)),r<i&&(a=a.slice(i-r)),o?(e[e.length-1]+=a,o=!1):e.push(a)),r=l+1}return e}function Bd(t,e,i){return ja(t,[""],e,i)}class qs{constructor(e,i=1){this.dir=i,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[i>0?1:(e instanceof et?e.text.length:e.children.length)<<1]}nextInner(e,i){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,r=this.nodes[n],s=this.offsets[n],o=s>>1,a=r instanceof et?r.text.length:r.children.length;if(o==(i>0?a:0)){if(n==0)return this.done=!0,this.value="",this;i>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(i>0?0:1)){if(this.offsets[n]+=i,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof et){let l=r.text[o+(i<0?-1:0)];if(this.offsets[n]+=i,l.length>Math.max(0,e))return this.value=e==0?l:i>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=r.children[o+(i<0?-1:0)];e>l.length?(e-=l.length,this.offsets[n]+=i):(i<0&&this.offsets[n]--,this.nodes.push(l),this.offsets.push(i>0?1:(l instanceof et?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class WO{constructor(e,i,n){this.value="",this.done=!1,this.cursor=new qs(e,i>n?-1:1),this.pos=i>n?e.length:0,this.from=Math.min(i,n),this.to=Math.max(i,n)}nextInner(e,i){if(i<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,i<0?this.pos-this.to:this.from-this.pos);let n=i<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*i,this.value=r.length<=n?r:i<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class UO{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:i,lineBreak:n,value:r}=this.inner.next(e);return i?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Qe.prototype[Symbol.iterator]=function(){return this.iter()},qs.prototype[Symbol.iterator]=WO.prototype[Symbol.iterator]=UO.prototype[Symbol.iterator]=function(){return this});class f5{constructor(e,i,n,r){this.from=e,this.to=i,this.number=n,this.text=r}get length(){return this.to-this.from}}let jr="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<jr.length;t++)jr[t]+=jr[t-1];function d5(t){for(let e=1;e<jr.length;e+=2)if(jr[e]>t)return jr[e-1]<=t;return!1}function Vd(t){return t>=127462&&t<=127487}const Xd=8205;function Pt(t,e,i=!0,n=!0){return(i?FO:p5)(t,e,n)}function FO(t,e,i){if(e==t.length)return e;e&&zO(t.charCodeAt(e))&&qO(t.charCodeAt(e-1))&&e--;let n=yt(t,e);for(e+=ui(n);e<t.length;){let r=yt(t,e);if(n==Xd||r==Xd||i&&d5(r))e+=ui(r),n=r;else if(Vd(r)){let s=0,o=e-2;for(;o>=0&&Vd(yt(t,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function p5(t,e,i){for(;e>0;){let n=FO(t,e-2,i);if(n<e)return n;e--}return 0}function zO(t){return t>=56320&&t<57344}function qO(t){return t>=55296&&t<56320}function yt(t,e){let i=t.charCodeAt(e);if(!qO(i)||e+1==t.length)return i;let n=t.charCodeAt(e+1);return zO(n)?(i-55296<<10)+(n-56320)+65536:i}function cf(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function ui(t){return t<65536?1:2}const Mh=/\r\n?|\n/;var St=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(St||(St={}));class Li{constructor(e){this.sections=e}get length(){let e=0;for(let i=0;i<this.sections.length;i+=2)e+=this.sections[i];return e}get newLength(){let e=0;for(let i=0;i<this.sections.length;i+=2){let n=this.sections[i+1];e+=n<0?this.sections[i]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let i=0,n=0,r=0;i<this.sections.length;){let s=this.sections[i++],o=this.sections[i++];o<0?(e(n,r,s),r+=s):r+=o,n+=s}}iterChangedRanges(e,i=!1){Dh(this,e,i)}get invertedDesc(){let e=[];for(let i=0;i<this.sections.length;){let n=this.sections[i++],r=this.sections[i++];r<0?e.push(n,r):e.push(r,n)}return new Li(e)}composeDesc(e){return this.empty?e:e.empty?this:GO(this,e)}mapDesc(e,i=!1){return e.empty?this:Lh(this,e,i)}mapPos(e,i=-1,n=St.Simple){let r=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],c=r+a;if(l<0){if(c>e)return s+(e-r);s+=a}else{if(n!=St.Simple&&c>=e&&(n==St.TrackDel&&r<e&&c>e||n==St.TrackBefore&&r<e||n==St.TrackAfter&&c>e))return null;if(c>e||c==e&&i<0&&!a)return e==r||i<0?s:s+l;s+=l}r=c}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return s}touchesRange(e,i=e){for(let n=0,r=0;n<this.sections.length&&r<=i;){let s=this.sections[n++],o=this.sections[n++],a=r+s;if(o>=0&&r<=i&&a>=e)return r<e&&a>i?"cover":!0;r=a}return!1}toString(){let e="";for(let i=0;i<this.sections.length;){let n=this.sections[i++],r=this.sections[i++];e+=(e?" ":"")+n+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(i=>typeof i!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Li(e)}static create(e){return new Li(e)}}class at extends Li{constructor(e,i){super(e),this.inserted=i}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Dh(this,(i,n,r,s,o)=>e=e.replace(r,r+(n-i),o),!1),e}mapDesc(e,i=!1){return Lh(this,e,i,!0)}invert(e){let i=this.sections.slice(),n=[];for(let r=0,s=0;r<i.length;r+=2){let o=i[r],a=i[r+1];if(a>=0){i[r]=a,i[r+1]=o;let l=r>>1;for(;n.length<l;)n.push(Qe.empty);n.push(o?e.slice(s,s+o):Qe.empty)}s+=o}return new at(i,n)}compose(e){return this.empty?e:e.empty?this:GO(this,e,!0)}map(e,i=!1){return e.empty?this:Lh(this,e,i,!0)}iterChanges(e,i=!1){Dh(this,e,i)}get desc(){return Li.create(this.sections)}filter(e){let i=[],n=[],r=[],s=new ho(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let h=Math.min(s.len,l-a);_t(r,h,-1);let u=s.ins==-1?-1:s.off==0?s.ins:0;_t(i,h,u),u>0&&Tn(n,i,s.text),s.forward(h),a+=h}let c=e[o++];for(;a<c;){if(s.done)break e;let h=Math.min(s.len,c-a);_t(i,h,-1),_t(r,h,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(h),a+=h}}return{changes:new at(i,n),filtered:Li.create(r)}}toJSON(){let e=[];for(let i=0;i<this.sections.length;i+=2){let n=this.sections[i],r=this.sections[i+1];r<0?e.push(n):r==0?e.push([n]):e.push([n].concat(this.inserted[i>>1].toJSON()))}return e}static of(e,i,n){let r=[],s=[],o=0,a=null;function l(h=!1){if(!h&&!r.length)return;o<i&&_t(r,i-o,-1);let u=new at(r,s);a=a?a.compose(u.map(a)):u,r=[],s=[],o=0}function c(h){if(Array.isArray(h))for(let u of h)c(u);else if(h instanceof at){if(h.length!=i)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${i})`);l(),a=a?a.compose(h.map(a)):h}else{let{from:u,to:f=u,insert:d}=h;if(u>f||u<0||f>i)throw new RangeError(`Invalid change range ${u} to ${f} (in doc of length ${i})`);let p=d?typeof d=="string"?Qe.of(d.split(n||Mh)):d:Qe.empty,g=p.length;if(u==f&&g==0)return;u<o&&l(),u>o&&_t(r,u-o,-1),_t(r,f-u,g),Tn(s,r,p),o=f}}return c(e),l(!a),a}static empty(e){return new at(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let i=[],n=[];for(let r=0;r<e.length;r++){let s=e[r];if(typeof s=="number")i.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)i.push(s[0],0);else{for(;n.length<r;)n.push(Qe.empty);n[r]=Qe.of(s.slice(1)),i.push(s[0],n[r].length)}}}return new at(i,n)}static createSet(e,i){return new at(e,i)}}function _t(t,e,i,n=!1){if(e==0&&i<=0)return;let r=t.length-2;r>=0&&i<=0&&i==t[r+1]?t[r]+=e:e==0&&t[r]==0?t[r+1]+=i:n?(t[r]+=e,t[r+1]+=i):t.push(e,i)}function Tn(t,e,i){if(i.length==0)return;let n=e.length-2>>1;if(n<t.length)t[t.length-1]=t[t.length-1].append(i);else{for(;t.length<n;)t.push(Qe.empty);t.push(i)}}function Dh(t,e,i){let n=t.inserted;for(let r=0,s=0,o=0;o<t.sections.length;){let a=t.sections[o++],l=t.sections[o++];if(l<0)r+=a,s+=a;else{let c=r,h=s,u=Qe.empty;for(;c+=a,h+=l,l&&n&&(u=u.append(n[o-2>>1])),!(i||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],l=t.sections[o++];e(r,c,s,h,u),r=c,s=h}}}function Lh(t,e,i,n=!1){let r=[],s=n?[]:null,o=new ho(t),a=new ho(e);for(let l=-1;;)if(o.ins==-1&&a.ins==-1){let c=Math.min(o.len,a.len);_t(r,c,-1),o.forward(c),a.forward(c)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!i))){let c=a.len;for(_t(r,a.ins,-1);c;){let h=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=h&&(_t(r,0,o.ins),s&&Tn(s,r,o.text),l=o.i),o.forward(h),c-=h}a.next()}else if(o.ins>=0){let c=0,h=o.len;for(;h;)if(a.ins==-1){let u=Math.min(h,a.len);c+=u,h-=u,a.forward(u)}else if(a.ins==0&&a.len<h)h-=a.len,a.next();else break;_t(r,c,l<o.i?o.ins:0),s&&l<o.i&&Tn(s,r,o.text),l=o.i,o.forward(o.len-h)}else{if(o.done&&a.done)return s?at.createSet(r,s):Li.create(r);throw new Error("Mismatched change set lengths")}}function GO(t,e,i=!1){let n=[],r=i?[]:null,s=new ho(t),o=new ho(e);for(let a=!1;;){if(s.done&&o.done)return r?at.createSet(n,r):Li.create(n);if(s.ins==0)_t(n,s.len,0,a),s.next();else if(o.len==0&&!o.done)_t(n,0,o.ins,a),r&&Tn(r,n,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),c=n.length;if(s.ins==-1){let h=o.ins==-1?-1:o.off?0:o.ins;_t(n,l,h,a),r&&h&&Tn(r,n,o.text)}else o.ins==-1?(_t(n,s.off?0:s.len,l,a),r&&Tn(r,n,s.textBit(l))):(_t(n,s.off?0:s.len,o.off?0:o.ins,a),r&&!o.off&&Tn(r,n,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||n.length>c),s.forward2(l),o.forward(l)}}}}class ho{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,i=this.i-2>>1;return i>=e.length?Qe.empty:e[i]}textBit(e){let{inserted:i}=this.set,n=this.i-2>>1;return n>=i.length&&!e?Qe.empty:i[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class sr{constructor(e,i,n){this.from=e,this.to=i,this.flags=n}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,i=-1){let n,r;return this.empty?n=r=e.mapPos(this.from,i):(n=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new sr(n,r,this.flags)}extend(e,i=e){if(e<=this.anchor&&i>=this.anchor)return Q.range(e,i);let n=Math.abs(e-this.anchor)>Math.abs(i-this.anchor)?e:i;return Q.range(this.anchor,n)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Q.range(e.anchor,e.head)}static create(e,i,n){return new sr(e,i,n)}}class Q{constructor(e,i){this.ranges=e,this.mainIndex=i}map(e,i=-1){return e.empty?this:Q.create(this.ranges.map(n=>n.map(e,i)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Q([this.main],0)}addRange(e,i=!0){return Q.create([e].concat(this.ranges),i?0:this.mainIndex+1)}replaceRange(e,i=this.mainIndex){let n=this.ranges.slice();return n[i]=e,Q.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Q(e.ranges.map(i=>sr.fromJSON(i)),e.main)}static single(e,i=e){return new Q([Q.range(e,i)],0)}static create(e,i=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<e.length;r++){let s=e[r];if(s.empty?s.from<=n:s.from<n)return Q.normalized(e.slice(),i);n=s.to}return new Q(e,i)}static cursor(e,i=0,n,r){return sr.create(e,e,(i==0?0:i<0?4:8)|(n==null?3:Math.min(2,n))|(r??33554431)<<5)}static range(e,i,n,r){let s=(n??33554431)<<5|(r==null?3:Math.min(2,r));return i<e?sr.create(i,e,24|s):sr.create(e,i,(i>e?4:0)|s)}static normalized(e,i=0){let n=e[i];e.sort((r,s)=>r.from-s.from),i=e.indexOf(n);for(let r=1;r<e.length;r++){let s=e[r],o=e[r-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);r<=i&&i--,e.splice(--r,2,s.anchor>s.head?Q.range(l,a):Q.range(a,l))}}return new Q(e,i)}}function HO(t,e){for(let i of t.ranges)if(i.to>e)throw new RangeError("Selection points outside of document")}let hf=0;class K{constructor(e,i,n,r,s){this.combine=e,this.compareInput=i,this.compare=n,this.isStatic=r,this.id=hf++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}static define(e={}){return new K(e.combine||(i=>i),e.compareInput||((i,n)=>i===n),e.compare||(e.combine?(i,n)=>i===n:uf),!!e.static,e.enables)}of(e){return new Na([],this,0,e)}compute(e,i){if(this.isStatic)throw new Error("Can't compute a static facet");return new Na(e,this,1,i)}computeN(e,i){if(this.isStatic)throw new Error("Can't compute a static facet");return new Na(e,this,2,i)}from(e,i){return i||(i=n=>n),this.compute([e],n=>i(n.field(e)))}}function uf(t,e){return t==e||t.length==e.length&&t.every((i,n)=>i===e[n])}class Na{constructor(e,i,n,r){this.dependencies=e,this.facet=i,this.type=n,this.value=r,this.id=hf++}dynamicSlot(e){var i;let n=this.value,r=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,c=!1,h=[];for(let u of this.dependencies)u=="doc"?l=!0:u=="selection"?c=!0:((i=e[u.id])!==null&&i!==void 0?i:1)&1||h.push(e[u.id]);return{create(u){return u.values[o]=n(u),1},update(u,f){if(l&&f.docChanged||c&&(f.docChanged||f.selection)||jh(u,h)){let d=n(u);if(a?!Wd(d,u.values[o],r):!r(d,u.values[o]))return u.values[o]=d,1}return 0},reconfigure:(u,f)=>{let d,p=f.config.address[s];if(p!=null){let g=al(f,p);if(this.dependencies.every(m=>m instanceof K?f.facet(m)===u.facet(m):m instanceof Ot?f.field(m,!1)==u.field(m,!1):!0)||(a?Wd(d=n(u),g,r):r(d=n(u),g)))return u.values[o]=g,0}else d=n(u);return u.values[o]=d,1}}}}function Wd(t,e,i){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!i(t[n],e[n]))return!1;return!0}function jh(t,e){let i=!1;for(let n of e)Gs(t,n)&1&&(i=!0);return i}function g5(t,e,i){let n=i.map(l=>t[l.id]),r=i.map(l=>l.type),s=n.filter(l=>!(l&1)),o=t[e.id]>>1;function a(l){let c=[];for(let h=0;h<n.length;h++){let u=al(l,n[h]);if(r[h]==2)for(let f of u)c.push(f);else c.push(u)}return e.combine(c)}return{create(l){for(let c of n)Gs(l,c);return l.values[o]=a(l),1},update(l,c){if(!jh(l,s))return 0;let h=a(l);return e.compare(h,l.values[o])?0:(l.values[o]=h,1)},reconfigure(l,c){let h=jh(l,n),u=c.config.facets[e.id],f=c.facet(e);if(u&&!h&&uf(i,u))return l.values[o]=f,0;let d=a(l);return e.compare(d,f)?(l.values[o]=f,0):(l.values[o]=d,1)}}}const Ud=K.define({static:!0});class Ot{constructor(e,i,n,r,s){this.id=e,this.createF=i,this.updateF=n,this.compareF=r,this.spec=s,this.provides=void 0}static define(e){let i=new Ot(hf++,e.create,e.update,e.compare||((n,r)=>n===r),e);return e.provide&&(i.provides=e.provide(i)),i}create(e){let i=e.facet(Ud).find(n=>n.field==this);return((i==null?void 0:i.create)||this.createF)(e)}slot(e){let i=e[this.id]>>1;return{create:n=>(n.values[i]=this.create(n),1),update:(n,r)=>{let s=n.values[i],o=this.updateF(s,r);return this.compareF(s,o)?0:(n.values[i]=o,1)},reconfigure:(n,r)=>r.config.address[this.id]!=null?(n.values[i]=r.field(this),0):(n.values[i]=this.create(n),1)}}init(e){return[this,Ud.of({field:this,create:e})]}get extension(){return this}}const er={lowest:4,low:3,default:2,high:1,highest:0};function Ps(t){return e=>new KO(e,t)}const xr={highest:Ps(er.highest),high:Ps(er.high),default:Ps(er.default),low:Ps(er.low),lowest:Ps(er.lowest)};class KO{constructor(e,i){this.inner=e,this.prec=i}}class Lo{of(e){return new Nh(this,e)}reconfigure(e){return Lo.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Nh{constructor(e,i){this.compartment=e,this.inner=i}}class ol{constructor(e,i,n,r,s,o){for(this.base=e,this.compartments=i,this.dynamicSlots=n,this.address=r,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let i=this.address[e.id];return i==null?e.default:this.staticValues[i>>1]}static resolve(e,i,n){let r=[],s=Object.create(null),o=new Map;for(let f of m5(e,i,o))f instanceof Ot?r.push(f):(s[f.facet.id]||(s[f.facet.id]=[])).push(f);let a=Object.create(null),l=[],c=[];for(let f of r)a[f.id]=c.length<<1,c.push(d=>f.slot(d));let h=n==null?void 0:n.config.facets;for(let f in s){let d=s[f],p=d[0].facet,g=h&&h[f]||[];if(d.every(m=>m.type==0))if(a[p.id]=l.length<<1|1,uf(g,d))l.push(n.facet(p));else{let m=p.combine(d.map(b=>b.value));l.push(n&&p.compare(m,n.facet(p))?n.facet(p):m)}else{for(let m of d)m.type==0?(a[m.id]=l.length<<1|1,l.push(m.value)):(a[m.id]=c.length<<1,c.push(b=>m.dynamicSlot(b)));a[p.id]=c.length<<1,c.push(m=>g5(m,p,d))}}let u=c.map(f=>f(a));return new ol(e,o,u,a,l,s)}}function m5(t,e,i){let n=[[],[],[],[],[]],r=new Map;function s(o,a){let l=r.get(o);if(l!=null){if(l<=a)return;let c=n[l].indexOf(o);c>-1&&n[l].splice(c,1),o instanceof Nh&&i.delete(o.compartment)}if(r.set(o,a),Array.isArray(o))for(let c of o)s(c,a);else if(o instanceof Nh){if(i.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;i.set(o.compartment,c),s(c,a)}else if(o instanceof KO)s(o.inner,o.prec);else if(o instanceof Ot)n[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof Na)n[a].push(o),o.facet.extensions&&s(o.facet.extensions,er.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,a)}}return s(t,er.default),n.reduce((o,a)=>o.concat(a))}function Gs(t,e){if(e&1)return 2;let i=e>>1,n=t.status[i];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;t.status[i]=4;let r=t.computeSlot(t,t.config.dynamicSlots[i]);return t.status[i]=2|r}function al(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const JO=K.define(),e0=K.define({combine:t=>t.some(e=>e),static:!0}),t0=K.define({combine:t=>t.length?t[0]:void 0,static:!0}),i0=K.define(),n0=K.define(),r0=K.define(),s0=K.define({combine:t=>t.length?t[0]:!1});class pn{constructor(e,i){this.type=e,this.value=i}static define(){return new O5}}class O5{of(e){return new pn(this,e)}}class b5{constructor(e){this.map=e}of(e){return new be(this,e)}}class be{constructor(e,i){this.type=e,this.value=i}map(e){let i=this.type.map(this.value,e);return i===void 0?void 0:i==this.value?this:new be(this.type,i)}is(e){return this.type==e}static define(e={}){return new b5(e.map||(i=>i))}static mapEffects(e,i){if(!e.length)return e;let n=[];for(let r of e){let s=r.map(i);s&&n.push(s)}return n}}be.reconfigure=be.define();be.appendConfig=be.define();let Wt=class Ns{constructor(e,i,n,r,s,o){this.startState=e,this.changes=i,this.selection=n,this.effects=r,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,n&&HO(n,i.newLength),s.some(a=>a.type==Ns.time)||(this.annotations=s.concat(Ns.time.of(Date.now())))}static create(e,i,n,r,s,o){return new Ns(e,i,n,r,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let i of this.annotations)if(i.type==e)return i.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let i=this.annotation(Ns.userEvent);return!!(i&&(i==e||i.length>e.length&&i.slice(0,e.length)==e&&i[e.length]=="."))}};Wt.time=pn.define();Wt.userEvent=pn.define();Wt.addToHistory=pn.define();Wt.remote=pn.define();function v5(t,e){let i=[];for(let n=0,r=0;;){let s,o;if(n<t.length&&(r==e.length||e[r]>=t[n]))s=t[n++],o=t[n++];else if(r<e.length)s=e[r++],o=e[r++];else return i;!i.length||i[i.length-1]<s?i.push(s,o):i[i.length-1]<o&&(i[i.length-1]=o)}}function o0(t,e,i){var n;let r,s,o;return i?(r=e.changes,s=at.empty(e.changes.length),o=t.changes.compose(e.changes)):(r=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(r)),{changes:o,selection:e.selection?e.selection.map(s):(n=t.selection)===null||n===void 0?void 0:n.map(r),effects:be.mapEffects(t.effects,r).concat(be.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Yh(t,e,i){let n=e.selection,r=Nr(e.annotations);return e.userEvent&&(r=r.concat(Wt.userEvent.of(e.userEvent))),{changes:e.changes instanceof at?e.changes:at.of(e.changes||[],i,t.facet(t0)),selection:n&&(n instanceof Q?n:Q.single(n.anchor,n.head)),effects:Nr(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function a0(t,e,i){let n=Yh(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(i=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(i=!1);let o=!!e[s].sequential;n=o0(n,Yh(t,e[s],o?n.changes.newLength:t.doc.length),o)}let r=Wt.create(t,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return x5(i?y5(r):r)}function y5(t){let e=t.startState,i=!0;for(let r of e.facet(i0)){let s=r(t);if(s===!1){i=!1;break}Array.isArray(s)&&(i=i===!0?s:v5(i,s))}if(i!==!0){let r,s;if(i===!1)s=t.changes.invertedDesc,r=at.empty(e.doc.length);else{let o=t.changes.filter(i);r=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}t=Wt.create(e,r,t.selection&&t.selection.map(s),be.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let n=e.facet(n0);for(let r=n.length-1;r>=0;r--){let s=n[r](t);s instanceof Wt?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Wt?t=s[0]:t=a0(e,Nr(s),!1)}return t}function x5(t){let e=t.startState,i=e.facet(r0),n=t;for(let r=i.length-1;r>=0;r--){let s=i[r](t);s&&Object.keys(s).length&&(n=o0(n,Yh(e,s,t.changes.newLength),!0))}return n==t?t:Wt.create(e,t.changes,t.selection,n.effects,n.annotations,n.scrollIntoView)}const S5=[];function Nr(t){return t==null?S5:Array.isArray(t)?t:[t]}var ze=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(ze||(ze={}));const w5=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Bh;try{Bh=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function k5(t){if(Bh)return Bh.test(t);for(let e=0;e<t.length;e++){let i=t[e];if(/\w/.test(i)||i>""&&(i.toUpperCase()!=i.toLowerCase()||w5.test(i)))return!0}return!1}function C5(t){return e=>{if(!/\S/.test(e))return ze.Space;if(k5(e))return ze.Word;for(let i=0;i<t.length;i++)if(e.indexOf(t[i])>-1)return ze.Word;return ze.Other}}class Ce{constructor(e,i,n,r,s,o){this.config=e,this.doc=i,this.selection=n,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Gs(this,a<<1);this.computeSlot=null}field(e,i=!0){let n=this.config.address[e.id];if(n==null){if(i)throw new RangeError("Field is not present in this state");return}return Gs(this,n),al(this,n)}update(...e){return a0(this,e,!0)}applyTransaction(e){let i=this.config,{base:n,compartments:r}=i;for(let o of e.effects)o.is(Lo.reconfigure)?(i&&(r=new Map,i.compartments.forEach((a,l)=>r.set(l,a)),i=null),r.set(o.value.compartment,o.value.extension)):o.is(be.reconfigure)?(i=null,n=o.value):o.is(be.appendConfig)&&(i=null,n=Nr(n).concat(o.value));let s;i?s=e.startState.values.slice():(i=ol.resolve(n,r,this),s=new Ce(i,this.doc,this.selection,i.dynamicSlots.map(()=>null),(a,l)=>l.reconfigure(a,this),null).values),new Ce(i,e.newDoc,e.newSelection,s,(o,a)=>a.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:e},range:Q.cursor(i.from+e.length)}))}changeByRange(e){let i=this.selection,n=e(i.ranges[0]),r=this.changes(n.changes),s=[n.range],o=Nr(n.effects);for(let a=1;a<i.ranges.length;a++){let l=e(i.ranges[a]),c=this.changes(l.changes),h=c.map(r);for(let f=0;f<a;f++)s[f]=s[f].map(h);let u=r.mapDesc(c,!0);s.push(l.range.map(u)),r=r.compose(h),o=be.mapEffects(o,h).concat(be.mapEffects(Nr(l.effects),u))}return{changes:r,selection:Q.create(s,i.mainIndex),effects:o}}changes(e=[]){return e instanceof at?e:at.of(e,this.doc.length,this.facet(Ce.lineSeparator))}toText(e){return Qe.of(e.split(this.facet(Ce.lineSeparator)||Mh))}sliceDoc(e=0,i=this.doc.length){return this.doc.sliceString(e,i,this.lineBreak)}facet(e){let i=this.config.address[e.id];return i==null?e.default:(Gs(this,i),al(this,i))}toJSON(e){let i={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let r=e[n];r instanceof Ot&&this.config.address[r.id]!=null&&(i[n]=r.spec.toJSON(this.field(e[n]),this))}return i}static fromJSON(e,i={},n){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n){for(let s in n)if(Object.prototype.hasOwnProperty.call(e,s)){let o=n[s],a=e[s];r.push(o.init(l=>o.spec.fromJSON(a,l)))}}return Ce.create({doc:e.doc,selection:Q.fromJSON(e.selection),extensions:i.extensions?r.concat([i.extensions]):r})}static create(e={}){let i=ol.resolve(e.extensions||[],new Map),n=e.doc instanceof Qe?e.doc:Qe.of((e.doc||"").split(i.staticFacet(Ce.lineSeparator)||Mh)),r=e.selection?e.selection instanceof Q?e.selection:Q.single(e.selection.anchor,e.selection.head):Q.single(0);return HO(r,n.length),i.staticFacet(e0)||(r=r.asSingle()),new Ce(i,n,r,i.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(Ce.tabSize)}get lineBreak(){return this.facet(Ce.lineSeparator)||`
`}get readOnly(){return this.facet(s0)}phrase(e,...i){for(let n of this.facet(Ce.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return i.length&&(e=e.replace(/\$(\$|\d*)/g,(n,r)=>{if(r=="$")return"$";let s=+(r||1);return!s||s>i.length?n:i[s-1]})),e}languageDataAt(e,i,n=-1){let r=[];for(let s of this.facet(JO))for(let o of s(this,i,n))Object.prototype.hasOwnProperty.call(o,e)&&r.push(o[e]);return r}charCategorizer(e){return C5(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:i,from:n,length:r}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-n,a=e-n;for(;o>0;){let l=Pt(i,o,!1);if(s(i.slice(l,o))!=ze.Word)break;o=l}for(;a<r;){let l=Pt(i,a);if(s(i.slice(a,l))!=ze.Word)break;a=l}return o==a?null:Q.range(o+n,a+n)}}Ce.allowMultipleSelections=e0;Ce.tabSize=K.define({combine:t=>t.length?t[0]:4});Ce.lineSeparator=t0;Ce.readOnly=s0;Ce.phrases=K.define({compare(t,e){let i=Object.keys(t),n=Object.keys(e);return i.length==n.length&&i.every(r=>t[r]==e[r])}});Ce.languageData=JO;Ce.changeFilter=i0;Ce.transactionFilter=n0;Ce.transactionExtender=r0;Lo.reconfigure=be.define();function Vi(t,e,i={}){let n={};for(let r of t)for(let s of Object.keys(r)){let o=r[s],a=n[s];if(a===void 0)n[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(i,s))n[s]=i[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let r in e)n[r]===void 0&&(n[r]=e[r]);return n}class ur{eq(e){return this==e}range(e,i=e){return Vh.create(e,i,this)}}ur.prototype.startSide=ur.prototype.endSide=0;ur.prototype.point=!1;ur.prototype.mapMode=St.TrackDel;let Vh=class l0{constructor(e,i,n){this.from=e,this.to=i,this.value=n}static create(e,i,n){return new l0(e,i,n)}};function Xh(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class ff{constructor(e,i,n,r){this.from=e,this.to=i,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,i,n,r=0){let s=n?this.to:this.from;for(let o=r,a=s.length;;){if(o==a)return o;let l=o+a>>1,c=s[l]-e||(n?this.value[l].endSide:this.value[l].startSide)-i;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,i,n,r){for(let s=this.findIndex(i,-1e9,!0),o=this.findIndex(n,1e9,!1,s);s<o;s++)if(r(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,i){let n=[],r=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],h=this.from[l]+e,u=this.to[l]+e,f,d;if(h==u){let p=i.mapPos(h,c.startSide,c.mapMode);if(p==null||(f=d=p,c.startSide!=c.endSide&&(d=i.mapPos(h,c.endSide),d<f)))continue}else if(f=i.mapPos(h,c.startSide),d=i.mapPos(u,c.endSide),f>d||f==d&&c.startSide>0&&c.endSide<=0)continue;(d-f||c.endSide-c.startSide)<0||(o<0&&(o=f),c.point&&(a=Math.max(a,d-f)),n.push(c),r.push(f-o),s.push(d-o))}return{mapped:n.length?new ff(r,s,n,a):null,pos:o}}}class Ee{constructor(e,i,n,r){this.chunkPos=e,this.chunk=i,this.nextLayer=n,this.maxPoint=r}static create(e,i,n,r){return new Ee(e,i,n,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let i of this.chunk)e+=i.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:i=[],sort:n=!1,filterFrom:r=0,filterTo:s=this.length}=e,o=e.filter;if(i.length==0&&!o)return this;if(n&&(i=i.slice().sort(Xh)),this.isEmpty)return i.length?Ee.of(i):this;let a=new c0(this,null,-1).goto(0),l=0,c=[],h=new Dn;for(;a.value||l<i.length;)if(l<i.length&&(a.from-i[l].from||a.startSide-i[l].value.startSide)>=0){let u=i[l++];h.addInner(u.from,u.to,u.value)||c.push(u)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==i.length||this.chunkEnd(a.chunkIndex)<i[l].from)&&(!o||r>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&h.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||r>a.to||s<a.from||o(a.from,a.to,a.value))&&(h.addInner(a.from,a.to,a.value)||c.push(Vh.create(a.from,a.to,a.value))),a.next());return h.finishInner(this.nextLayer.isEmpty&&!c.length?Ee.empty:this.nextLayer.update({add:c,filter:o,filterFrom:r,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let i=[],n=[],r=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)r=Math.max(r,l.maxPoint),i.push(l),n.push(e.mapPos(a));else if(c===!0){let{mapped:h,pos:u}=l.map(a,e);h&&(r=Math.max(r,h.maxPoint),i.push(h),n.push(u))}}let s=this.nextLayer.map(e);return i.length==0?s:new Ee(n,i,s||Ee.empty,r)}between(e,i,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],o=this.chunk[r];if(i>=s&&e<=s+o.length&&o.between(s,e-s,i-s,n)===!1)return}this.nextLayer.between(e,i,n)}}iter(e=0){return uo.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,i=0){return uo.from(e).goto(i)}static compare(e,i,n,r,s=-1){let o=e.filter(u=>u.maxPoint>0||!u.isEmpty&&u.maxPoint>=s),a=i.filter(u=>u.maxPoint>0||!u.isEmpty&&u.maxPoint>=s),l=Fd(o,a,n),c=new Ts(o,l,s),h=new Ts(a,l,s);n.iterGaps((u,f,d)=>zd(c,u,h,f,d,r)),n.empty&&n.length==0&&zd(c,0,h,0,0,r)}static eq(e,i,n=0,r){r==null&&(r=1e9-1);let s=e.filter(h=>!h.isEmpty&&i.indexOf(h)<0),o=i.filter(h=>!h.isEmpty&&e.indexOf(h)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=Fd(s,o),l=new Ts(s,a,0).goto(n),c=new Ts(o,a,0).goto(n);for(;;){if(l.to!=c.to||!Wh(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>r)return!0;l.next(),c.next()}}static spans(e,i,n,r,s=-1){let o=new Ts(e,null,s).goto(i),a=i,l=o.openStart;for(;;){let c=Math.min(o.to,n);if(o.point){let h=o.activeForPoint(o.to),u=o.pointFrom<i?h.length+1:Math.min(h.length,l);r.point(a,c,o.point,h,u,o.pointRank),l=Math.min(o.openEnd(c),h.length)}else c>a&&(r.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>n)return l+(o.point&&o.to>n?1:0);a=o.to,o.next()}}static of(e,i=!1){let n=new Dn;for(let r of e instanceof Vh?[e]:i?$5(e):e)n.add(r.from,r.to,r.value);return n.finish()}}Ee.empty=new Ee([],[],null,-1);function $5(t){if(t.length>1)for(let e=t[0],i=1;i<t.length;i++){let n=t[i];if(Xh(e,n)>0)return t.slice().sort(Xh);e=n}return t}Ee.empty.nextLayer=Ee.empty;class Dn{finishChunk(e){this.chunks.push(new ff(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,i,n){this.addInner(e,i,n)||(this.nextLayer||(this.nextLayer=new Dn)).add(e,i,n)}addInner(e,i,n){let r=e-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(i-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=i,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,i-e)),!0)}addChunk(e,i){if((e-this.lastTo||i.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,i.maxPoint),this.chunks.push(i),this.chunkPos.push(e);let n=i.value.length-1;return this.last=i.value[n],this.lastFrom=i.from[n]+e,this.lastTo=i.to[n]+e,!0}finish(){return this.finishInner(Ee.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let i=Ee.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,i}}function Fd(t,e,i){let n=new Map;for(let s of t)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&n.set(s.chunk[o],s.chunkPos[o]);let r=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=n.get(s.chunk[o]);a!=null&&(i?i.mapPos(a):a)==s.chunkPos[o]&&!(i!=null&&i.touchesRange(a,a+s.chunk[o].length))&&r.add(s.chunk[o])}return r}class c0{constructor(e,i,n,r=0){this.layer=e,this.skip=i,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,i=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,i,!1),this}gotoInner(e,i,n){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],i,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,i){(this.to-e||this.endSide-i)<0&&this.gotoInner(e,i,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],i=this.layer.chunk[this.chunkIndex],n=e+i.from[this.rangeIndex];if(this.from=n,this.to=e+i.to[this.rangeIndex],this.value=i.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class uo{constructor(e){this.heap=e}static from(e,i=null,n=-1){let r=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=n&&r.push(new c0(o,i,n,s));return r.length==1?r[0]:new uo(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,i=-1e9){for(let n of this.heap)n.goto(e,i);for(let n=this.heap.length>>1;n>=0;n--)Zc(this.heap,n);return this.next(),this}forward(e,i){for(let n of this.heap)n.forward(e,i);for(let n=this.heap.length>>1;n>=0;n--)Zc(this.heap,n);(this.to-e||this.value.endSide-i)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Zc(this.heap,0)}}}function Zc(t,e){for(let i=t[e];;){let n=(e<<1)+1;if(n>=t.length)break;let r=t[n];if(n+1<t.length&&r.compare(t[n+1])>=0&&(r=t[n+1],n++),i.compare(r)<0)break;t[n]=i,t[e]=r,e=n}}class Ts{constructor(e,i,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=uo.from(e,i,n)}goto(e,i=-1e9){return this.cursor.goto(e,i),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=i,this.openStart=-1,this.next(),this}forward(e,i){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-i)<0;)this.removeActive(this.minActive);this.cursor.forward(e,i)}removeActive(e){la(this.active,e),la(this.activeTo,e),la(this.activeRank,e),this.minActive=qd(this.active,this.activeTo)}addActive(e){let i=0,{value:n,to:r,rank:s}=this.cursor;for(;i<this.activeRank.length&&this.activeRank[i]<=s;)i++;ca(this.active,i,n),ca(this.activeTo,i,r),ca(this.activeRank,i,s),e&&ca(e,i,this.cursor.from),this.minActive=qd(this.active,this.activeTo)}next(){let e=this.to,i=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&la(n,r)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(n),this.cursor.next();else if(i&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let r=n.length-1;r>=0&&n[r]<e;r--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let i=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&i.push(this.active[n]);return i.reverse()}openEnd(e){let i=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)i++;return i}}function zd(t,e,i,n,r,s){t.goto(e),i.goto(n);let o=n+r,a=n,l=n-e;for(;;){let c=t.to+l-i.to||t.endSide-i.endSide,h=c<0?t.to+l:i.to,u=Math.min(h,o);if(t.point||i.point?t.point&&i.point&&(t.point==i.point||t.point.eq(i.point))&&Wh(t.activeForPoint(t.to),i.activeForPoint(i.to))||s.comparePoint(a,u,t.point,i.point):u>a&&!Wh(t.active,i.active)&&s.compareRange(a,u,t.active,i.active),h>o)break;a=h,c<=0&&t.next(),c>=0&&i.next()}}function Wh(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!=e[i]&&!t[i].eq(e[i]))return!1;return!0}function la(t,e){for(let i=e,n=t.length-1;i<n;i++)t[i]=t[i+1];t.pop()}function ca(t,e,i){for(let n=t.length-1;n>=e;n--)t[n+1]=t[n];t[e]=i}function qd(t,e){let i=-1,n=1e9;for(let r=0;r<e.length;r++)(e[r]-n||t[r].endSide-t[i].endSide)<0&&(i=r,n=e[r]);return i}function ds(t,e,i=t.length){let n=0;for(let r=0;r<i;)t.charCodeAt(r)==9?(n+=e-n%e,r++):(n++,r=Pt(t,r));return n}function Uh(t,e,i,n){for(let r=0,s=0;;){if(s>=e)return r;if(r==t.length)break;s+=t.charCodeAt(r)==9?i-s%i:1,r=Pt(t,r)}return n===!0?-1:t.length}const Fh="ͼ",Gd=typeof Symbol>"u"?"__"+Fh:Symbol.for(Fh),zh=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Ln{constructor(e,i){this.rules=[];let{finish:n}=i||{};function r(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,c){let h=[],u=/^@(\w+)\b/.exec(o[0]),f=u&&u[1]=="keyframes";if(u&&a==null)return l.push(o[0]+";");for(let d in a){let p=a[d];if(/&/.test(d))s(d.split(/,\s*/).map(g=>o.map(m=>g.replace(/&/,m))).reduce((g,m)=>g.concat(m)),p,l);else if(p&&typeof p=="object"){if(!u)throw new RangeError("The value of a property ("+d+") should be a primitive value.");s(r(d),p,h,f)}else p!=null&&h.push(d.replace(/_.*/,"").replace(/[A-Z]/g,g=>"-"+g.toLowerCase())+": "+p+";")}(h.length||f)&&l.push((n&&!u&&!c?o.map(n):o).join(", ")+" {"+h.join(" ")+"}")}for(let o in e)s(r(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Hd[Gd]||1;return Hd[Gd]=e+1,Fh+e.toString(36)}static mount(e,i,n){let r=e[zh],s=n&&n.nonce;r?s&&r.setNonce(s):r=new _5(e,s),r.mount(Array.isArray(i)?i:[i])}}let Kd=new Map;class _5{constructor(e,i){let n=e.ownerDocument||e,r=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let s=Kd.get(n);if(s)return e.adoptedStyleSheets=[s.sheet,...e.adoptedStyleSheets],e[zh]=s;this.sheet=new r.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],Kd.set(n,this)}else{this.styleTag=n.createElement("style"),i&&this.styleTag.setAttribute("nonce",i);let s=e.head||e;s.insertBefore(this.styleTag,s.firstChild)}this.modules=[],e[zh]=this}mount(e){let i=this.sheet,n=0,r=0;for(let s=0;s<e.length;s++){let o=e[s],a=this.modules.indexOf(o);if(a<r&&a>-1&&(this.modules.splice(a,1),r--,a=-1),a==-1){if(this.modules.splice(r++,0,o),i)for(let l=0;l<o.rules.length;l++)i.insertRule(o.rules[l],n++)}else{for(;r<a;)n+=this.modules[r++].rules.length;n+=o.rules.length,r++}}if(!i){let s="";for(let o=0;o<this.modules.length;o++)s+=this.modules[o].getRules()+`
`;this.styleTag.textContent=s}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var jn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},fo={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},P5=typeof navigator<"u"&&/Mac/.test(navigator.platform),T5=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var xt=0;xt<10;xt++)jn[48+xt]=jn[96+xt]=String(xt);for(var xt=1;xt<=24;xt++)jn[xt+111]="F"+xt;for(var xt=65;xt<=90;xt++)jn[xt]=String.fromCharCode(xt+32),fo[xt]=String.fromCharCode(xt);for(var Mc in jn)fo.hasOwnProperty(Mc)||(fo[Mc]=jn[Mc]);function Q5(t){var e=P5&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||T5&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",i=!e&&t.key||(t.shiftKey?fo:jn)[t.keyCode]||t.key||"Unidentified";return i=="Esc"&&(i="Escape"),i=="Del"&&(i="Delete"),i=="Left"&&(i="ArrowLeft"),i=="Up"&&(i="ArrowUp"),i=="Right"&&(i="ArrowRight"),i=="Down"&&(i="ArrowDown"),i}function ll(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function qh(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function A5(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Ya(t,e){if(!e.anchorNode)return!1;try{return qh(t,e.anchorNode)}catch{return!1}}function Fr(t){return t.nodeType==3?fr(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function cl(t,e,i,n){return i?Jd(t,e,i,n,-1)||Jd(t,e,i,n,1):!1}function hl(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function Jd(t,e,i,n,r){for(;;){if(t==i&&e==n)return!0;if(e==(r<0?0:Nn(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=hl(t)+(r<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(r<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=r<0?Nn(t):0}else return!1}}function Nn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function oc(t,e){let i=e?t.left:t.right;return{left:i,right:i,top:t.top,bottom:t.bottom}}function E5(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function R5(t,e,i,n,r,s,o,a){let l=t.ownerDocument,c=l.defaultView||window;for(let h=t,u=!1;h&&!u;)if(h.nodeType==1){let f,d=h==l.body,p=1,g=1;if(d)f=E5(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(h).position)&&(u=!0),h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let v=h.getBoundingClientRect();p=v.width/h.offsetWidth,g=v.height/h.offsetHeight,f={left:v.left,right:v.left+h.clientWidth*p,top:v.top,bottom:v.top+h.clientHeight*g}}let m=0,b=0;if(r=="nearest")e.top<f.top?(b=-(f.top-e.top+o),i>0&&e.bottom>f.bottom+b&&(b=e.bottom-f.bottom+b+o)):e.bottom>f.bottom&&(b=e.bottom-f.bottom+o,i<0&&e.top-b<f.top&&(b=-(f.top+b-e.top+o)));else{let v=e.bottom-e.top,x=f.bottom-f.top;b=(r=="center"&&v<=x?e.top+v/2-x/2:r=="start"||r=="center"&&i<0?e.top-o:e.bottom-x+o)-f.top}if(n=="nearest"?e.left<f.left?(m=-(f.left-e.left+s),i>0&&e.right>f.right+m&&(m=e.right-f.right+m+s)):e.right>f.right&&(m=e.right-f.right+s,i<0&&e.left<f.left+m&&(m=-(f.left+m-e.left+s))):m=(n=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:n=="start"==a?e.left-s:e.right-(f.right-f.left)+s)-f.left,m||b)if(d)c.scrollBy(m,b);else{let v=0,x=0;if(b){let S=h.scrollTop;h.scrollTop+=b/g,x=(h.scrollTop-S)*g}if(m){let S=h.scrollLeft;h.scrollLeft+=m/p,v=(h.scrollLeft-S)*p}e={left:e.left-v,top:e.top-x,right:e.right-v,bottom:e.bottom-x},v&&Math.abs(v-m)<1&&(n="nearest"),x&&Math.abs(x-b)<1&&(r="nearest")}if(d)break;h=h.assignedSlot||h.parentNode}else if(h.nodeType==11)h=h.host;else break}function I5(t){let e=t.ownerDocument;for(let i=t.parentNode;i&&i!=e.body;)if(i.nodeType==1){if(i.scrollHeight>i.clientHeight||i.scrollWidth>i.clientWidth)return i;i=i.assignedSlot||i.parentNode}else if(i.nodeType==11)i=i.host;else break;return null}class Z5{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:i,focusNode:n}=e;this.set(i,Math.min(e.anchorOffset,i?Nn(i):0),n,Math.min(e.focusOffset,n?Nn(n):0))}set(e,i,n,r){this.anchorNode=e,this.anchorOffset=i,this.focusNode=n,this.focusOffset=r}}let _r=null;function h0(t){if(t.setActive)return t.setActive();if(_r)return t.focus(_r);let e=[];for(let i=t;i&&(e.push(i,i.scrollTop,i.scrollLeft),i!=i.ownerDocument);i=i.parentNode);if(t.focus(_r==null?{get preventScroll(){return _r={preventScroll:!0},!0}}:void 0),!_r){_r=!1;for(let i=0;i<e.length;){let n=e[i++],r=e[i++],s=e[i++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=s&&(n.scrollLeft=s)}}}let ep;function fr(t,e,i=e){let n=ep||(ep=document.createRange());return n.setEnd(t,i),n.setStart(t,e),n}function Yr(t,e,i){let n={key:e,code:e,keyCode:i,which:i,cancelable:!0},r=new KeyboardEvent("keydown",n);r.synthetic=!0,t.dispatchEvent(r);let s=new KeyboardEvent("keyup",n);return s.synthetic=!0,t.dispatchEvent(s),r.defaultPrevented||s.defaultPrevented}function M5(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function u0(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function D5(t,e){let i=e.focusNode,n=e.focusOffset;if(!i||e.anchorNode!=i||e.anchorOffset!=n)return!1;for(n=Math.min(n,Nn(i));;)if(n){if(i.nodeType!=1)return!1;let r=i.childNodes[n-1];r.contentEditable=="false"?n--:(i=r,n=Nn(i))}else{if(i==t)return!0;n=hl(i),i=i.parentNode}}function f0(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}class Rt{constructor(e,i,n=!0){this.node=e,this.offset=i,this.precise=n}static before(e,i){return new Rt(e.parentNode,hl(e),i)}static after(e,i){return new Rt(e.parentNode,hl(e)+1,i)}}const df=[];class Ne{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let i=this.posAtStart;for(let n of this.children){if(n==e)return i;i+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,i){if(this.flags&2){let n=this.dom,r=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=r?r.nextSibling:n.firstChild)){let a=Ne.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,i),o.flags&=-8}if(s=r?r.nextSibling:n.firstChild,i&&!i.written&&i.node==n&&s!=o.dom&&(i.written=!0),o.dom.parentNode==n)for(;s&&s!=o.dom;)s=tp(s);else n.insertBefore(o.dom,s);r=o.dom}for(s=r?r.nextSibling:n.firstChild,s&&i&&i.node==n&&(i.written=!0);s;)s=tp(s)}else if(this.flags&1)for(let n of this.children)n.flags&7&&(n.sync(e,i),n.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,i){let n;if(e==this.dom)n=this.dom.childNodes[i];else{let r=Nn(e)==0?0:i==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;r==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?r=-1:r=1),e=s}r<0?n=e:n=e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!Ne.get(n);)n=n.nextSibling;if(!n)return this.length;for(let r=0,s=0;;r++){let o=this.children[r];if(o.dom==n)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,i,n=0){let r=-1,s=-1,o=-1,a=-1;for(let l=0,c=n,h=n;l<this.children.length;l++){let u=this.children[l],f=c+u.length;if(c<e&&f>i)return u.domBoundsAround(e,i,c);if(f>=e&&r==-1&&(r=l,s=c),c>i&&u.dom.parentNode==this.dom){o=l,a=h;break}h=f,c=f+u.breakAfter}return{from:s,to:a<0?n+this.length:a,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let i=this.parent;i;i=i.parent){if(e&&(i.flags|=2),i.flags&1)return;i.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let i=e.parent;if(!i)return e;e=i}}replaceChildren(e,i,n=df){this.markDirty();for(let r=e;r<i;r++){let s=this.children[r];s.parent==this&&s.destroy()}this.children.splice(e,i-e,...n);for(let r=0;r<n.length;r++)n[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new d0(this.children,e,this.children.length)}childPos(e,i=1){return this.childCursor().findPos(e,i)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,i,n,r,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){this.parent=null}}Ne.prototype.breakAfter=0;function tp(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class d0{constructor(e,i,n){this.children=e,this.pos=i,this.i=n,this.off=0}findPos(e,i=1){for(;;){if(e>this.pos||e==this.pos&&(i>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function p0(t,e,i,n,r,s,o,a,l){let{children:c}=t,h=c.length?c[e]:null,u=s.length?s[s.length-1]:null,f=u?u.breakAfter:o;if(!(e==n&&h&&!o&&!f&&s.length<2&&h.merge(i,r,s.length?u:null,i==0,a,l))){if(n<c.length){let d=c[n];d&&r<d.length?(e==n&&(d=d.split(r),r=0),!f&&u&&d.merge(0,r,u,!0,0,l)?s[s.length-1]=d:(r&&d.merge(0,r,null,!1,0,l),s.push(d))):d!=null&&d.breakAfter&&(u?u.breakAfter=1:o=1),n++}for(h&&(h.breakAfter=o,i>0&&(!o&&s.length&&h.merge(i,h.length,s[0],!1,a,0)?h.breakAfter=s.shift().breakAfter:(i<h.length||h.children.length&&h.children[h.children.length-1].length==0)&&h.merge(i,h.length,null,!1,a,0),e++));e<n&&s.length;)if(c[n-1].become(s[s.length-1]))n--,s.pop(),l=s.length?0:a;else if(c[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&n<c.length&&!c[e-1].breakAfter&&c[n].merge(0,0,c[e-1],!1,a,l)&&e--,(e<n||s.length)&&t.replaceChildren(e,n,s)}}function g0(t,e,i,n,r,s){let o=t.childCursor(),{i:a,off:l}=o.findPos(i,1),{i:c,off:h}=o.findPos(e,-1),u=e-i;for(let f of n)u+=f.length;t.length+=u,p0(t,c,h,a,l,n,0,r,s)}const Ir="￿";class m0{constructor(e,i){this.points=e,this.text="",this.lineSeparator=i.facet(Ce.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Ir}readRange(e,i){if(!e)return this;let n=e.parentNode;for(let r=e;;){this.findPointBefore(n,r);let s=this.text.length;this.readNode(r);let o=r.nextSibling;if(o==i)break;let a=Ne.get(r),l=Ne.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:ip(r))||ip(o)&&(r.nodeName!="BR"||r.cmIgnore)&&this.text.length>s)&&this.lineBreak(),r=o}return this.findPointBefore(n,i),this}readTextNode(e){let i=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,i.length));for(let n=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=i.indexOf(this.lineSeparator,n),o=this.lineSeparator.length):(a=r.exec(i))&&(s=a.index,o=a[0].length),this.append(i.slice(n,s<0?i.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);n=s+o}}readNode(e){if(e.cmIgnore)return;let i=Ne.get(e),n=i&&i.overrideDOMText;if(n!=null){this.findPointInside(e,n.length);for(let r=n.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,i){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==i&&(n.pos=this.text.length)}findPointInside(e,i){for(let n of this.points)(e.nodeType==3?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+Math.min(i,n.offset))}}function ip(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class np{constructor(e,i){this.node=e,this.offset=i,this.pos=-1}}let Jt=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Gh=typeof document<"u"?document:{documentElement:{style:{}}};const Hh=/Edge\/(\d+)/.exec(Jt.userAgent),O0=/MSIE \d/.test(Jt.userAgent),Kh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Jt.userAgent),ac=!!(O0||Kh||Hh),rp=!ac&&/gecko\/(\d+)/i.test(Jt.userAgent),Dc=!ac&&/Chrome\/(\d+)/.exec(Jt.userAgent),sp="webkitFontSmoothing"in Gh.documentElement.style,b0=!ac&&/Apple Computer/.test(Jt.vendor),op=b0&&(/Mobile\/\w+/.test(Jt.userAgent)||Jt.maxTouchPoints>2);var te={mac:op||/Mac/.test(Jt.platform),windows:/Win/.test(Jt.platform),linux:/Linux|X11/.test(Jt.platform),ie:ac,ie_version:O0?Gh.documentMode||6:Kh?+Kh[1]:Hh?+Hh[1]:0,gecko:rp,gecko_version:rp?+(/Firefox\/(\d+)/.exec(Jt.userAgent)||[0,0])[1]:0,chrome:!!Dc,chrome_version:Dc?+Dc[1]:0,ios:op,android:/Android\b/.test(Jt.userAgent),webkit:sp,safari:b0,webkit_version:sp?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Gh.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const L5=256;class Bi extends Ne{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,i){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(i&&i.node==this.dom&&(i.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,i,n){return this.flags&8||n&&(!(n instanceof Bi)||this.length-(i-e)+n.length>L5||n.flags&8)?!1:(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(i),this.markDirty(),!0)}split(e){let i=new Bi(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),i.flags|=this.flags&8,i}localPosFromDOM(e,i){return e==this.dom?i:i?this.text.length:0}domAtPos(e){return new Rt(this.dom,e)}domBoundsAround(e,i,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,i){return j5(this.dom,e,i)}}class an extends Ne{constructor(e,i=[],n=0){super(),this.mark=e,this.children=i,this.length=n;for(let r of i)r.setParent(this)}setAttrs(e){if(u0(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let i in this.mark.attrs)e.setAttribute(i,this.mark.attrs[i]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,i){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,i)}merge(e,i,n,r,s,o){return n&&(!(n instanceof an&&n.mark.eq(this.mark))||e&&s<=0||i<this.length&&o<=0)?!1:(g0(this,e,i,n?n.children:[],s-1,o-1),this.markDirty(),!0)}split(e){let i=[],n=0,r=-1,s=0;for(let a of this.children){let l=n+a.length;l>e&&i.push(n<e?a.split(e-n):a),r<0&&n>=e&&(r=s),n=l,s++}let o=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new an(this.mark,i,o)}domAtPos(e){return v0(this,e)}coordsAt(e,i){return x0(this,e,i)}}function j5(t,e,i){let n=t.nodeValue.length;e>n&&(e=n);let r=e,s=e,o=0;e==0&&i<0||e==n&&i>=0?te.chrome||te.gecko||(e?(r--,o=1):s<n&&(s++,o=-1)):i<0?r--:s<n&&s++;let a=fr(t,r,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:i>=0)?0:a.length-1];return te.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),o?oc(l,o<0):l||null}class Qn extends Ne{static create(e,i,n){return new Qn(e,i,n)}constructor(e,i,n){super(),this.widget=e,this.length=i,this.side=n,this.prevWidget=null}split(e){let i=Qn.create(this.widget,this.length-e,this.side);return this.length-=e,i}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,i,n,r,s,o){return n&&(!(n instanceof Qn)||!this.widget.compare(n.widget)||e>0&&s<=0||i<this.length&&o<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-i),!0)}become(e){return e instanceof Qn&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Qe.empty;let e=this;for(;e.parent;)e=e.parent;let{view:i}=e,n=i&&i.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):Qe.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Rt.before(this.dom):Rt.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,i){let n=this.widget.coordsAt(this.dom,e,i);if(n)return n;let r=this.dom.getClientRects(),s=null;if(!r.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?r.length-1:0;s=r[a],!(e>0?a==0:a==r.length-1||s.top<s.bottom);a+=o?-1:1);return oc(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class zr extends Ne{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof zr&&e.side==this.side}split(){return new zr(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Rt.before(this.dom):Rt.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Qe.empty}get isHidden(){return!0}}Bi.prototype.children=Qn.prototype.children=zr.prototype.children=df;function v0(t,e){let i=t.dom,{children:n}=t,r=0;for(let s=0;r<n.length;r++){let o=n[r],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==i)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=r;s>0;s--){let o=n[s-1];if(o.dom.parentNode==i)return o.domAtPos(o.length)}for(let s=r;s<n.length;s++){let o=n[s];if(o.dom.parentNode==i)return o.domAtPos(0)}return new Rt(i,0)}function y0(t,e,i){let n,{children:r}=t;i>0&&e instanceof an&&r.length&&(n=r[r.length-1])instanceof an&&n.mark.eq(e.mark)?y0(n,e.children[0],i-1):(r.push(e),e.setParent(t)),t.length+=e.length}function x0(t,e,i){let n=null,r=-1,s=null,o=-1;function a(c,h){for(let u=0,f=0;u<c.children.length&&f<=h;u++){let d=c.children[u],p=f+d.length;p>=h&&(d.children.length?a(d,h-f):(!s||s.isHidden&&i>0)&&(p>h||f==p&&d.getSide()>0)?(s=d,o=h-f):(f<h||f==p&&d.getSide()<0&&!d.isHidden)&&(n=d,r=h-f)),f=p}}a(t,e);let l=(i<0?n:s)||n||s;return l?l.coordsAt(Math.max(0,l==n?r:o),i):N5(t)}function N5(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let i=Fr(e);return i[i.length-1]||null}function Jh(t,e){for(let i in t)i=="class"&&e.class?e.class+=" "+t.class:i=="style"&&e.style?e.style+=";"+t.style:e[i]=t[i];return e}const ap=Object.create(null);function pf(t,e,i){if(t==e)return!0;t||(t=ap),e||(e=ap);let n=Object.keys(t),r=Object.keys(e);if(n.length-(i&&n.indexOf(i)>-1?1:0)!=r.length-(i&&r.indexOf(i)>-1?1:0))return!1;for(let s of n)if(s!=i&&(r.indexOf(s)==-1||t[s]!==e[s]))return!1;return!0}function eu(t,e,i){let n=!1;if(e)for(let r in e)i&&r in i||(n=!0,r=="style"?t.style.cssText="":t.removeAttribute(r));if(i)for(let r in i)e&&e[r]==i[r]||(n=!0,r=="style"?t.style.cssText=i[r]:t.setAttribute(r,i[r]));return n}function Y5(t){let e=Object.create(null);for(let i=0;i<t.attributes.length;i++){let n=t.attributes[i];e[n.name]=n.value}return e}class Xi{eq(e){return!1}updateDOM(e,i){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,i,n){return null}get isHidden(){return!1}destroy(e){}}var Ge=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Ge||(Ge={}));class fe extends ur{constructor(e,i,n,r){super(),this.startSide=e,this.endSide=i,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(e){return new jo(e)}static widget(e){let i=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return i+=n&&!e.inlineOrder?i>0?3e8:-4e8:i>0?1e8:-1e8,new Yn(e,i,i,n,e.widget||null,!1)}static replace(e){let i=!!e.block,n,r;if(e.isBlockGap)n=-5e8,r=4e8;else{let{start:s,end:o}=S0(e,i);n=(s?i?-3e8:-1:5e8)-1,r=(o?i?2e8:1:-6e8)+1}return new Yn(e,n,r,i,e.widget||null,!0)}static line(e){return new No(e)}static set(e,i=!1){return Ee.of(e,i)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}fe.none=Ee.empty;class jo extends fe{constructor(e){let{start:i,end:n}=S0(e);super(i?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var i,n;return this==e||e instanceof jo&&this.tagName==e.tagName&&(this.class||((i=this.attrs)===null||i===void 0?void 0:i.class))==(e.class||((n=e.attrs)===null||n===void 0?void 0:n.class))&&pf(this.attrs,e.attrs,"class")}range(e,i=e){if(e>=i)throw new RangeError("Mark decorations may not be empty");return super.range(e,i)}}jo.prototype.point=!1;class No extends fe{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof No&&this.spec.class==e.spec.class&&pf(this.spec.attributes,e.spec.attributes)}range(e,i=e){if(i!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,i)}}No.prototype.mapMode=St.TrackBefore;No.prototype.point=!0;class Yn extends fe{constructor(e,i,n,r,s,o){super(i,n,s,e),this.block=r,this.isReplace=o,this.mapMode=r?i<=0?St.TrackBefore:St.TrackAfter:St.TrackDel}get type(){return this.startSide<this.endSide?Ge.WidgetRange:this.startSide<=0?Ge.WidgetBefore:Ge.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Yn&&B5(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,i=e){if(this.isReplace&&(e>i||e==i&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&i!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,i)}}Yn.prototype.point=!0;function S0(t,e=!1){let{inclusiveStart:i,inclusiveEnd:n}=t;return i==null&&(i=t.inclusive),n==null&&(n=t.inclusive),{start:i??e,end:n??e}}function B5(t,e){return t==e||!!(t&&e&&t.compare(e))}function tu(t,e,i,n=0){let r=i.length-1;r>=0&&i[r]+n>=t?i[r]=Math.max(i[r],e):i.push(t,e)}class At extends Ne{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,i,n,r,s,o){if(n){if(!(n instanceof At))return!1;this.dom||n.transferDOM(this)}return r&&this.setDeco(n?n.attrs:null),g0(this,e,i,n?n.children:[],s,o),!0}split(e){let i=new At;if(i.breakAfter=this.breakAfter,this.length==0)return i;let{i:n,off:r}=this.childPos(e);r&&(i.append(this.children[n].split(r),0),this.children[n].merge(r,this.children[n].length,null,!1,0,0),n++);for(let s=n;s<this.children.length;s++)i.append(this.children[s],0);for(;n>0&&this.children[n-1].length==0;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,i}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){pf(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,i){y0(this,e,i)}addLineDeco(e){let i=e.spec.attributes,n=e.spec.class;i&&(this.attrs=Jh(i,this.attrs||{})),n&&(this.attrs=Jh({class:n},this.attrs||{}))}domAtPos(e){return v0(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,i){var n;this.dom?this.flags&4&&(u0(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(eu(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,i);let r=this.dom.lastChild;for(;r&&Ne.get(r)instanceof an;)r=r.lastChild;if(!r||!this.length||r.nodeName!="BR"&&((n=Ne.get(r))===null||n===void 0?void 0:n.isEditable)==!1&&(!te.ios||!this.children.some(s=>s instanceof Bi))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,i;for(let n of this.children){if(!(n instanceof Bi)||/[^ -~]/.test(n.text))return null;let r=Fr(n.dom);if(r.length!=1)return null;e+=r[0].width,i=r[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:i}:null}coordsAt(e,i){let n=x0(this,e,i);if(!this.children.length&&n&&this.parent){let{heightOracle:r}=this.parent.view.viewState,s=n.bottom-n.top;if(Math.abs(s-r.lineHeight)<2&&r.textHeight<s){let o=(s-r.textHeight)/2;return{top:n.top+o,bottom:n.bottom-o,left:n.left,right:n.left}}}return n}become(e){return!1}get type(){return Ge.Text}static find(e,i){for(let n=0,r=0;n<e.children.length;n++){let s=e.children[n],o=r+s.length;if(o>=i){if(s instanceof At)return s;if(o>i)break}r=o+s.breakAfter}return null}}class lr extends Ne{constructor(e,i,n){super(),this.widget=e,this.length=i,this.type=n,this.breakAfter=0,this.prevWidget=null}merge(e,i,n,r,s,o){return n&&(!(n instanceof lr)||!this.widget.compare(n.widget)||e>0&&s<=0||i<this.length&&o<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-i),!0)}domAtPos(e){return e==0?Rt.before(this.dom):Rt.after(this.dom,e==this.length)}split(e){let i=this.length-e;this.length=e;let n=new lr(this.widget,i,this.type);return n.breakAfter=this.breakAfter,n}get children(){return df}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Qe.empty}domBoundsAround(){return null}become(e){return e instanceof lr&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.type=e.type,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,i){return this.widget.coordsAt(this.dom,e,i)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Hs{constructor(e,i,n,r){this.doc=e,this.pos=i,this.end=n,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=i}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof lr&&e.type==Ge.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new At),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(ha(new zr(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,i,n){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(i.slice(i.length-n)),this.getLine().append(ha(new Bi(this.text.slice(this.textOff,this.textOff+r)),i),n),this.atCursorPos=!0,this.textOff+=r,e-=r,n=0}}span(e,i,n,r){this.buildText(i-e,n,r),this.pos=i,this.openStart<0&&(this.openStart=r)}point(e,i,n,r,s,o){if(this.disallowBlockEffectsFor[o]&&n instanceof Yn){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(i>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=i-e;if(n instanceof Yn)if(n.block){let{type:l}=n;l==Ge.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new lr(n.widget||new lp("div"),a,l))}else{let l=Qn.create(n.widget||new lp("span"),a,a?0:n.startSide),c=this.atCursorPos&&!l.isEditable&&s<=r.length&&(e<i||n.startSide>0),h=!l.isEditable&&(e<i||s>r.length||n.startSide<=0),u=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(r),c&&(u.append(ha(new zr(1),r),s),s=r.length+Math.max(0,s-r.length)),u.append(ha(l,r),s),this.atCursorPos=h,this.pendingBuffer=h?e<i||s>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=i),this.openStart<0&&(this.openStart=s)}static build(e,i,n,r,s){let o=new Hs(e,i,n,s);return o.openEnd=Ee.spans(r,i,n,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function ha(t,e){for(let i of e)t=new an(i,[t],t.length);return t}class lp extends Xi{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const w0=K.define(),k0=K.define(),C0=K.define(),$0=K.define(),iu=K.define(),_0=K.define(),P0=K.define(),T0=K.define({combine:t=>t.some(e=>e)}),Q0=K.define({combine:t=>t.some(e=>e)});class ul{constructor(e,i="nearest",n="nearest",r=5,s=5){this.range=e,this.y=i,this.x=n,this.yMargin=r,this.xMargin=s}map(e){return e.empty?this:new ul(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const cp=be.define({map:(t,e)=>t.map(e)});function pi(t,e,i){let n=t.facet($0);n.length?n[0](e):window.onerror?window.onerror(String(e),i,void 0,void 0,e):i?console.error(i+":",e):console.error(e)}const lc=K.define({combine:t=>t.length?t[0]:!0});let V5=0;const Ys=K.define();class ot{constructor(e,i,n,r){this.id=e,this.create=i,this.domEventHandlers=n,this.extension=r(this)}static define(e,i){const{eventHandlers:n,provide:r,decorations:s}=i||{};return new ot(V5++,e,n,o=>{let a=[Ys.of(o)];return s&&a.push(po.of(l=>{let c=l.plugin(o);return c?s(c):fe.none})),r&&a.push(r(o)),a})}static fromClass(e,i){return ot.define(n=>new e(n),i)}}class Lc{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let i=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(i)}catch(n){if(pi(i.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(i){pi(e.state,i,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var i;if(!((i=this.value)===null||i===void 0)&&i.destroy)try{this.value.destroy()}catch(n){pi(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const A0=K.define(),gf=K.define(),po=K.define(),mf=K.define(),E0=K.define();function hp(t,e,i){let n=t.state.facet(E0);if(!n.length)return n;let r=n.map(o=>o instanceof Function?o(t):o),s=[];return Ee.spans(r,e,i,{point(){},span(o,a,l,c){let h=s;for(let u=l.length-1;u>=0;u--,c--){let f=l[u].spec.bidiIsolate,d;if(f!=null)if(c>0&&h.length&&(d=h[h.length-1]).to==o&&d.direction==f)d.to=a,h=d.inner;else{let p={from:o,to:a,direction:f,inner:[]};h.push(p),h=p.inner}}}}),s}const R0=K.define();function I0(t){let e=0,i=0,n=0,r=0;for(let s of t.state.facet(R0)){let o=s(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(i=Math.max(i,o.right)),o.top!=null&&(n=Math.max(n,o.top)),o.bottom!=null&&(r=Math.max(r,o.bottom)))}return{left:e,right:i,top:n,bottom:r}}const Bs=K.define();class gi{constructor(e,i,n,r){this.fromA=e,this.toA=i,this.fromB=n,this.toB=r}join(e){return new gi(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let i=e.length,n=this;for(;i>0;i--){let r=e[i-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),e.splice(i-1,1)}}return e.splice(i,0,n),e}static extendWithRanges(e,i){if(i.length==0)return e;let n=[];for(let r=0,s=0,o=0,a=0;;r++){let l=r==e.length?null:e[r],c=o-a,h=l?l.fromB:1e9;for(;s<i.length&&i[s]<h;){let u=i[s],f=i[s+1],d=Math.max(a,u),p=Math.min(h,f);if(d<=p&&new gi(d+c,p+c,d,p).addToSet(n),f>h)break;s+=2}if(!l)return n;new gi(l.fromA,l.toA,l.fromB,l.toB).addToSet(n),o=l.toA,a=l.toB}}}class fl{constructor(e,i,n){this.view=e,this.state=i,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=at.empty(this.startState.doc.length);for(let s of n)this.changes=this.changes.compose(s.changes);let r=[];this.changes.iterChangedRanges((s,o,a,l)=>r.push(new gi(s,o,a,l))),this.changedRanges=r}static create(e,i,n){return new fl(e,i,n)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var qe=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(qe||(qe={}));const go=qe.LTR,Z0=qe.RTL;function M0(t){let e=[];for(let i=0;i<t.length;i++)e.push(1<<+t[i]);return e}const X5=M0("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),W5=M0("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),nu=Object.create(null),Ci=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),i=t.charCodeAt(1);nu[e]=i,nu[i]=-e}function U5(t){return t<=247?X5[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?W5[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8203?256:64336<=t&&t<=65023?4:t==8204?256:1}const F5=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class An{get dir(){return this.level%2?Z0:go}constructor(e,i,n){this.from=e,this.to=i,this.level=n}side(e,i){return this.dir==i==e?this.to:this.from}static find(e,i,n,r){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=i&&a.to>=i){if(a.level==n)return o;(s<0||(r!=0?r<0?a.from<i:a.to>i:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function D0(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++){let n=t[i],r=e[i];if(n.from!=r.from||n.to!=r.to||n.direction!=r.direction||!D0(n.inner,r.inner))return!1}return!0}const Ze=[];function z5(t,e,i,n,r){for(let s=0;s<=n.length;s++){let o=s?n[s-1].to:e,a=s<n.length?n[s].from:i,l=s?256:r;for(let c=o,h=l,u=l;c<a;c++){let f=U5(t.charCodeAt(c));f==512?f=h:f==8&&u==4&&(f=16),Ze[c]=f==4?2:f,f&7&&(u=f),h=f}for(let c=o,h=l,u=l;c<a;c++){let f=Ze[c];if(f==128)c<a-1&&h==Ze[c+1]&&h&24?f=Ze[c]=h:Ze[c]=256;else if(f==64){let d=c+1;for(;d<a&&Ze[d]==64;)d++;let p=c&&h==8||d<i&&Ze[d]==8?u==1?1:8:256;for(let g=c;g<d;g++)Ze[g]=p;c=d-1}else f==8&&u==1&&(Ze[c]=1);h=f,f&7&&(u=f)}}}function q5(t,e,i,n,r){let s=r==1?2:1;for(let o=0,a=0,l=0;o<=n.length;o++){let c=o?n[o-1].to:e,h=o<n.length?n[o].from:i;for(let u=c,f,d,p;u<h;u++)if(d=nu[f=t.charCodeAt(u)])if(d<0){for(let g=a-3;g>=0;g-=3)if(Ci[g+1]==-d){let m=Ci[g+2],b=m&2?r:m&4?m&1?s:r:0;b&&(Ze[u]=Ze[Ci[g]]=b),a=g;break}}else{if(Ci.length==189)break;Ci[a++]=u,Ci[a++]=f,Ci[a++]=l}else if((p=Ze[u])==2||p==1){let g=p==r;l=g?0:1;for(let m=a-3;m>=0;m-=3){let b=Ci[m+2];if(b&2)break;if(g)Ci[m+2]|=2;else{if(b&4)break;Ci[m+2]|=4}}}}}function G5(t,e,i,n){for(let r=0,s=n;r<=i.length;r++){let o=r?i[r-1].to:t,a=r<i.length?i[r].from:e;for(let l=o;l<a;){let c=Ze[l];if(c==256){let h=l+1;for(;;)if(h==a){if(r==i.length)break;h=i[r++].to,a=r<i.length?i[r].from:e}else if(Ze[h]==256)h++;else break;let u=s==1,f=(h<e?Ze[h]:n)==1,d=u==f?u?1:2:n;for(let p=h,g=r,m=g?i[g-1].to:t;p>l;)p==m&&(p=i[--g].from,m=g?i[g-1].to:t),Ze[--p]=d;l=h}else s=c,l++}}}function ru(t,e,i,n,r,s,o){let a=n%2?2:1;if(n%2==r%2)for(let l=e,c=0;l<i;){let h=!0,u=!1;if(c==s.length||l<s[c].from){let g=Ze[l];g!=a&&(h=!1,u=g==16)}let f=!h&&a==1?[]:null,d=h?n:n+1,p=l;e:for(;;)if(c<s.length&&p==s[c].from){if(u)break e;let g=s[c];if(!h)for(let m=g.to,b=c+1;;){if(m==i)break e;if(b<s.length&&s[b].from==m)m=s[b++].to;else{if(Ze[m]==a)break e;break}}if(c++,f)f.push(g);else{g.from>l&&o.push(new An(l,g.from,d));let m=g.direction==go!=!(d%2);su(t,m?n+1:n,r,g.inner,g.from,g.to,o),l=g.to}p=g.to}else{if(p==i||(h?Ze[p]!=a:Ze[p]==a))break;p++}f?ru(t,l,p,n+1,r,f,o):l<p&&o.push(new An(l,p,d)),l=p}else for(let l=i,c=s.length;l>e;){let h=!0,u=!1;if(!c||l>s[c-1].to){let g=Ze[l-1];g!=a&&(h=!1,u=g==16)}let f=!h&&a==1?[]:null,d=h?n:n+1,p=l;e:for(;;)if(c&&p==s[c-1].to){if(u)break e;let g=s[--c];if(!h)for(let m=g.from,b=c;;){if(m==e)break e;if(b&&s[b-1].to==m)m=s[--b].from;else{if(Ze[m-1]==a)break e;break}}if(f)f.push(g);else{g.to<l&&o.push(new An(g.to,l,d));let m=g.direction==go!=!(d%2);su(t,m?n+1:n,r,g.inner,g.from,g.to,o),l=g.from}p=g.from}else{if(p==e||(h?Ze[p-1]!=a:Ze[p-1]==a))break;p--}f?ru(t,p,l,n+1,r,f,o):p<l&&o.push(new An(p,l,d)),l=p}}function su(t,e,i,n,r,s,o){let a=e%2?2:1;z5(t,r,s,n,a),q5(t,r,s,n,a),G5(r,s,n,a),ru(t,r,s,e,i,n,o)}function H5(t,e,i){if(!t)return[new An(0,0,e==Z0?1:0)];if(e==go&&!i.length&&!F5.test(t))return L0(t.length);if(i.length)for(;t.length>Ze.length;)Ze[Ze.length]=256;let n=[],r=e==go?0:1;return su(t,r,r,i,0,t.length,n),n}function L0(t){return[new An(0,t,0)]}let j0="";function K5(t,e,i,n,r){var s;let o=n.head-t.from,a=-1;if(o==0){if(!r||!t.length)return null;e[0].level!=i&&(o=e[0].side(!1,i),a=0)}else if(o==t.length){if(r)return null;let f=e[e.length-1];f.level!=i&&(o=f.side(!0,i),a=e.length-1)}a<0&&(a=An.find(e,o,(s=n.bidiLevel)!==null&&s!==void 0?s:-1,n.assoc));let l=e[a];o==l.side(r,i)&&(l=e[a+=r?1:-1],o=l.side(!r,i));let c=r==(l.dir==i),h=Pt(t.text,o,c);if(j0=t.text.slice(Math.min(o,h),Math.max(o,h)),h!=l.side(r,i))return Q.cursor(h+t.from,c?-1:1,l.level);let u=a==(r?e.length-1:0)?null:e[a+(r?1:-1)];return!u&&l.level!=i?Q.cursor(r?t.to:t.from,r?-1:1,i):u&&u.level<l.level?Q.cursor(u.side(!r,i)+t.from,r?1:-1,u.level):Q.cursor(h+t.from,r?-1:1,l.level)}class up extends Ne{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[],this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new At],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new gi(0,0,0,e.state.doc.length)],0,null)}update(e){let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:a,toA:l})=>l<this.minWidthFrom||a>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let n=this.view.inputState.composing<0?null:eP(this.view,e.changes);if(this.hasComposition){this.markedForComposition.clear();let{from:a,to:l}=this.hasComposition;i=new gi(a,l,e.changes.mapPos(a,-1),e.changes.mapPos(l,1)).addToSet(i.slice())}this.hasComposition=n?{from:n.range.fromB,to:n.range.toB}:null,(te.ie||te.chrome)&&!n&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let r=this.decorations,s=this.updateDeco(),o=nP(r,s,e.changes);return i=gi.extendWithRanges(i,o),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,n),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,i,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,i,n);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=te.chrome||te.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||r.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof lr&&o.widget instanceof fp&&s.push(o.dom);r.updateGaps(s)}updateChildren(e,i,n){let r=n?n.range.addToSet(e.slice()):e,s=this.childCursor(i);for(let o=r.length-1;;o--){let a=o>=0?r[o]:null;if(!a)break;let{fromA:l,toA:c,fromB:h,toB:u}=a,f,d,p,g;if(n&&n.range.fromB<u&&n.range.toB>h){let S=Hs.build(this.view.state.doc,h,n.range.fromB,this.decorations,this.dynamicDecorationMap),y=Hs.build(this.view.state.doc,n.range.toB,u,this.decorations,this.dynamicDecorationMap);d=S.breakAtStart,p=S.openStart,g=y.openEnd;let $=this.compositionView(n);y.breakAtStart?$.breakAfter=1:y.content.length&&$.merge($.length,$.length,y.content[0],!1,y.openStart,0)&&($.breakAfter=y.content[0].breakAfter,y.content.shift()),S.content.length&&$.merge(0,0,S.content[S.content.length-1],!0,0,S.openEnd)&&S.content.pop(),f=S.content.concat($).concat(y.content)}else({content:f,breakAtStart:d,openStart:p,openEnd:g}=Hs.build(this.view.state.doc,h,u,this.decorations,this.dynamicDecorationMap));let{i:m,off:b}=s.findPos(c,1),{i:v,off:x}=s.findPos(l,-1);p0(this,v,x,m,b,f,d,p,g)}n&&this.fixCompositionDOM(n)}compositionView(e){let i=new Bi(e.text.nodeValue);i.flags|=8;for(let{deco:r}of e.marks)i=new an(r,[i],i.length);let n=new At;return n.append(i,0),n}fixCompositionDOM(e){let i=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=Ne.get(s);a!=o&&(a&&(a.dom=null),o.setDOM(s))},n=this.childPos(e.range.fromB,1),r=this.children[n.i];i(e.line,r);for(let s=e.marks.length-1;s>=-1;s--)n=r.childPos(n.off,1),r=r.children[n.i],i(s>=0?e.marks[s].node:e.text,r)}updateSelection(e=!1,i=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let n=this.view.root.activeElement,r=n==this.dom,s=!r&&Ya(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(r||i||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.domAtPos(a.anchor),c=a.empty?l:this.domAtPos(a.head);if(te.gecko&&a.empty&&!this.hasComposition&&J5(l)){let u=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(u,l.node.childNodes[l.offset]||null)),l=c=new Rt(u,0),o=!0}let h=this.view.observer.selectionRange;(o||!h.focusNode||!cl(l.node,l.offset,h.anchorNode,h.anchorOffset)||!cl(c.node,c.offset,h.focusNode,h.focusOffset))&&(this.view.observer.ignore(()=>{te.android&&te.chrome&&this.dom.contains(h.focusNode)&&rP(h.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let u=ll(this.view.root);if(u)if(a.empty){if(te.gecko){let f=tP(l.node,l.offset);if(f&&f!=3){let d=Y0(l.node,l.offset,f==1?1:-1);d&&(l=new Rt(d,f==1?0:d.nodeValue.length))}}u.collapse(l.node,l.offset),a.bidiLevel!=null&&h.caretBidiLevel!=null&&(h.caretBidiLevel=a.bidiLevel)}else if(u.extend){u.collapse(l.node,l.offset);try{u.extend(c.node,c.offset)}catch{}}else{let f=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),f.setEnd(c.node,c.offset),f.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(f)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new Rt(h.anchorNode,h.anchorOffset),this.impreciseHead=c.precise?null:new Rt(h.focusNode,h.focusOffset)}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,i=e.state.selection.main,n=ll(e.root),{anchorNode:r,anchorOffset:s}=e.observer.selectionRange;if(!n||!i.empty||!i.assoc||!n.modify)return;let o=At.find(this,i.head);if(!o)return;let a=o.posAtStart;if(i.head==a||i.head==a+o.length)return;let l=this.coordsAt(i.head,-1),c=this.coordsAt(i.head,1);if(!l||!c||l.bottom>c.top)return;let h=this.domAtPos(i.head+i.assoc);n.collapse(h.node,h.offset),n.modify("move",i.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let u=e.observer.selectionRange;e.docView.posFromDOM(u.anchorNode,u.anchorOffset)!=i.from&&n.collapse(r,s)}nearest(e){for(let i=e;i;){let n=Ne.get(i);if(n&&n.rootView==this)return n;i=i.parentNode}return null}posFromDOM(e,i){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,i)+n.posAtStart}domAtPos(e){let{i,off:n}=this.childCursor().findPos(e,-1);for(;i<this.children.length-1;){let r=this.children[i];if(n<r.length||r instanceof At)break;i++,n=0}return this.children[i].domAtPos(n)}coordsAt(e,i){for(let n=this.length,r=this.children.length-1;;r--){let s=this.children[r],o=n-s.breakAfter-s.length;if(e>o||e==o&&s.type!=Ge.WidgetBefore&&s.type!=Ge.WidgetAfter&&(!r||i==2||this.children[r-1].breakAfter||this.children[r-1].type==Ge.WidgetBefore&&i>-2))return s.coordsAt(e-o,i);n=o}}coordsForChar(e){let{i,off:n}=this.childPos(e,1),r=this.children[i];if(!(r instanceof At))return null;for(;r.children.length;){let{i:a,off:l}=r.childPos(n,1);for(;;a++){if(a==r.children.length)return null;if((r=r.children[a]).length)break}n=l}if(!(r instanceof Bi))return null;let s=Pt(r.text,n);if(s==n)return null;let o=fr(r.dom,n,s).getClientRects();return!o.length||o[0].top>=o[0].bottom?null:o[0]}measureVisibleLineHeights(e){let i=[],{from:n,to:r}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==qe.LTR;for(let c=0,h=0;h<this.children.length;h++){let u=this.children[h],f=c+u.length;if(f>r)break;if(c>=n){let d=u.dom.getBoundingClientRect();if(i.push(d.height),o){let p=u.dom.lastChild,g=p?Fr(p):[];if(g.length){let m=g[g.length-1],b=l?m.right-d.left:d.right-m.left;b>a&&(a=b,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=f)}}}c=f+u.breakAfter}return i}textDirectionAt(e){let{i}=this.childPos(e,1);return getComputedStyle(this.children[i].dom).direction=="rtl"?qe.RTL:qe.LTR}measureTextSize(){for(let s of this.children)if(s instanceof At){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),i,n,r;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Fr(e.firstChild)[0];i=e.getBoundingClientRect().height,n=s?s.width/27:7,r=s?s.height:i,e.remove()}),{lineHeight:i,charWidth:n,textHeight:r}}childCursor(e=this.length){let i=this.children.length;return i&&(e-=this.children[--i].length),new d0(this.children,e,i)}computeBlockGapDeco(){let e=[],i=this.view.viewState;for(let n=0,r=0;;r++){let s=r==i.viewports.length?null:i.viewports[r],o=s?s.from-1:this.length;if(o>n){let a=(i.lineBlockAt(o).bottom-i.lineBlockAt(n).top)/this.view.scaleY;e.push(fe.replace({widget:new fp(a),block:!0,inclusive:!0,isBlockGap:!0}).range(n,o))}if(!s)break;n=s.to+1}return fe.set(e)}updateDeco(){let e=this.view.state.facet(po).map((i,n)=>(this.dynamicDecorationMap[n]=typeof i=="function")?i(this.view):i);for(let i=e.length;i<e.length+3;i++)this.dynamicDecorationMap[i]=!1;return this.decorations=[...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:i}=e,n=this.coordsAt(i.head,i.empty?i.assoc:i.head>i.anchor?-1:1),r;if(!n)return;!i.empty&&(r=this.coordsAt(i.anchor,i.anchor>i.head?-1:1))&&(n={left:Math.min(n.left,r.left),top:Math.min(n.top,r.top),right:Math.max(n.right,r.right),bottom:Math.max(n.bottom,r.bottom)});let s=I0(this.view),o={left:n.left-s.left,top:n.top-s.top,right:n.right+s.right,bottom:n.bottom+s.bottom};R5(this.view.scrollDOM,o,i.head<i.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==qe.LTR)}}function J5(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}class fp extends Xi{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function N0(t,e){let i=t.observer.selectionRange,n=i.focusNode&&Y0(i.focusNode,i.focusOffset,0);if(!n)return null;let r=Ne.get(n),s,o;if(r instanceof Bi)s=r.posAtStart,o=s+r.length;else{let a=Math.max(0,n.nodeValue.length-e);e:for(let l=0,c=n;;){for(let u=c.previousSibling,f;u;u=u.previousSibling){if(f=Ne.get(u)){o=f.posAtEnd+l,s=Math.max(0,o-a);break e}let d=new m0([],t.state);if(d.readNode(u),d.text.indexOf(Ir)>-1)return null;l+=d.text.length}if(c=c.parentNode,!c)return null;let h=Ne.get(c);if(h){s=h.posAtStart+l,o=s+a;break}}}return{from:s,to:o,node:n}}function eP(t,e){let i=N0(t,e.newLength-e.length);if(!i)return null;let{from:n,to:r,node:s}=i,o=e.mapPos(n,-1),a=e.mapPos(r,1),l=s.nodeValue;if(/[\n\r]/.test(l))return null;if(a-o!=l.length){let f=e.mapPos(n,1),d=e.mapPos(r,-1);if(d-f==l.length)o=f,a=d;else if(t.state.doc.sliceString(a-l.length,a)==l)o=a-l.length;else if(t.state.doc.sliceString(o,o+l.length)==l)a=o+l.length;else return null}let{main:c}=t.state.selection;if(t.state.doc.sliceString(o,a)!=l||o>c.head||a<c.head)return null;let h=[],u=new gi(n,r,o,a);for(let f=s.parentNode;;f=f.parentNode){let d=Ne.get(f);if(d instanceof an)h.push({node:f,deco:d.mark});else{if(d instanceof At||f.nodeName=="DIV"&&f.parentNode==t.contentDOM)return{range:u,text:s,marks:h,line:f};if(f!=t.contentDOM)h.push({node:f,deco:new jo({inclusive:!0,attributes:Y5(f),tagName:f.tagName.toLowerCase()})});else return null}}}function Y0(t,e,i){if(i<=0)for(let n=t,r=e;;){if(n.nodeType==3)return n;if(n.nodeType==1&&r>0)n=n.childNodes[r-1],r=Nn(n);else break}if(i>=0)for(let n=t,r=e;;){if(n.nodeType==3)return n;if(n.nodeType==1&&r<n.childNodes.length&&i>=0)n=n.childNodes[r],r=0;else break}return null}function tP(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let iP=class{constructor(){this.changes=[]}compareRange(e,i){tu(e,i,this.changes)}comparePoint(e,i){tu(e,i,this.changes)}};function nP(t,e,i){let n=new iP;return Ee.compare(t,e,i,n),n.changes}function rP(t,e){for(let i=t;i&&i!=e;i=i.assignedSlot||i.parentNode)if(i.nodeType==1&&i.contentEditable=="false")return!0;return!1}function sP(t,e,i=1){let n=t.charCategorizer(e),r=t.doc.lineAt(e),s=e-r.from;if(r.length==0)return Q.cursor(e);s==0?i=1:s==r.length&&(i=-1);let o=s,a=s;i<0?o=Pt(r.text,s,!1):a=Pt(r.text,s);let l=n(r.text.slice(o,a));for(;o>0;){let c=Pt(r.text,o,!1);if(n(r.text.slice(c,o))!=l)break;o=c}for(;a<r.length;){let c=Pt(r.text,a);if(n(r.text.slice(a,c))!=l)break;a=c}return Q.range(o+r.from,a+r.from)}function oP(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function aP(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function jc(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function dp(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function pp(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function ou(t,e,i){let n,r,s,o,a=!1,l,c,h,u;for(let p=t.firstChild;p;p=p.nextSibling){let g=Fr(p);for(let m=0;m<g.length;m++){let b=g[m];r&&jc(r,b)&&(b=dp(pp(b,r.bottom),r.top));let v=oP(e,b),x=aP(i,b);if(v==0&&x==0)return p.nodeType==3?gp(p,e,i):ou(p,e,i);if(!n||o>x||o==x&&s>v){n=p,r=b,s=v,o=x;let S=x?i<b.top?-1:1:v?e<b.left?-1:1:0;a=!S||(S>0?m<g.length-1:m>0)}v==0?i>b.bottom&&(!h||h.bottom<b.bottom)?(l=p,h=b):i<b.top&&(!u||u.top>b.top)&&(c=p,u=b):h&&jc(h,b)?h=pp(h,b.bottom):u&&jc(u,b)&&(u=dp(u,b.top))}}if(h&&h.bottom>=i?(n=l,r=h):u&&u.top<=i&&(n=c,r=u),!n)return{node:t,offset:0};let f=Math.max(r.left,Math.min(r.right,e));if(n.nodeType==3)return gp(n,f,i);if(a&&n.contentEditable!="false")return ou(n,f,i);let d=Array.prototype.indexOf.call(t.childNodes,n)+(e>=(r.left+r.right)/2?1:0);return{node:t,offset:d}}function gp(t,e,i){let n=t.nodeValue.length,r=-1,s=1e9,o=0;for(let a=0;a<n;a++){let l=fr(t,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let h=l[c];if(h.top==h.bottom)continue;o||(o=e-h.left);let u=(h.top>i?h.top-i:i-h.bottom)-1;if(h.left-1<=e&&h.right+1>=e&&u<s){let f=e>=(h.left+h.right)/2,d=f;if((te.chrome||te.gecko)&&fr(t,a).getBoundingClientRect().left==h.right&&(d=!f),u<=0)return{node:t,offset:a+(d?1:0)};r=a+(d?1:0),s=u}}}return{node:t,offset:r>-1?r:o>0?t.nodeValue.length:0}}function B0(t,e,i,n=-1){var r,s;let o=t.contentDOM.getBoundingClientRect(),a=o.top+t.viewState.paddingTop,l,{docHeight:c}=t.viewState,{x:h,y:u}=e,f=u-a;if(f<0)return 0;if(f>c)return t.state.doc.length;for(let S=t.viewState.heightOracle.textHeight/2,y=!1;l=t.elementAtHeight(f),l.type!=Ge.Text;)for(;f=n>0?l.bottom+S:l.top-S,!(f>=0&&f<=c);){if(y)return i?null:0;y=!0,n=-n}u=a+f;let d=l.from;if(d<t.viewport.from)return t.viewport.from==0?0:i?null:mp(t,o,l,h,u);if(d>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:i?null:mp(t,o,l,h,u);let p=t.dom.ownerDocument,g=t.root.elementFromPoint?t.root:p,m=g.elementFromPoint(h,u);m&&!t.contentDOM.contains(m)&&(m=null),m||(h=Math.max(o.left+1,Math.min(o.right-1,h)),m=g.elementFromPoint(h,u),m&&!t.contentDOM.contains(m)&&(m=null));let b,v=-1;if(m&&((r=t.docView.nearest(m))===null||r===void 0?void 0:r.isEditable)!=!1){if(p.caretPositionFromPoint){let S=p.caretPositionFromPoint(h,u);S&&({offsetNode:b,offset:v}=S)}else if(p.caretRangeFromPoint){let S=p.caretRangeFromPoint(h,u);S&&({startContainer:b,startOffset:v}=S,(!t.contentDOM.contains(b)||te.safari&&lP(b,v,h)||te.chrome&&cP(b,v,h))&&(b=void 0))}}if(!b||!t.docView.dom.contains(b)){let S=At.find(t.docView,d);if(!S)return f>l.top+l.height/2?l.to:l.from;({node:b,offset:v}=ou(S.dom,h,u))}let x=t.docView.nearest(b);if(!x)return null;if(x.isWidget&&((s=x.dom)===null||s===void 0?void 0:s.nodeType)==1){let S=x.dom.getBoundingClientRect();return e.y<S.top||e.y<=S.bottom&&e.x<=(S.left+S.right)/2?x.posAtStart:x.posAtEnd}else return x.localPosFromDOM(b,v)+x.posAtStart}function mp(t,e,i,n,r){let s=Math.round((n-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&i.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((r-i.top-(t.defaultLineHeight-a)*.5)/a);s+=l*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(i.from,i.to);return i.from+Uh(o,s,t.state.tabSize)}function lP(t,e,i){let n;if(t.nodeType!=3||e!=(n=t.nodeValue.length))return!1;for(let r=t.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return fr(t,n-1,n).getBoundingClientRect().left>i}function cP(t,e,i){if(e!=0)return!1;for(let r=t;;){let s=r.parentNode;if(!s||s.nodeType!=1||s.firstChild!=r)return!1;if(s.classList.contains("cm-line"))break;r=s}let n=t.nodeType==1?t.getBoundingClientRect():fr(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return i-n.left>5}function au(t,e){let i=t.lineBlockAt(e);if(Array.isArray(i.type)){for(let n of i.type)if(n.to>e||n.to==e&&(n.to==i.to||n.type==Ge.Text))return n}return i}function hP(t,e,i,n){let r=au(t,e.head),s=!n||r.type!=Ge.Text||!(t.lineWrapping||r.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(s){let o=t.dom.getBoundingClientRect(),a=t.textDirectionAt(r.from),l=t.posAtCoords({x:i==(a==qe.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return Q.cursor(l,i?-1:1)}return Q.cursor(i?r.to:r.from,i?-1:1)}function Op(t,e,i,n){let r=t.state.doc.lineAt(e.head),s=t.bidiSpans(r),o=t.textDirectionAt(r.from);for(let a=e,l=null;;){let c=K5(r,s,o,a,i),h=j0;if(!c){if(r.number==(i?t.state.doc.lines:1))return a;h=`
`,r=t.state.doc.line(r.number+(i?1:-1)),s=t.bidiSpans(r),c=Q.cursor(i?r.from:r.to)}if(l){if(!l(h))return a}else{if(!n)return c;l=n(h)}a=c}}function uP(t,e,i){let n=t.state.charCategorizer(e),r=n(i);return s=>{let o=n(s);return r==ze.Space&&(r=o),r==o}}function fP(t,e,i,n){let r=e.head,s=i?1:-1;if(r==(i?t.state.doc.length:0))return Q.cursor(r,e.assoc);let o=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(r),h=t.documentTop;if(c)o==null&&(o=c.left-l.left),a=s<0?c.top:c.bottom;else{let d=t.viewState.lineBlockAt(r);o==null&&(o=Math.min(l.right-l.left,t.defaultCharacterWidth*(r-d.from))),a=(s<0?d.top:d.bottom)+h}let u=l.left+o,f=n??t.viewState.heightOracle.textHeight>>1;for(let d=0;;d+=10){let p=a+(f+d)*s,g=B0(t,{x:u,y:p},!1,s);if(p<l.top||p>l.bottom||(s<0?g<r:g>r))return Q.cursor(g,e.assoc,void 0,o)}}function Ba(t,e,i){for(;;){let n=0;for(let r of t)r.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=n||i||(e-s<o-e?-1:1);e=l<0?s:o,n=l}});if(!n)return e}}function Nc(t,e,i){let n=Ba(t.state.facet(mf).map(r=>r(t)),i.from,e.head>i.from?-1:1);return n==i.from?i:Q.cursor(n,n<i.from?1:-1)}class dP{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null;let i=(n,r)=>{this.ignoreDuringComposition(r)||r.type=="keydown"&&this.keydown(e,r)||(this.mustFlushObserver(r)&&e.observer.forceFlush(),this.runCustomHandlers(r.type,e,r)?r.preventDefault():n(e,r))};for(let n in rt){let r=rt[n];e.contentDOM.addEventListener(n,s=>{bp(e,s)&&i(r,s)},lu[n]),this.registeredEvents.push(n)}e.scrollDOM.addEventListener("mousedown",n=>{if(n.target==e.scrollDOM&&n.clientY>e.contentDOM.getBoundingClientRect().bottom&&(i(rt.mousedown,n),!n.defaultPrevented&&n.button==2)){let r=e.contentDOM.style.minHeight;e.contentDOM.style.minHeight="100%",setTimeout(()=>e.contentDOM.style.minHeight=r,200)}}),e.scrollDOM.addEventListener("drop",n=>{n.target==e.scrollDOM&&n.clientY>e.contentDOM.getBoundingClientRect().bottom&&i(rt.drop,n)}),te.chrome&&te.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,te.safari&&e.contentDOM.addEventListener("input",()=>null),te.gecko&&_P(e.contentDOM.ownerDocument)}ensureHandlers(e,i){var n;let r;this.customHandlers=[];for(let s of i)if(r=(n=s.update(e).spec)===null||n===void 0?void 0:n.domEventHandlers){this.customHandlers.push({plugin:s.value,handlers:r});for(let o in r)this.registeredEvents.indexOf(o)<0&&o!="scroll"&&(this.registeredEvents.push(o),e.contentDOM.addEventListener(o,a=>{bp(e,a)&&this.runCustomHandlers(o,e,a)&&a.preventDefault()}))}}runCustomHandlers(e,i,n){for(let r of this.customHandlers){let s=r.handlers[e];if(s)try{if(s.call(r.plugin,n,i)||n.defaultPrevented)return!0}catch(o){pi(i.state,o)}}return!1}runScrollHandlers(e,i){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let n of this.customHandlers){let r=n.handlers.scroll;if(r)try{r.call(n.plugin,i,e)}catch(s){pi(e.state,s)}}}keydown(e,i){if(this.lastKeyCode=i.keyCode,this.lastKeyTime=Date.now(),i.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(i.keyCode!=27&&X0.indexOf(i.keyCode)<0&&(e.inputState.lastEscPress=0),te.android&&te.chrome&&!i.synthetic&&(i.keyCode==13||i.keyCode==8))return e.observer.delayAndroidKey(i.key,i.keyCode),!0;let n;return te.ios&&!i.synthetic&&!i.altKey&&!i.metaKey&&((n=V0.find(r=>r.keyCode==i.keyCode))&&!i.ctrlKey||pP.indexOf(i.key)>-1&&i.ctrlKey&&!i.shiftKey)?(this.pendingIOSKey=n||i,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let i=this.pendingIOSKey;return i?(this.pendingIOSKey=void 0,Yr(e.contentDOM,i.key,i.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:te.safari&&!te.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const V0=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],pP="dthko",X0=[16,17,18,20,91,92,224,225],ua=6;function fa(t){return Math.max(0,t)*.7+8}function gP(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class mP{constructor(e,i,n,r){this.view=e,this.startEvent=i,this.style=n,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=i,this.scrollParent=I5(e.contentDOM),this.atoms=e.state.facet(mf).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=i.shiftKey,this.multiple=e.state.facet(Ce.allowMultipleSelections)&&OP(e,i),this.dragging=vP(e,i)&&z0(i)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var i;if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&gP(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,s=((i=this.scrollParent)===null||i===void 0?void 0:i.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},o=I0(this.view);e.clientX-o.left<=s.left+ua?n=-fa(s.left-e.clientX):e.clientX+o.right>=s.right-ua&&(n=fa(e.clientX-s.right)),e.clientY-o.top<=s.top+ua?r=-fa(s.top-e.clientY):e.clientY+o.bottom>=s.bottom-ua&&(r=fa(e.clientY-s.bottom)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,i){this.scrollSpeed={x:e,y:i},e||i?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let i=null;for(let n=0;n<e.ranges.length;n++){let r=e.ranges[n],s=null;if(r.empty){let o=Ba(this.atoms,r.from,0);o!=r.from&&(s=Q.cursor(o,-1))}else{let o=Ba(this.atoms,r.from,-1),a=Ba(this.atoms,r.to,1);(o!=r.from||a!=r.to)&&(s=Q.range(r.from==r.anchor?o:a,r.from==r.head?o:a))}s&&(i||(i=e.ranges.slice()),i[n]=s)}return i?Q.create(i,e.mainIndex):e}select(e){let{view:i}=this,n=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!n.eq(i.state.selection)||n.main.assoc!=i.state.selection.main.assoc&&this.dragging===!1)&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function OP(t,e){let i=t.state.facet(w0);return i.length?i[0](e):te.mac?e.metaKey:e.ctrlKey}function bP(t,e){let i=t.state.facet(k0);return i.length?i[0](e):te.mac?!e.altKey:!e.ctrlKey}function vP(t,e){let{main:i}=t.state.selection;if(i.empty)return!1;let n=ll(t.root);if(!n||n.rangeCount==0)return!0;let r=n.getRangeAt(0).getClientRects();for(let s=0;s<r.length;s++){let o=r[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function bp(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let i=e.target,n;i!=t.contentDOM;i=i.parentNode)if(!i||i.nodeType==11||(n=Ne.get(i))&&n.ignoreEvent(e))return!1;return!0}const rt=Object.create(null),lu=Object.create(null),W0=te.ie&&te.ie_version<15||te.ios&&te.webkit_version<604;function yP(t){let e=t.dom.parentNode;if(!e)return;let i=e.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout(()=>{t.focus(),i.remove(),U0(t,i.value)},50)}function U0(t,e){let{state:i}=t,n,r=1,s=i.toText(e),o=s.lines==i.selection.ranges.length;if(cu!=null&&i.selection.ranges.every(l=>l.empty)&&cu==s.toString()){let l=-1;n=i.changeByRange(c=>{let h=i.doc.lineAt(c.from);if(h.from==l)return{range:c};l=h.from;let u=i.toText((o?s.line(r++).text:e)+i.lineBreak);return{changes:{from:h.from,insert:u},range:Q.cursor(c.from+u.length)}})}else o?n=i.changeByRange(l=>{let c=s.line(r++);return{changes:{from:l.from,to:l.to,insert:c.text},range:Q.cursor(l.from+c.length)}}):n=i.replaceSelection(s);t.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}rt.keydown=(t,e)=>{t.inputState.setSelectionOrigin("select"),e.keyCode==27&&(t.inputState.lastEscPress=Date.now())};rt.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};rt.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};lu.touchstart=lu.touchmove={passive:!0};rt.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return;let i=null;for(let n of t.state.facet(C0))if(i=n(t,e),i)break;if(!i&&e.button==0&&(i=wP(t,e)),i){let n=!t.hasFocus;t.inputState.startMouseSelection(new mP(t,e,i,n)),n&&t.observer.ignore(()=>h0(t.contentDOM)),t.inputState.mouseSelection&&t.inputState.mouseSelection.start(e)}};function vp(t,e,i,n){if(n==1)return Q.cursor(e,i);if(n==2)return sP(t.state,e,i);{let r=At.find(t.docView,e),s=t.state.doc.lineAt(r?r.posAtEnd:e),o=r?r.posAtStart:s.from,a=r?r.posAtEnd:s.to;return a<t.state.doc.length&&a==s.to&&a++,Q.range(o,a)}}let F0=(t,e)=>t>=e.top&&t<=e.bottom,yp=(t,e,i)=>F0(e,i)&&t>=i.left&&t<=i.right;function xP(t,e,i,n){let r=At.find(t.docView,e);if(!r)return 1;let s=e-r.posAtStart;if(s==0)return 1;if(s==r.length)return-1;let o=r.coordsAt(s,-1);if(o&&yp(i,n,o))return-1;let a=r.coordsAt(s,1);return a&&yp(i,n,a)?1:o&&F0(n,o)?-1:1}function xp(t,e){let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:i,bias:xP(t,i,e.clientX,e.clientY)}}const SP=te.ie&&te.ie_version<=11;let Sp=null,wp=0,kp=0;function z0(t){if(!SP)return t.detail;let e=Sp,i=kp;return Sp=t,kp=Date.now(),wp=!e||i>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(wp+1)%3:1}function wP(t,e){let i=xp(t,e),n=z0(e),r=t.state.selection;return{update(s){s.docChanged&&(i.pos=s.changes.mapPos(i.pos),r=r.map(s.changes))},get(s,o,a){let l=xp(t,s),c,h=vp(t,l.pos,l.bias,n);if(i.pos!=l.pos&&!o){let u=vp(t,i.pos,i.bias,n),f=Math.min(u.from,h.from),d=Math.max(u.to,h.to);h=f<h.from?Q.range(f,d):Q.range(d,f)}return o?r.replaceRange(r.main.extend(h.from,h.to)):a&&n==1&&r.ranges.length>1&&(c=kP(r,l.pos))?c:a?r.addRange(h):Q.create([h])}}}function kP(t,e){for(let i=0;i<t.ranges.length;i++){let{from:n,to:r}=t.ranges[i];if(n<=e&&r>=e)return Q.create(t.ranges.slice(0,i).concat(t.ranges.slice(i+1)),t.mainIndex==i?0:t.mainIndex-(t.mainIndex>i?1:0))}return null}rt.dragstart=(t,e)=>{let{selection:{main:i}}=t.state,{mouseSelection:n}=t.inputState;n&&(n.dragging=i),e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(i.from,i.to)),e.dataTransfer.effectAllowed="copyMove")};function Cp(t,e,i,n){if(!i)return;let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:s}=t.inputState,o=n&&s&&s.dragging&&bP(t,e)?{from:s.dragging.from,to:s.dragging.to}:null,a={from:r,insert:i},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(r,-1),head:l.mapPos(r,1)},userEvent:o?"move.drop":"input.drop"})}rt.drop=(t,e)=>{if(!e.dataTransfer)return;if(t.state.readOnly)return e.preventDefault();let i=e.dataTransfer.files;if(i&&i.length){e.preventDefault();let n=Array(i.length),r=0,s=()=>{++r==i.length&&Cp(t,e,n.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<i.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(n[o]=a.result),s()},a.readAsText(i[o])}}else Cp(t,e,e.dataTransfer.getData("Text"),!0)};rt.paste=(t,e)=>{if(t.state.readOnly)return e.preventDefault();t.observer.flush();let i=W0?null:e.clipboardData;i?(U0(t,i.getData("text/plain")||i.getData("text/uri-text")),e.preventDefault()):yP(t)};function CP(t,e){let i=t.dom.parentNode;if(!i)return;let n=i.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),t.focus()},50)}function $P(t){let e=[],i=[],n=!1;for(let r of t.selection.ranges)r.empty||(e.push(t.sliceDoc(r.from,r.to)),i.push(r));if(!e.length){let r=-1;for(let{from:s}of t.selection.ranges){let o=t.doc.lineAt(s);o.number>r&&(e.push(o.text),i.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),r=o.number}n=!0}return{text:e.join(t.lineBreak),ranges:i,linewise:n}}let cu=null;rt.copy=rt.cut=(t,e)=>{let{text:i,ranges:n,linewise:r}=$P(t.state);if(!i&&!r)return;cu=r?i:null;let s=W0?null:e.clipboardData;s?(e.preventDefault(),s.clearData(),s.setData("text/plain",i)):CP(t,i),e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"})};const q0=pn.define();function G0(t,e){let i=[];for(let n of t.facet(P0)){let r=n(t,e);r&&i.push(r)}return i?t.update({effects:i,annotations:q0.of(!0)}):null}function H0(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let i=G0(t.state,e);i?t.dispatch(i):t.update([])}},10)}rt.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),H0(t)};rt.blur=t=>{t.observer.clearSelectionRange(),H0(t)};rt.compositionstart=rt.compositionupdate=t=>{t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0)};rt.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,te.chrome&&te.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50)};rt.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};rt.beforeinput=(t,e)=>{var i;let n;if(te.chrome&&te.android&&(n=V0.find(r=>r.inputType==e.inputType))&&(t.observer.delayAndroidKey(n.key,n.keyCode),n.key=="Backspace"||n.key=="Delete")){let r=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>r+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}};const $p=new Set;function _P(t){$p.has(t)||($p.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const _p=["pre-wrap","normal","pre-line","break-spaces"];class PP{constructor(e){this.lineWrapping=e,this.doc=Qe.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,i){let n=this.doc.lineAt(i).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((i-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return _p.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let i=!1;for(let n=0;n<e.length;n++){let r=e[n];r<0?n++:this.heightSamples[Math.floor(r*10)]||(i=!0,this.heightSamples[Math.floor(r*10)]=!0)}return i}refresh(e,i,n,r,s,o){let a=_p.indexOf(e)>-1,l=Math.round(i)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=i,this.charWidth=n,this.textHeight=r,this.lineLength=s,l){this.heightSamples={};for(let c=0;c<o.length;c++){let h=o[c];h<0?c++:this.heightSamples[Math.floor(h*10)]=!0}}return l}}class TP{constructor(e,i){this.from=e,this.heights=i,this.index=0}get more(){return this.index<this.heights.length}}class Ei{constructor(e,i,n,r,s){this.from=e,this.length=i,this.top=n,this.height=r,this._content=s}get type(){return typeof this._content=="number"?Ge.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Yn?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let i=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Ei(this.from,this.length+e.length,this.top,this.height+e.height,i)}}var Be=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Be||(Be={}));const Va=.001;class Zt{constructor(e,i,n=2){this.length=e,this.height=i,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,i){this.height!=i&&(Math.abs(this.height-i)>Va&&(e.heightChanged=!0),this.height=i)}replace(e,i,n){return Zt.of(n)}decomposeLeft(e,i){i.push(this)}decomposeRight(e,i){i.push(this)}applyChanges(e,i,n,r){let s=this,o=n.doc;for(let a=r.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:h,toB:u}=r[a],f=s.lineAt(l,Be.ByPosNoHeight,n.setDoc(i),0,0),d=f.to>=c?f:s.lineAt(c,Be.ByPosNoHeight,n,0,0);for(u+=d.to-c,c=d.to;a>0&&f.from<=r[a-1].toA;)l=r[a-1].fromA,h=r[a-1].fromB,a--,l<f.from&&(f=s.lineAt(l,Be.ByPosNoHeight,n,0,0));h+=f.from-l,l=f.from;let p=Of.build(n.setDoc(o),e,h,u);s=s.replace(l,c,p)}return s.updateHeight(n,0)}static empty(){return new Gt(0,0)}static of(e){if(e.length==1)return e[0];let i=0,n=e.length,r=0,s=0;for(;;)if(i==n)if(r>s*2){let a=e[i-1];a.break?e.splice(--i,1,a.left,null,a.right):e.splice(--i,1,a.left,a.right),n+=1+a.break,r-=a.size}else if(s>r*2){let a=e[n];a.break?e.splice(n,1,a.left,null,a.right):e.splice(n,1,a.left,a.right),n+=2+a.break,s-=a.size}else break;else if(r<s){let a=e[i++];a&&(r+=a.size)}else{let a=e[--n];a&&(s+=a.size)}let o=0;return e[i-1]==null?(o=1,i--):e[i]==null&&(o=1,n++),new QP(Zt.of(e.slice(0,i)),o,Zt.of(e.slice(n)))}}Zt.prototype.size=1;class K0 extends Zt{constructor(e,i,n){super(e,i),this.deco=n}blockAt(e,i,n,r){return new Ei(r,this.length,n,this.height,this.deco||0)}lineAt(e,i,n,r,s){return this.blockAt(0,n,r,s)}forEachLine(e,i,n,r,s,o){e<=s+this.length&&i>=s&&o(this.blockAt(0,n,r,s))}updateHeight(e,i=0,n=!1,r){return r&&r.from<=i&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Gt extends K0{constructor(e,i){super(e,i,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,i,n,r){return new Ei(r,this.length,n,this.height,this.breaks)}replace(e,i,n){let r=n[0];return n.length==1&&(r instanceof Gt||r instanceof bt&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof bt?r=new Gt(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):Zt.of(n)}updateHeight(e,i=0,n=!1,r){return r&&r.from<=i&&r.more?this.setHeight(e,r.heights[r.index++]):(n||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class bt extends Zt{constructor(e){super(e,0)}heightMetrics(e,i){let n=e.doc.lineAt(i).number,r=e.doc.lineAt(i+this.length).number,s=r-n+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:n,lastLine:r,perLine:o,perChar:a}}blockAt(e,i,n,r){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(i,r);if(i.lineWrapping){let c=r+Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length),h=i.doc.lineAt(c),u=a+h.length*l,f=Math.max(n,e-u/2);return new Ei(h.from,h.length,f,u,0)}else{let c=Math.max(0,Math.min(o-s,Math.floor((e-n)/a))),{from:h,length:u}=i.doc.line(s+c);return new Ei(h,u,n+a*c,a,0)}}lineAt(e,i,n,r,s){if(i==Be.ByHeight)return this.blockAt(e,n,r,s);if(i==Be.ByPosNoHeight){let{from:d,to:p}=n.doc.lineAt(e);return new Ei(d,p-d,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(n,s),c=n.doc.lineAt(e),h=a+c.length*l,u=c.number-o,f=r+a*u+l*(c.from-s-u);return new Ei(c.from,c.length,Math.max(r,Math.min(f,r+this.height-h)),h,0)}forEachLine(e,i,n,r,s,o){e=Math.max(e,s),i=Math.min(i,s+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(n,s);for(let h=e,u=r;h<=i;){let f=n.doc.lineAt(h);if(h==e){let p=f.number-a;u+=l*p+c*(e-s-p)}let d=l+c*f.length;o(new Ei(f.from,f.length,u,d,0)),u+=d,h=f.to+1}}replace(e,i,n){let r=this.length-i;if(r>0){let s=n[n.length-1];s instanceof bt?n[n.length-1]=new bt(s.length+r):n.push(null,new bt(r-1))}if(e>0){let s=n[0];s instanceof bt?n[0]=new bt(e+s.length):n.unshift(new bt(e-1),null)}return Zt.of(n)}decomposeLeft(e,i){i.push(new bt(e-1),null)}decomposeRight(e,i){i.push(null,new bt(this.length-e-1))}updateHeight(e,i=0,n=!1,r){let s=i+this.length;if(r&&r.from<=i+this.length&&r.more){let o=[],a=Math.max(i,r.from),l=-1;for(r.from>i&&o.push(new bt(r.from-i-1).updateHeight(e,i));a<=s&&r.more;){let h=e.doc.lineAt(a).length;o.length&&o.push(null);let u=r.heights[r.index++];l==-1?l=u:Math.abs(u-l)>=Va&&(l=-2);let f=new Gt(h,u);f.outdated=!1,o.push(f),a+=h+1}a<=s&&o.push(null,new bt(s-a).updateHeight(e,a));let c=Zt.of(o);return(l<0||Math.abs(c.height-this.height)>=Va||Math.abs(l-this.heightMetrics(e,i).perLine)>=Va)&&(e.heightChanged=!0),c}else(n||this.outdated)&&(this.setHeight(e,e.heightForGap(i,i+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class QP extends Zt{constructor(e,i,n){super(e.length+i+n.length,e.height+n.height,i|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return this.flags&1}blockAt(e,i,n,r){let s=n+this.left.height;return e<s?this.left.blockAt(e,i,n,r):this.right.blockAt(e,i,s,r+this.left.length+this.break)}lineAt(e,i,n,r,s){let o=r+this.left.height,a=s+this.left.length+this.break,l=i==Be.ByHeight?e<o:e<a,c=l?this.left.lineAt(e,i,n,r,s):this.right.lineAt(e,i,n,o,a);if(this.break||(l?c.to<a:c.from>a))return c;let h=i==Be.ByPosNoHeight?Be.ByPosNoHeight:Be.ByPos;return l?c.join(this.right.lineAt(a,h,n,o,a)):this.left.lineAt(a,h,n,r,s).join(c)}forEachLine(e,i,n,r,s,o){let a=r+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,i,n,r,s,o),i>=l&&this.right.forEachLine(e,i,n,a,l,o);else{let c=this.lineAt(l,Be.ByPos,n,r,s);e<c.from&&this.left.forEachLine(e,c.from-1,n,r,s,o),c.to>=e&&c.from<=i&&o(c),i>c.to&&this.right.forEachLine(c.to+1,i,n,a,l,o)}}replace(e,i,n){let r=this.left.length+this.break;if(i<r)return this.balanced(this.left.replace(e,i,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,i-r,n));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of n)s.push(a);if(e>0&&Pp(s,o-1),i<this.length){let a=s.length;this.decomposeRight(i,s),Pp(s,a)}return Zt.of(s)}decomposeLeft(e,i){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,i);i.push(this.left),this.break&&(n++,e>=n&&i.push(null)),e>n&&this.right.decomposeLeft(e-n,i)}decomposeRight(e,i){let n=this.left.length,r=n+this.break;if(e>=r)return this.right.decomposeRight(e-r,i);e<n&&this.left.decomposeRight(e,i),this.break&&e<r&&i.push(null),i.push(this.right)}balanced(e,i){return e.size>2*i.size||i.size>2*e.size?Zt.of(this.break?[e,null,i]:[e,i]):(this.left=e,this.right=i,this.height=e.height+i.height,this.outdated=e.outdated||i.outdated,this.size=e.size+i.size,this.length=e.length+this.break+i.length,this)}updateHeight(e,i=0,n=!1,r){let{left:s,right:o}=this,a=i+s.length+this.break,l=null;return r&&r.from<=i+s.length&&r.more?l=s=s.updateHeight(e,i,n,r):s.updateHeight(e,i,n),r&&r.from<=a+o.length&&r.more?l=o=o.updateHeight(e,a,n,r):o.updateHeight(e,a,n),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Pp(t,e){let i,n;t[e]==null&&(i=t[e-1])instanceof bt&&(n=t[e+1])instanceof bt&&t.splice(e-1,3,new bt(i.length+1+n.length))}const AP=5;class Of{constructor(e,i){this.pos=e,this.oracle=i,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,i){if(this.lineStart>-1){let n=Math.min(i,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof Gt?r.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new Gt(n-this.pos,-1)),this.writtenTo=n,i>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=i}point(e,i,n){if(e<i||n.heightRelevant){let r=n.widget?n.widget.estimatedHeight:0,s=n.widget?n.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let o=i-e;n.block?this.addBlock(new K0(o,r,n)):(o||s||r>=AP)&&this.addLineDeco(r,s,o)}else i>e&&this.span(e,i);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:i}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=i,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Gt(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,i){let n=new bt(i-e);return this.oracle.doc.lineAt(e).to==i&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Gt)return e;let i=new Gt(0,-1);return this.nodes.push(i),i}addBlock(e){var i;this.enterLine();let n=(i=e.deco)===null||i===void 0?void 0:i.type;n==Ge.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n!=Ge.WidgetBefore&&(this.covering=e)}addLineDeco(e,i,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=i,this.writtenTo=this.pos=this.pos+n}finish(e){let i=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(i instanceof Gt)&&!this.isCovered?this.nodes.push(new Gt(0,-1)):(this.writtenTo<this.pos||i==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=e;for(let r of this.nodes)r instanceof Gt&&r.updateHeight(this.oracle,n),n+=r?r.length:1;return this.nodes}static build(e,i,n,r){let s=new Of(n,e);return Ee.spans(i,n,r,s,0),s.finish(n)}}function EP(t,e,i){let n=new RP;return Ee.compare(t,e,i,n,0),n.changes}class RP{constructor(){this.changes=[]}compareRange(){}comparePoint(e,i,n,r){(e<i||n&&n.heightRelevant||r&&r.heightRelevant)&&tu(e,i,this.changes,5)}}function IP(t,e){let i=t.getBoundingClientRect(),n=t.ownerDocument,r=n.defaultView||window,s=Math.max(0,i.left),o=Math.min(r.innerWidth,i.right),a=Math.max(0,i.top),l=Math.min(r.innerHeight,i.bottom);for(let c=t.parentNode;c&&c!=n.body;)if(c.nodeType==1){let h=c,u=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&u.overflow!="visible"){let f=h.getBoundingClientRect();s=Math.max(s,f.left),o=Math.min(o,f.right),a=Math.max(a,f.top),l=c==t.parentNode?f.bottom:Math.min(l,f.bottom)}c=u.position=="absolute"||u.position=="fixed"?h.offsetParent:h.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-i.left,right:Math.max(s,o)-i.left,top:a-(i.top+e),bottom:Math.max(a,l)-(i.top+e)}}function ZP(t,e){let i=t.getBoundingClientRect();return{left:0,right:i.right-i.left,top:e,bottom:i.bottom-(i.top+e)}}class Yc{constructor(e,i,n){this.from=e,this.to=i,this.size=n}static same(e,i){if(e.length!=i.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],s=i[n];if(r.from!=s.from||r.to!=s.to||r.size!=s.size)return!1}return!0}draw(e,i){return fe.replace({widget:new MP(this.size*(i?e.scaleY:e.scaleX),i)}).range(this.from,this.to)}}class MP extends Xi{constructor(e,i){super(),this.size=e,this.vertical=i}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Tp{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Qp,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=qe.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let i=e.facet(gf).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new PP(i),this.stateDeco=e.facet(po).filter(n=>typeof n!="function"),this.heightMap=Zt.empty().applyChanges(this.stateDeco,Qe.empty,this.heightOracle.setDoc(e.doc),[new gi(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=fe.set(this.lineGaps.map(n=>n.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:i}=this.state.selection;for(let n=0;n<=1;n++){let r=n?i.head:i.anchor;if(!e.some(({from:s,to:o})=>r>=s&&r<=o)){let{from:s,to:o}=this.lineBlockAt(r);e.push(new da(s,o))}}this.viewports=e.sort((n,r)=>n.from-r.from),this.scaler=this.heightMap.height<=7e6?Qp:new jP(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Vs(e,this.scaler))})}update(e,i=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(po).filter(h=>typeof h!="function");let r=e.changedRanges,s=gi.extendWithRanges(r,EP(n,this.stateDeco,e?e.changes:at.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(i&&(i.range.head<l.from||i.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,i));let c=!e.changes.empty||e.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),c&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),i&&(this.scrollTarget=i),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Q0)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let i=e.contentDOM,n=window.getComputedStyle(i),r=this.heightOracle,s=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?qe.RTL:qe.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=i.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,h=0;if(a.width&&a.height){let S=a.width/i.offsetWidth,y=a.height/i.offsetHeight;S>.995&&S<1.005&&(S=1),y>.995&&y<1.005&&(y=1),(this.scaleX!=S||this.scaleY!=y)&&(this.scaleX=S,this.scaleY=y,c|=8,o=l=!0)}let u=(parseInt(n.paddingTop)||0)*this.scaleY,f=(parseInt(n.paddingBottom)||0)*this.scaleY;(this.paddingTop!=u||this.paddingBottom!=f)&&(this.paddingTop=u,this.paddingBottom=f,c|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=8);let d=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=d&&(this.scrollAnchorHeight=-1,this.scrollTop=d),this.scrolledToBottom=f0(e.scrollDOM);let p=(this.printing?ZP:IP)(i,this.paddingTop),g=p.top-this.pixelViewport.top,m=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let b=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(b!=this.inView&&(this.inView=b,b&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let v=a.width;if((this.contentDOMWidth!=v||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=8),l){let S=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(S)&&(o=!0),o||r.lineWrapping&&Math.abs(v-this.contentDOMWidth)>r.charWidth){let{lineHeight:y,charWidth:$,textHeight:k}=e.docView.measureTextSize();o=y>0&&r.refresh(s,y,$,k,v/$,S),o&&(e.docView.minWidth=0,c|=8)}g>0&&m>0?h=Math.max(g,m):g<0&&m<0&&(h=Math.min(g,m)),r.heightChanged=!1;for(let y of this.viewports){let $=y.from==this.viewport.from?S:e.docView.measureVisibleLineHeights(y);this.heightMap=(o?Zt.empty().applyChanges(this.stateDeco,Qe.empty,this.heightOracle,[new gi(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,o,new TP(y.from,$))}r.heightChanged&&(c|=2)}let x=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return x&&(this.viewport=this.getViewport(h,this.scrollTarget)),this.updateForViewport(),(c&2||x)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,i){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new da(r.lineAt(o-n*1e3,Be.ByHeight,s,0,0).from,r.lineAt(a+(1-n)*1e3,Be.ByHeight,s,0,0).to);if(i){let{head:c}=i.range;if(c<l.from||c>l.to){let h=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),u=r.lineAt(c,Be.ByPos,s,0,0),f;i.y=="center"?f=(u.top+u.bottom)/2-h/2:i.y=="start"||i.y=="nearest"&&c<l.from?f=u.top:f=u.bottom-h,l=new da(r.lineAt(f-1e3/2,Be.ByHeight,s,0,0).from,r.lineAt(f+h+1e3/2,Be.ByHeight,s,0,0).to)}}return l}mapViewport(e,i){let n=i.mapPos(e.from,-1),r=i.mapPos(e.to,1);return new da(this.heightMap.lineAt(n,Be.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,Be.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:i},n=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,Be.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(i,Be.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||r<=o-Math.max(10,Math.min(-n,250)))&&(i==this.state.doc.length||s>=a+Math.max(10,Math.min(n,250)))&&r>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,i){if(!e.length||i.empty)return e;let n=[];for(let r of e)i.touchesRange(r.from,r.to)||n.push(new Yc(i.mapPos(r.from),i.mapPos(r.to),r.size));return n}ensureLineGaps(e,i){let n=this.heightOracle.lineWrapping,r=n?1e4:2e3,s=r>>1,o=r<<1;if(this.defaultTextDirection!=qe.LTR&&!n)return[];let a=[],l=(c,h,u,f)=>{if(h-c<s)return;let d=this.state.selection.main,p=[d.from];d.empty||p.push(d.to);for(let m of p)if(m>c&&m<h){l(c,m-10,u,f),l(m+10,h,u,f);return}let g=LP(e,m=>m.from>=u.from&&m.to<=u.to&&Math.abs(m.from-c)<s&&Math.abs(m.to-h)<s&&!p.some(b=>m.from<b&&m.to>b));if(!g){if(h<u.to&&i&&n&&i.visibleRanges.some(m=>m.from<=h&&m.to>=h)){let m=i.moveToLineBoundary(Q.cursor(h),!1,!0).head;m>c&&(h=m)}g=new Yc(c,h,this.gapSize(u,c,h,f))}a.push(g)};for(let c of this.viewportLines){if(c.length<o)continue;let h=DP(c.from,c.to,this.stateDeco);if(h.total<o)continue;let u=this.scrollTarget?this.scrollTarget.range.head:null,f,d;if(n){let p=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,g,m;if(u!=null){let b=ga(h,u),v=((this.visibleBottom-this.visibleTop)/2+p)/c.height;g=b-v,m=b+v}else g=(this.visibleTop-c.top-p)/c.height,m=(this.visibleBottom-c.top+p)/c.height;f=pa(h,g),d=pa(h,m)}else{let p=h.total*this.heightOracle.charWidth,g=r*this.heightOracle.charWidth,m,b;if(u!=null){let v=ga(h,u),x=((this.pixelViewport.right-this.pixelViewport.left)/2+g)/p;m=v-x,b=v+x}else m=(this.pixelViewport.left-g)/p,b=(this.pixelViewport.right+g)/p;f=pa(h,m),d=pa(h,b)}f>c.from&&l(c.from,f,c,h),d<c.to&&l(d,c.to,c,h)}return a}gapSize(e,i,n,r){let s=ga(r,n)-ga(r,i);return this.heightOracle.lineWrapping?e.height*s:r.total*this.heightOracle.charWidth*s}updateLineGaps(e){Yc.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=fe.set(e.map(i=>i.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let i=[];Ee.spans(e,this.viewport.from,this.viewport.to,{span(r,s){i.push({from:r,to:s})},point(){}},20);let n=i.length!=this.visibleRanges.length||this.visibleRanges.some((r,s)=>r.from!=i[s].from||r.to!=i[s].to);return this.visibleRanges=i,n?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(i=>i.from<=e&&i.to>=e)||Vs(this.heightMap.lineAt(e,Be.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Vs(this.heightMap.lineAt(this.scaler.fromDOM(e),Be.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let i=this.lineBlockAtHeight(e+8);return i.from>=this.viewport.from||this.viewportLines[0].top-e>200?i:this.viewportLines[0]}elementAtHeight(e){return Vs(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class da{constructor(e,i){this.from=e,this.to=i}}function DP(t,e,i){let n=[],r=t,s=0;return Ee.spans(i,t,e,{span(){},point(o,a){o>r&&(n.push({from:r,to:o}),s+=o-r),r=a}},20),r<e&&(n.push({from:r,to:e}),s+=e-r),{total:s,ranges:n}}function pa({total:t,ranges:e},i){if(i<=0)return e[0].from;if(i>=1)return e[e.length-1].to;let n=Math.floor(t*i);for(let r=0;;r++){let{from:s,to:o}=e[r],a=o-s;if(n<=a)return s+n;n-=a}}function ga(t,e){let i=0;for(let{from:n,to:r}of t.ranges){if(e<=r){i+=e-n;break}i+=r-n}return i/t.total}function LP(t,e){for(let i of t)if(e(i))return i}const Qp={toDOM(t){return t},fromDOM(t){return t},scale:1};class jP{constructor(e,i,n){let r=0,s=0,o=0;this.viewports=n.map(({from:a,to:l})=>{let c=i.lineAt(a,Be.ByPos,e,0,0).top,h=i.lineAt(l,Be.ByPos,e,0,0).bottom;return r+=h-c,{from:a,to:l,top:c,bottom:h,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(i.height-r);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let i=0,n=0,r=0;;i++){let s=i<this.viewports.length?this.viewports[i]:null;if(!s||e<s.top)return r+(e-n)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);n=s.bottom,r=s.domBottom}}fromDOM(e){for(let i=0,n=0,r=0;;i++){let s=i<this.viewports.length?this.viewports[i]:null;if(!s||e<s.domTop)return n+(e-r)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);n=s.bottom,r=s.domBottom}}}function Vs(t,e){if(e.scale==1)return t;let i=e.toDOM(t.top),n=e.toDOM(t.bottom);return new Ei(t.from,t.length,i,n-i,Array.isArray(t._content)?t._content.map(r=>Vs(r,e)):t._content)}const ma=K.define({combine:t=>t.join(" ")}),hu=K.define({combine:t=>t.indexOf(!0)>-1}),uu=Ln.newName(),J0=Ln.newName(),e1=Ln.newName(),t1={"&light":"."+J0,"&dark":"."+e1};function fu(t,e,i){return new Ln(e,{finish(n){return/&/.test(n)?n.replace(/&\w*/,r=>{if(r=="&")return t;if(!i||!i[r])throw new RangeError(`Unsupported selector: ${r}`);return i[r]}):t+" "+n}})}const NP=fu("."+uu,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},t1);class YP{constructor(e,i,n,r){this.typeOver=r,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&i>-1)this.newSel=null;else if(i>-1&&(this.bounds=e.docView.domBoundsAround(i,n,0))){let a=s||o?[]:XP(e),l=new m0(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=WP(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!qh(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!qh(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset);this.newSel=Q.single(c,l)}}}function i1(t,e){let i,{newSel:n}=e,r=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=r.from,c=null;(s===8||te.android&&e.text.length<a-o)&&(l=r.to,c="end");let h=VP(t.state.doc.sliceString(o,a,Ir),e.text,l-o,c);h&&(te.chrome&&s==13&&h.toB==h.from+2&&e.text.slice(h.from,h.toB)==Ir+Ir&&h.toB--,i={from:o+h.from,to:o+h.toA,insert:Qe.of(e.text.slice(h.from,h.toB).split(Ir))})}else n&&(!t.hasFocus&&t.state.facet(lc)||n.main.eq(r))&&(n=null);if(!i&&!n)return!1;if(!i&&e.typeOver&&!r.empty&&n&&n.main.empty?i={from:r.from,to:r.to,insert:t.state.doc.slice(r.from,r.to)}:i&&i.from>=r.from&&i.to<=r.to&&(i.from!=r.from||i.to!=r.to)&&r.to-r.from-(i.to-i.from)<=4?i={from:r.from,to:r.to,insert:t.state.doc.slice(r.from,i.from).append(i.insert).append(t.state.doc.slice(i.to,r.to))}:(te.mac||te.android)&&i&&i.from==i.to&&i.from==r.head-1&&/^\. ?$/.test(i.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(n&&i.insert.length==2&&(n=Q.single(n.main.anchor-1,n.main.head-1)),i={from:r.from,to:r.to,insert:Qe.of([" "])}):te.chrome&&i&&i.from==i.to&&i.from==r.head&&i.insert.toString()==`
 `&&t.lineWrapping&&(n&&(n=Q.single(n.main.anchor-1,n.main.head-1)),i={from:r.from,to:r.to,insert:Qe.of([" "])}),i){if(te.ios&&t.inputState.flushIOSKey(t)||te.android&&(i.from==r.from&&i.to==r.to&&i.insert.length==1&&i.insert.lines==2&&Yr(t.contentDOM,"Enter",13)||(i.from==r.from-1&&i.to==r.to&&i.insert.length==0||s==8&&i.insert.length<i.to-i.from&&i.to>r.head)&&Yr(t.contentDOM,"Backspace",8)||i.from==r.from&&i.to==r.to+1&&i.insert.length==0&&Yr(t.contentDOM,"Delete",46)))return!0;let o=i.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let a,l=()=>a||(a=BP(t,i,n));return t.state.facet(_0).some(c=>c(t,i.from,i.to,o,l))||t.dispatch(l()),!0}else if(n&&!n.main.eq(r)){let o=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),a=t.inputState.lastSelectionOrigin),t.dispatch({selection:n,scrollIntoView:o,userEvent:a}),!0}else return!1}function BP(t,e,i){let n,r=t.state,s=r.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!i||i.main.empty&&i.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let a=s.from<e.from?r.sliceDoc(s.from,e.from):"",l=s.to>e.to?r.sliceDoc(e.to,s.to):"";n=r.replaceSelection(t.state.toText(a+e.insert.sliceString(0,void 0,t.state.lineBreak)+l))}else{let a=r.changes(e),l=i&&i.main.to<=a.newLength?i.main:void 0;if(r.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let c=t.state.sliceDoc(e.from,e.to),h=N0(t,e.insert.length-(e.to-e.from))||t.state.doc.lineAt(s.head),u=s.to-e.to,f=s.to-s.from;n=r.changeByRange(d=>{if(d.from==s.from&&d.to==s.to)return{changes:a,range:l||d.map(a)};let p=d.to-u,g=p-c.length;if(d.to-d.from!=f||t.state.sliceDoc(g,p)!=c||h&&d.to>=h.from&&d.from<=h.to)return{range:d};let m=r.changes({from:g,to:p,insert:e.insert}),b=d.to-s.to;return{changes:m,range:l?Q.range(Math.max(0,l.anchor+b),Math.max(0,l.head+b)):d.map(m)}})}else n={changes:a,selection:l&&r.selection.replaceRange(l)}}let o="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1)),r.update(n,{userEvent:o,scrollIntoView:!0})}function VP(t,e,i,n){let r=Math.min(t.length,e.length),s=0;for(;s<r&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==r&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(n=="end"){let l=Math.max(0,s-Math.min(o,a));i-=o+l-s}if(o<s&&t.length<e.length){let l=i<=s&&i>=o?s-i:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=i<=s&&i>=a?s-i:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function XP(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:i,anchorOffset:n,focusNode:r,focusOffset:s}=t.observer.selectionRange;return i&&(e.push(new np(i,n)),(r!=i||s!=n)&&e.push(new np(r,s))),e}function WP(t,e){if(t.length==0)return null;let i=t[0].pos,n=t.length==2?t[1].pos:i;return i>-1&&n>-1?Q.single(i+e,n+e):null}const UP={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Bc=te.ie&&te.ie_version<=11;class FP{constructor(e){this.view=e,this.active=!1,this.selectionRange=new Z5,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(i=>{for(let n of i)this.queue.push(n);(te.ie&&te.ie_version<=11||te.ios&&e.composing)&&i.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),Bc&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var i;((i=this.view.docView)===null||i===void 0?void 0:i.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(i=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),i.length>0&&i[i.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(i=>{i.length>0&&i[i.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((i,n)=>i!=e[n]))){this.gapIntersection.disconnect();for(let i of e)this.gapIntersection.observe(i);this.gaps=e}}onSelectionChange(e){let i=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,r=this.selectionRange;if(n.state.facet(lc)?n.root.activeElement!=this.dom:!Ya(n.dom,r))return;let s=r.anchorNode&&n.docView.nearest(r.anchorNode);if(s&&s.ignoreEvent(e)){i||(this.selectionChanged=!1);return}(te.ie&&te.ie_version<=11||te.android&&te.chrome)&&!n.state.selection.main.empty&&r.focusNode&&cl(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,i=te.safari&&e.root.nodeType==11&&A5(this.dom.ownerDocument)==this.dom&&zP(this.view)||ll(e.root);if(!i||this.selectionRange.eq(i))return!1;let n=Ya(this.dom,i);return n&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&D5(this.dom,i)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(i),n&&(this.selectionChanged=!0),!0)}setSelectionRange(e,i){this.selectionRange.set(e.node,e.offset,i.node,i.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,i=null;for(let n=this.dom;n;)if(n.nodeType==1)!i&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:i||(i=this.scrollTargets.slice(0,e)),i&&i.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(e<this.scrollTargets.length&&!i&&(i=this.scrollTargets.slice(0,e)),i){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=i)n.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,UP),Bc&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Bc&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,i){var n;if(!this.delayedAndroidKey){let r=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Yr(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:i,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let i=-1,n=-1,r=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(r=!0),i==-1?{from:i,to:n}=o:(i=Math.min(o.from,i),n=Math.max(o.to,n)))}return{from:i,to:n,typeOver:r}}readChange(){let{from:e,to:i,typeOver:n}=this.processRecords(),r=this.selectionChanged&&Ya(this.dom,this.selectionRange);return e<0&&!r?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new YP(this.view,e,i,n))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let i=this.readChange();if(!i)return!1;let n=this.view.state,r=i1(this.view,i);return this.view.state==n&&this.view.update([]),r}readMutation(e){let i=this.view.docView.nearest(e.target);if(!i||i.ignoreMutation(e))return null;if(i.markDirty(e.type=="attributes"),e.type=="attributes"&&(i.flags|=4),e.type=="childList"){let n=Ap(i,e.previousSibling||e.target.previousSibling,-1),r=Ap(i,e.nextSibling||e.target.nextSibling,1);return{from:n?i.posAfter(n):i.posAtStart,to:r?i.posBefore(r):i.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,i,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(i=this.gapIntersection)===null||i===void 0||i.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect(),(r=this.resizeContent)===null||r===void 0||r.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function Ap(t,e,i){for(;e;){let n=Ne.get(e);if(n&&n.parent==t)return n;let r=e.parentNode;e=r!=t.dom?r:i>0?e.nextSibling:e.previousSibling}return null}function zP(t){let e=null;function i(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",i,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",i,!0),!e)return null;let n=e.startContainer,r=e.startOffset,s=e.endContainer,o=e.endOffset,a=t.docView.domAtPos(t.state.selection.main.anchor);return cl(a.node,a.offset,s,o)&&([n,r,s,o]=[s,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:o}}class F{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM);let{dispatch:i}=e;this.dispatchTransactions=e.dispatchTransactions||i&&(n=>n.forEach(r=>i(r,this)))||(n=>this.update(n)),this.dispatch=this.dispatch.bind(this),this._root=e.root||M5(e.parent)||document,this.viewState=new Tp(e.state||Ce.create(e)),this.plugins=this.state.facet(Ys).map(n=>new Lc(n));for(let n of this.plugins)n.update(this);this.observer=new FP(this),this.inputState=new dP(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new up(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}dispatch(...e){let i=e.length==1&&e[0]instanceof Wt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(i,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let i=!1,n=!1,r,s=this.state;for(let f of e){if(f.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=f.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(f=>f.annotation(q0))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=G0(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,h=null;if(c?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(h=null)):this.observer.clear(),s.facet(Ce.phrases)!=this.state.facet(Ce.phrases))return this.setState(s);r=fl.create(this,s,e),r.flags|=a;let u=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(u&&(u=u.map(f.changes)),f.scrollIntoView){let{main:d}=f.state.selection;u=new ul(d.empty?d:Q.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of f.effects)d.is(cp)&&(u=d.value)}this.viewState.update(r,u),this.bidiCache=dl.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),i=this.docView.update(r),this.state.facet(Bs)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(i,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(ma)!=r.state.facet(ma)&&(this.viewState.mustMeasureContent=!0),(i||n||u||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!r.empty)for(let f of this.state.facet(iu))f(r);(l||h)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),h&&!i1(this,h)&&c.force&&Yr(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let i=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new Tp(e),this.plugins=e.facet(Ys).map(n=>new Lc(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView=new up(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}i&&this.focus(),this.requestMeasure()}updatePlugins(e){let i=e.startState.facet(Ys),n=e.state.facet(Ys);if(i!=n){let r=[];for(let s of n){let o=i.indexOf(s);if(o<0)r.push(new Lc(s));else{let a=this.plugins[o];a.mustUpdate=e,r.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=r,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this)}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let i=null,n=this.scrollDOM,r=n.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(f0(n))s=-1,o=this.viewState.heightMap.height;else{let d=this.viewState.scrollAnchorAt(r);s=d.from,o=d.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let h=c.map(d=>{try{return d.read(this)}catch(p){return pi(this.state,p),Ep}}),u=fl.create(this,this.state,[]),f=!1;u.flags|=l,i?i.flags|=l:i=u,this.updateState=2,u.empty||(this.updatePlugins(u),this.inputState.update(u),this.updateAttrs(),f=this.docView.update(u));for(let d=0;d<c.length;d++)if(h[d]!=Ep)try{let p=c[d];p.write&&p.write(h[d],this)}catch(p){pi(this.state,p)}if(f&&this.docView.updateSelection(!0),!u.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null;continue}else{let p=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(p>1||p<-1){r=r+p,n.scrollTop=r/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(i&&!i.empty)for(let a of this.state.facet(iu))a(i)}get themeClasses(){return uu+" "+(this.state.facet(hu)?e1:J0)+" "+this.state.facet(ma)}updateAttrs(){let e=Rp(this,A0,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),i={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(lc)?"true":"false",class:"cm-content",style:`${te.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(i["aria-readonly"]="true"),Rp(this,gf,i);let n=this.observer.ignore(()=>{let r=eu(this.contentDOM,this.contentAttrs,i),s=eu(this.dom,this.editorAttrs,e);return r||s});return this.editorAttrs=e,this.contentAttrs=i,n}showAnnouncements(e){let i=!0;for(let n of e)for(let r of n.effects)if(r.is(F.announce)){i&&(this.announceDOM.textContent=""),i=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(Bs);let e=this.state.facet(F.cspNonce);Ln.mount(this.root,this.styleModules.concat(NP).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let i=0;i<this.measureRequests.length;i++)if(this.measureRequests[i].key===e.key){this.measureRequests[i]=e;return}}this.measureRequests.push(e)}}plugin(e){let i=this.pluginMap.get(e);return(i===void 0||i&&i.spec!=e)&&this.pluginMap.set(e,i=this.plugins.find(n=>n.spec==e)||null),i&&i.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,i,n){return Nc(this,e,Op(this,e,i,n))}moveByGroup(e,i){return Nc(this,e,Op(this,e,i,n=>uP(this,e.head,n)))}moveToLineBoundary(e,i,n=!0){return hP(this,e,i,n)}moveVertically(e,i,n){return Nc(this,e,fP(this,e,i,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,i=0){return this.docView.posFromDOM(e,i)}posAtCoords(e,i=!0){return this.readMeasured(),B0(this,e,i)}coordsAtPos(e,i=1){this.readMeasured();let n=this.docView.coordsAt(e,i);if(!n||n.left==n.right)return n;let r=this.state.doc.lineAt(e),s=this.bidiSpans(r),o=s[An.find(s,e-r.from,-1,i)];return oc(n,o.dir==qe.LTR==i>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(T0)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>qP)return L0(e.length);let i=this.textDirectionAt(e.from),n;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==i&&(s.fresh||D0(s.isolates,n=hp(this,e.from,e.to))))return s.order;n||(n=hp(this,e.from,e.to));let r=H5(e.text,i,n);return this.bidiCache.push(new dl(e.from,e.to,i,n,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||te.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{h0(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,i={}){return cp.of(new ul(typeof e=="number"?Q.cursor(e):e,i.y,i.x,i.yMargin,i.xMargin))}static domEventHandlers(e){return ot.define(()=>({}),{eventHandlers:e})}static theme(e,i){let n=Ln.newName(),r=[ma.of(n),Bs.of(fu(`.${n}`,e))];return i&&i.dark&&r.push(hu.of(!0)),r}static baseTheme(e){return xr.lowest(Bs.of(fu("."+uu,e,t1)))}static findFromDOM(e){var i;let n=e.querySelector(".cm-content"),r=n&&Ne.get(n)||Ne.get(e);return((i=r==null?void 0:r.rootView)===null||i===void 0?void 0:i.view)||null}}F.styleModule=Bs;F.inputHandler=_0;F.focusChangeEffect=P0;F.perLineTextDirection=T0;F.exceptionSink=$0;F.updateListener=iu;F.editable=lc;F.mouseSelectionStyle=C0;F.dragMovesSelection=k0;F.clickAddsSelectionRange=w0;F.decorations=po;F.atomicRanges=mf;F.bidiIsolatedRanges=E0;F.scrollMargins=R0;F.darkTheme=hu;F.cspNonce=K.define({combine:t=>t.length?t[0]:""});F.contentAttributes=gf;F.editorAttributes=A0;F.lineWrapping=F.contentAttributes.of({class:"cm-lineWrapping"});F.announce=be.define();const qP=4096,Ep={};class dl{constructor(e,i,n,r,s,o){this.from=e,this.to=i,this.dir=n,this.isolates=r,this.fresh=s,this.order=o}static update(e,i){if(i.empty&&!e.some(s=>s.fresh))return e;let n=[],r=e.length?e[e.length-1].dir:qe.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==r&&!i.touchesRange(o.from,o.to)&&n.push(new dl(i.mapPos(o.from,1),i.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return n}}function Rp(t,e,i){for(let n=t.state.facet(e),r=n.length-1;r>=0;r--){let s=n[r],o=typeof s=="function"?s(t):s;o&&Jh(o,i)}return i}const GP=te.mac?"mac":te.windows?"win":te.linux?"linux":"key";function HP(t,e){const i=t.split(/-(?!$)/);let n=i[i.length-1];n=="Space"&&(n=" ");let r,s,o,a;for(let l=0;l<i.length-1;++l){const c=i[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),a&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function Oa(t,e,i){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),i!==!1&&e.shiftKey&&(t="Shift-"+t),t}const KP=xr.default(F.domEventHandlers({keydown(t,e){return r1(n1(e.state),t,e,"editor")}})),Yo=K.define({enables:KP}),Ip=new WeakMap;function n1(t){let e=t.facet(Yo),i=Ip.get(e);return i||Ip.set(e,i=tT(e.reduce((n,r)=>n.concat(r),[]))),i}function JP(t,e,i){return r1(n1(t.state),e,t,i)}let _n=null;const eT=4e3;function tT(t,e=GP){let i=Object.create(null),n=Object.create(null),r=(o,a)=>{let l=n[o];if(l==null)n[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,c,h)=>{var u,f;let d=i[o]||(i[o]=Object.create(null)),p=a.split(/ (?!$)/).map(b=>HP(b,e));for(let b=1;b<p.length;b++){let v=p.slice(0,b).join(" ");r(v,!0),d[v]||(d[v]={preventDefault:!0,stopPropagation:!1,run:[x=>{let S=_n={view:x,prefix:v,scope:o};return setTimeout(()=>{_n==S&&(_n=null)},eT),!0}]})}let g=p.join(" ");r(g,!1);let m=d[g]||(d[g]={preventDefault:!1,stopPropagation:!1,run:((f=(u=d._any)===null||u===void 0?void 0:u.run)===null||f===void 0?void 0:f.slice())||[]});l&&m.run.push(l),c&&(m.preventDefault=!0),h&&(m.stopPropagation=!0)};for(let o of t){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of a){let h=i[c]||(i[c]=Object.create(null));h._any||(h._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let u in h)h[u].run.push(o.any)}let l=o[e]||o.key;if(l)for(let c of a)s(c,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(c,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return i}function r1(t,e,i,n){let r=Q5(e),s=yt(r,0),o=ui(s)==r.length&&r!=" ",a="",l=!1,c=!1,h=!1;_n&&_n.view==i&&_n.scope==n&&(a=_n.prefix+" ",X0.indexOf(e.keyCode)<0&&(c=!0,_n=null));let u=new Set,f=m=>{if(m){for(let b of m.run)if(!u.has(b)&&(u.add(b),b(i,e)))return m.stopPropagation&&(h=!0),!0;m.preventDefault&&(m.stopPropagation&&(h=!0),c=!0)}return!1},d=t[n],p,g;return d&&(f(d[a+Oa(r,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(te.windows&&e.ctrlKey&&e.altKey)&&(p=jn[e.keyCode])&&p!=r?(f(d[a+Oa(p,e,!0)])||e.shiftKey&&(g=fo[e.keyCode])!=r&&g!=p&&f(d[a+Oa(g,e,!1)]))&&(l=!0):o&&e.shiftKey&&f(d[a+Oa(r,e,!0)])&&(l=!0),!l&&f(d._any)&&(l=!0)),c&&(l=!0),l&&h&&e.stopPropagation(),l}class Bo{constructor(e,i,n,r,s){this.className=e,this.left=i,this.top=n,this.width=r,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,i){return i.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,i,n){if(n.empty){let r=e.coordsAtPos(n.head,n.assoc||1);if(!r)return[];let s=s1(e);return[new Bo(i,r.left-s.left,r.top-s.top,null,r.bottom-r.top)]}else return iT(e,i,n)}}function s1(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==qe.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function Zp(t,e,i){let n=Q.cursor(e);return{from:Math.max(i.from,t.moveToLineBoundary(n,!1,!0).from),to:Math.min(i.to,t.moveToLineBoundary(n,!0,!0).from),type:Ge.Text}}function iT(t,e,i){if(i.to<=t.viewport.from||i.from>=t.viewport.to)return[];let n=Math.max(i.from,t.viewport.from),r=Math.min(i.to,t.viewport.to),s=t.textDirection==qe.LTR,o=t.contentDOM,a=o.getBoundingClientRect(),l=s1(t),c=o.querySelector(".cm-line"),h=c&&window.getComputedStyle(c),u=a.left+(h?parseInt(h.paddingLeft)+Math.min(0,parseInt(h.textIndent)):0),f=a.right-(h?parseInt(h.paddingRight):0),d=au(t,n),p=au(t,r),g=d.type==Ge.Text?d:null,m=p.type==Ge.Text?p:null;if(g&&(t.lineWrapping||d.widgetLineBreaks)&&(g=Zp(t,n,g)),m&&(t.lineWrapping||p.widgetLineBreaks)&&(m=Zp(t,r,m)),g&&m&&g.from==m.from)return v(x(i.from,i.to,g));{let y=g?x(i.from,null,g):S(d,!1),$=m?x(null,i.to,m):S(p,!0),k=[];return(g||d).to<(m||p).from-(g&&m?1:0)||d.widgetLineBreaks>1&&y.bottom+t.defaultLineHeight/2<$.top?k.push(b(u,y.bottom,f,$.top)):y.bottom<$.top&&t.elementAtHeight((y.bottom+$.top)/2).type==Ge.Text&&(y.bottom=$.top=(y.bottom+$.top)/2),v(y).concat(k).concat(v($))}function b(y,$,k,T){return new Bo(e,y-l.left,$-l.top-.01,k-y,T-$+.01)}function v({top:y,bottom:$,horizontal:k}){let T=[];for(let P=0;P<k.length;P+=2)T.push(b(k[P],y,k[P+1],$));return T}function x(y,$,k){let T=1e9,P=-1e9,A=[];function I(D,L,W,J,oe){let z=t.coordsAtPos(D,D==k.to?-2:2),ae=t.coordsAtPos(W,W==k.from?2:-2);!z||!ae||(T=Math.min(z.top,ae.top,T),P=Math.max(z.bottom,ae.bottom,P),oe==qe.LTR?A.push(s&&L?u:z.left,s&&J?f:ae.right):A.push(!s&&J?u:ae.left,!s&&L?f:z.right))}let ie=y??k.from,he=$??k.to;for(let D of t.visibleRanges)if(D.to>ie&&D.from<he)for(let L=Math.max(D.from,ie),W=Math.min(D.to,he);;){let J=t.state.doc.lineAt(L);for(let oe of t.bidiSpans(J)){let z=oe.from+J.from,ae=oe.to+J.from;if(z>=W)break;ae>L&&I(Math.max(z,L),y==null&&z<=ie,Math.min(ae,W),$==null&&ae>=he,oe.dir)}if(L=J.to+1,L>=W)break}return A.length==0&&I(ie,y==null,he,$==null,t.textDirection),{top:T,bottom:P,horizontal:A}}function S(y,$){let k=a.top+($?y.top:y.bottom);return{top:k,bottom:k,horizontal:[]}}}function nT(t,e){return t.constructor==e.constructor&&t.eq(e)}class rT{constructor(e,i){this.view=e,this.layer=i,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),i.above&&this.dom.classList.add("cm-layer-above"),i.class&&this.dom.classList.add(i.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),i.mount&&i.mount(this.dom,e)}update(e){e.startState.facet(Xa)!=e.state.facet(Xa)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}setOrder(e){let i=0,n=e.facet(Xa);for(;i<n.length&&n[i]!=this.layer;)i++;this.dom.style.zIndex=String((this.layer.above?150:-1)-i)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:i}=this.view;(e!=this.scaleX||i!=this.scaleY)&&(this.scaleX=e,this.scaleY=i,this.dom.style.transform=`scale(${1/e}, ${1/i})`)}draw(e){if(e.length!=this.drawn.length||e.some((i,n)=>!nT(i,this.drawn[n]))){let i=this.dom.firstChild,n=0;for(let r of e)r.update&&i&&r.constructor&&this.drawn[n].constructor&&r.update(i,this.drawn[n])?(i=i.nextSibling,n++):this.dom.insertBefore(r.draw(),i);for(;i;){let r=i.nextSibling;i.remove(),i=r}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Xa=K.define();function o1(t){return[ot.define(e=>new rT(e,t)),Xa.of(t)]}const a1=!te.ios,mo=K.define({combine(t){return Vi(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,i)=>Math.min(e,i),drawRangeCursor:(e,i)=>e||i})}});function sT(t={}){return[mo.of(t),oT,aT,lT,Q0.of(!0)]}function l1(t){return t.startState.facet(mo)!=t.state.facet(mo)}const oT=o1({above:!0,markers(t){let{state:e}=t,i=e.facet(mo),n=[];for(let r of e.selection.ranges){let s=r==e.selection.main;if(r.empty?!s||a1:i.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=r.empty?r:Q.cursor(r.head,r.head>r.anchor?-1:1);for(let l of Bo.forRange(t,o,a))n.push(l)}}return n},update(t,e){t.transactions.some(n=>n.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let i=l1(t);return i&&Mp(t.state,e),t.docChanged||t.selectionSet||i},mount(t,e){Mp(e.state,t)},class:"cm-cursorLayer"});function Mp(t,e){e.style.animationDuration=t.facet(mo).cursorBlinkRate+"ms"}const aT=o1({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:Bo.forRange(t,"cm-selectionBackground",e)).reduce((e,i)=>e.concat(i))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||l1(t)},class:"cm-selectionLayer"}),c1={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};a1&&(c1[".cm-line"].caretColor="transparent !important");const lT=xr.highest(F.theme(c1)),h1=be.define({map(t,e){return t==null?null:e.mapPos(t)}}),Xs=Ot.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((i,n)=>n.is(h1)?n.value:i,t)}}),cT=ot.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let i=t.state.field(Xs);i==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Xs)!=i||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(Xs),i=e!=null&&t.coordsAtPos(e);if(!i)return null;let n=t.scrollDOM.getBoundingClientRect();return{left:i.left-n.left+t.scrollDOM.scrollLeft*t.scaleX,top:i.top-n.top+t.scrollDOM.scrollTop*t.scaleY,height:i.bottom-i.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:i}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/i+"px",this.cursor.style.height=t.height/i+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Xs)!=t&&this.view.dispatch({effects:h1.of(t)})}},{eventHandlers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function hT(){return[Xs,cT]}function Dp(t,e,i,n,r){e.lastIndex=0;for(let s=t.iterRange(i,n),o=i,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)r(o+a.index,a)}function uT(t,e){let i=t.visibleRanges;if(i.length==1&&i[0].from==t.viewport.from&&i[0].to==t.viewport.to)return i;let n=[];for(let{from:r,to:s}of i)r=Math.max(t.state.doc.lineAt(r).from,r-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),n.length&&n[n.length-1].to>=r?n[n.length-1].to=s:n.push({from:r,to:s});return n}class fT{constructor(e){const{regexp:i,decoration:n,decorate:r,boundary:s,maxLength:o=1e3}=e;if(!i.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=i,r)this.addMatch=(a,l,c,h)=>r(h,c,c+a[0].length,a,l);else if(typeof n=="function")this.addMatch=(a,l,c,h)=>{let u=n(a,l,c);u&&h(c,c+a[0].length,u)};else if(n)this.addMatch=(a,l,c,h)=>h(c,c+a[0].length,n);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let i=new Dn,n=i.add.bind(i);for(let{from:r,to:s}of uT(e,this.maxLength))Dp(e.state.doc,this.regexp,r,s,(o,a)=>this.addMatch(a,e,o,n));return i.finish()}updateDeco(e,i){let n=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>e.view.viewport.from&&a<e.view.viewport.to&&(n=Math.min(a,n),r=Math.max(l,r))}),e.viewportChanged||r-n>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,i.map(e.changes),n,r):i}updateRange(e,i,n,r){for(let s of e.visibleRanges){let o=Math.max(s.from,n),a=Math.min(s.to,r);if(a>o){let l=e.state.doc.lineAt(o),c=l.to<a?e.state.doc.lineAt(a):l,h=Math.max(s.from,l.from),u=Math.min(s.to,c.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){h=o;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){u=a;break}}let f=[],d,p=(g,m,b)=>f.push(b.range(g,m));if(l==c)for(this.regexp.lastIndex=h-l.from;(d=this.regexp.exec(l.text))&&d.index<u-l.from;)this.addMatch(d,e,d.index+l.from,p);else Dp(e.state.doc,this.regexp,h,u,(g,m)=>this.addMatch(m,e,g,p));i=i.update({filterFrom:h,filterTo:u,filter:(g,m)=>g<h||m>u,add:f})}}return i}}const du=/x/.unicode!=null?"gu":"g",dT=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,du),pT={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Vc=null;function gT(){var t;if(Vc==null&&typeof document<"u"&&document.body){let e=document.body.style;Vc=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return Vc||!1}const Wa=K.define({combine(t){let e=Vi(t,{render:null,specialChars:dT,addSpecialChars:null});return(e.replaceTabs=!gT())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,du)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,du)),e}});function mT(t={}){return[Wa.of(t),OT()]}let Lp=null;function OT(){return Lp||(Lp=ot.fromClass(class{constructor(t){this.view=t,this.decorations=fe.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Wa)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new fT({regexp:t.specialChars,decoration:(e,i,n)=>{let{doc:r}=i.state,s=yt(e[0],0);if(s==9){let o=r.lineAt(n),a=i.state.tabSize,l=ds(o.text,a,n-o.from);return fe.replace({widget:new xT((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=fe.replace({widget:new yT(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Wa);t.startState.facet(Wa)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const bT="•";function vT(t){return t>=32?bT:t==10?"␤":String.fromCharCode(9216+t)}class yT extends Xi{constructor(e,i){super(),this.options=e,this.code=i}eq(e){return e.code==this.code}toDOM(e){let i=vT(this.code),n=e.state.phrase("Control character")+" "+(pT[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,i);if(r)return r;let s=document.createElement("span");return s.textContent=i,s.title=n,s.setAttribute("aria-label",n),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class xT extends Xi{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function ST(){return kT}const wT=fe.line({class:"cm-activeLine"}),kT=ot.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,i=[];for(let n of t.state.selection.ranges){let r=t.lineBlockAt(n.head);r.from>e&&(i.push(wT.range(r.from)),e=r.from)}return fe.set(i)}},{decorations:t=>t.decorations});class CT extends Xi{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let i=e.firstChild?Fr(e.firstChild):[];if(!i.length)return null;let n=window.getComputedStyle(e.parentNode),r=oc(i[0],n.direction!="rtl"),s=parseInt(n.lineHeight);return r.bottom-r.top>s*1.5?{left:r.left,right:r.right,top:r.top,bottom:r.top+s}:r}ignoreEvent(){return!1}}function $T(t){return ot.fromClass(class{constructor(e){this.view=e,this.placeholder=t?fe.set([fe.widget({widget:new CT(t),side:1}).range(0)]):fe.none}get decorations(){return this.view.state.doc.length?fe.none:this.placeholder}},{decorations:e=>e.decorations})}const pu=2e3;function _T(t,e,i){let n=Math.min(e.line,i.line),r=Math.max(e.line,i.line),s=[];if(e.off>pu||i.off>pu||e.col<0||i.col<0){let o=Math.min(e.off,i.off),a=Math.max(e.off,i.off);for(let l=n;l<=r;l++){let c=t.doc.line(l);c.length<=a&&s.push(Q.range(c.from+o,c.to+a))}}else{let o=Math.min(e.col,i.col),a=Math.max(e.col,i.col);for(let l=n;l<=r;l++){let c=t.doc.line(l),h=Uh(c.text,o,t.tabSize,!0);if(h<0)s.push(Q.cursor(c.to));else{let u=Uh(c.text,a,t.tabSize);s.push(Q.range(c.from+h,c.from+u))}}}return s}function PT(t,e){let i=t.coordsAtPos(t.viewport.from);return i?Math.round(Math.abs((i.left-e)/t.defaultCharacterWidth)):-1}function jp(t,e){let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),n=t.state.doc.lineAt(i),r=i-n.from,s=r>pu?-1:r==n.length?PT(t,e.clientX):ds(n.text,t.state.tabSize,i-n.from);return{line:n.number,col:s,off:r}}function TT(t,e){let i=jp(t,e),n=t.state.selection;return i?{update(r){if(r.docChanged){let s=r.changes.mapPos(r.startState.doc.line(i.line).from),o=r.state.doc.lineAt(s);i={line:o.number,col:i.col,off:Math.min(i.off,o.length)},n=n.map(r.changes)}},get(r,s,o){let a=jp(t,r);if(!a)return n;let l=_T(t.state,i,a);return l.length?o?Q.create(l.concat(n.ranges)):Q.create(l):n}}:null}function QT(t){let e=(t==null?void 0:t.eventFilter)||(i=>i.altKey&&i.button==0);return F.mouseSelectionStyle.of((i,n)=>e(n)?TT(i,n):null)}const AT={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},ET={style:"cursor: crosshair"};function RT(t={}){let[e,i]=AT[t.key||"Alt"],n=ot.fromClass(class{constructor(r){this.view=r,this.isDown=!1}set(r){this.isDown!=r&&(this.isDown=r,this.view.update([]))}},{eventHandlers:{keydown(r){this.set(r.keyCode==e||i(r))},keyup(r){(r.keyCode==e||!i(r))&&this.set(!1)},mousemove(r){this.set(i(r))}}});return[n,F.contentAttributes.of(r=>{var s;return!((s=r.plugin(n))===null||s===void 0)&&s.isDown?ET:null})]}const ba="-10000px";class u1{constructor(e,i,n){this.facet=i,this.createTooltipView=n,this.input=e.state.facet(i),this.tooltips=this.input.filter(r=>r),this.tooltipViews=this.tooltips.map(n)}update(e){var i;let n=e.state.facet(this.facet),r=n.filter(o=>o);if(n===this.input){for(let o of this.tooltipViews)o.update&&o.update(e);return!1}let s=[];for(let o=0;o<r.length;o++){let a=r[o],l=-1;if(a){for(let c=0;c<this.tooltips.length;c++){let h=this.tooltips[c];h&&h.create==a.create&&(l=c)}if(l<0)s[o]=this.createTooltipView(a);else{let c=s[o]=this.tooltipViews[l];c.update&&c.update(e)}}}for(let o of this.tooltipViews)s.indexOf(o)<0&&(o.dom.remove(),(i=o.destroy)===null||i===void 0||i.call(o));return this.input=n,this.tooltips=r,this.tooltipViews=s,!0}}function IT(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const Xc=K.define({combine:t=>{var e,i,n;return{position:te.ios?"absolute":((e=t.find(r=>r.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((i=t.find(r=>r.parent))===null||i===void 0?void 0:i.parent)||null,tooltipSpace:((n=t.find(r=>r.tooltipSpace))===null||n===void 0?void 0:n.tooltipSpace)||IT}}}),Np=new WeakMap,f1=ot.fromClass(class{constructor(t){this.view=t,this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(Xc);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new u1(t,bf,i=>this.createTooltip(i)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(i=>{Date.now()>this.lastTransaction-50&&i.length>0&&i[i.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t);e&&this.observeIntersection();let i=e||t.geometryChanged,n=t.state.facet(Xc);if(n.position!=this.position&&!this.madeAbsolute){this.position=n.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;i=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);i=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);i&&this.maybeMeasure()}createTooltip(t){let e=t.create(this.view);if(e.dom.classList.add("cm-tooltip"),t.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",e.dom.appendChild(i)}return e.dom.style.position=this.position,e.dom.style.top=ba,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var t,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let i of this.manager.tooltipViews)i.dom.remove(),(t=i.destroy)===null||t===void 0||t.call(i);(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),e=1,i=1,n=!1;if(this.position=="fixed"){let r=this.manager.tooltipViews;n=r.length>0&&r[0].dom.offsetParent!=this.container.ownerDocument.body}if(n||this.position=="absolute")if(this.parent){let r=this.parent.getBoundingClientRect();r.width&&r.height&&(e=r.width/this.parent.offsetWidth,i=r.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:i}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((r,s)=>{let o=this.manager.tooltipViews[s];return o.getCoords?o.getCoords(r.pos):this.view.coordsAtPos(r.pos)}),size:this.manager.tooltipViews.map(({dom:r})=>r.getBoundingClientRect()),space:this.view.state.facet(Xc).tooltipSpace(this.view),scaleX:e,scaleY:i,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{editor:i,space:n,scaleX:r,scaleY:s}=t,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:h}=c,u=t.pos[a],f=t.size[a];if(!u||u.bottom<=Math.max(i.top,n.top)||u.top>=Math.min(i.bottom,n.bottom)||u.right<Math.max(i.left,n.left)-.1||u.left>Math.min(i.right,n.right)+.1){h.style.top=ba;continue}let d=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,p=d?7:0,g=f.right-f.left,m=(e=Np.get(c))!==null&&e!==void 0?e:f.bottom-f.top,b=c.offset||MT,v=this.view.textDirection==qe.LTR,x=f.width>n.right-n.left?v?n.left:n.right-f.width:v?Math.min(u.left-(d?14:0)+b.x,n.right-g):Math.max(n.left,u.left-g+(d?14:0)-b.x),S=!!l.above;!l.strictSide&&(S?u.top-(f.bottom-f.top)-b.y<n.top:u.bottom+(f.bottom-f.top)+b.y>n.bottom)&&S==n.bottom-u.bottom>u.top-n.top&&(S=!S);let y=(S?u.top-n.top:n.bottom-u.bottom)-p;if(y<m&&c.resize!==!1){if(y<this.view.defaultLineHeight){h.style.top=ba;continue}Np.set(c,m),h.style.height=(m=y)/s+"px"}else h.style.height&&(h.style.height="");let $=S?u.top-m-p-b.y:u.bottom+p+b.y,k=x+g;if(c.overlap!==!0)for(let T of o)T.left<k&&T.right>x&&T.top<$+m&&T.bottom>$&&($=S?T.top-m-2-p:T.bottom+p+2);if(this.position=="absolute"?(h.style.top=($-t.parent.top)/s+"px",h.style.left=(x-t.parent.left)/r+"px"):(h.style.top=$/s+"px",h.style.left=x/r+"px"),d){let T=u.left+(v?b.x:-b.x)-(x+14-7);d.style.left=T/r+"px"}c.overlap!==!0&&o.push({left:x,top:$,right:k,bottom:$+m}),h.classList.toggle("cm-tooltip-above",S),h.classList.toggle("cm-tooltip-below",!S),c.positioned&&c.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=ba}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),ZT=F.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),MT={x:0,y:0},bf=K.define({enables:[f1,ZT]}),pl=K.define();class vf{static create(e){return new vf(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new u1(e,pl,i=>this.createHostedView(i))}createHostedView(e){let i=e.create(this.view);return i.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(i.dom),this.mounted&&i.mount&&i.mount(this.view),i}mount(e){for(let i of this.manager.tooltipViews)i.mount&&i.mount(e);this.mounted=!0}positioned(e){for(let i of this.manager.tooltipViews)i.positioned&&i.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let i of this.manager.tooltipViews)(e=i.destroy)===null||e===void 0||e.call(i)}}const DT=bf.compute([pl],t=>{let e=t.facet(pl).filter(i=>i);return e.length===0?null:{pos:Math.min(...e.map(i=>i.pos)),end:Math.max(...e.filter(i=>i.end!=null).map(i=>i.end)),create:vf.create,above:e[0].above,arrow:e.some(i=>i.arrow)}});class LT{constructor(e,i,n,r,s){this.view=e,this.source=i,this.field=n,this.setHover=r,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:i}=this,n=e.docView.nearest(i.target);if(!n)return;let r,s=1;if(n instanceof Qn)r=n.posAtStart;else{if(r=e.posAtCoords(i),r==null)return;let a=e.coordsAtPos(r);if(!a||i.y<a.top||i.y>a.bottom||i.x<a.left-e.defaultCharacterWidth||i.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(r)).find(h=>h.from<=r&&h.to>=r),c=l&&l.dir==qe.RTL?-1:1;s=i.x<a.left?-c:c}let o=this.source(e,r,s);if(o!=null&&o.then){let a=this.pending={pos:r};o.then(l=>{this.pending==a&&(this.pending=null,l&&e.dispatch({effects:this.setHover.of(l)}))},l=>pi(e.state,l,"hover tooltip"))}else o&&e.dispatch({effects:this.setHover.of(o)})}mousemove(e){var i;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let n=this.active;if(n&&!Yp(this.lastMove.target)||this.pending){let{pos:r}=n||this.pending,s=(i=n==null?void 0:n.end)!==null&&i!==void 0?i:r;(r==s?this.view.posAtCoords(this.lastMove)!=r:!jT(this.view,r,s,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!Yp(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function Yp(t){for(let e=t;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function jT(t,e,i,n,r,s){let o=t.scrollDOM.getBoundingClientRect(),a=t.documentTop+t.documentPadding.top+t.contentHeight;if(o.left>n||o.right<n||o.top>r||Math.min(o.bottom,a)<r)return!1;let l=t.posAtCoords({x:n,y:r},!1);return l>=e&&l<=i}function NT(t,e={}){let i=be.define(),n=Ot.define({create(){return null},update(r,s){if(r&&(e.hideOnChange&&(s.docChanged||s.selection)||e.hideOn&&e.hideOn(s,r)))return null;if(r&&s.docChanged){let o=s.changes.mapPos(r.pos,-1,St.TrackDel);if(o==null)return null;let a=Object.assign(Object.create(null),r);a.pos=o,r.end!=null&&(a.end=s.changes.mapPos(r.end)),r=a}for(let o of s.effects)o.is(i)&&(r=o.value),o.is(YT)&&(r=null);return r},provide:r=>pl.from(r)});return[n,ot.define(r=>new LT(r,t,n,i,e.hoverTime||300)),DT]}function d1(t,e){let i=t.plugin(f1);if(!i)return null;let n=i.manager.tooltips.indexOf(e);return n<0?null:i.manager.tooltipViews[n]}const YT=be.define(),Bp=K.define({combine(t){let e,i;for(let n of t)e=e||n.topContainer,i=i||n.bottomContainer;return{topContainer:e,bottomContainer:i}}});function Oo(t,e){let i=t.plugin(p1),n=i?i.specs.indexOf(e):-1;return n>-1?i.panels[n]:null}const p1=ot.fromClass(class{constructor(t){this.input=t.state.facet(bo),this.specs=this.input.filter(i=>i),this.panels=this.specs.map(i=>i(t));let e=t.state.facet(Bp);this.top=new va(t,!0,e.topContainer),this.bottom=new va(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(i=>i.top)),this.bottom.sync(this.panels.filter(i=>!i.top));for(let i of this.panels)i.dom.classList.add("cm-panel"),i.mount&&i.mount()}update(t){let e=t.state.facet(Bp);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new va(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new va(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let i=t.state.facet(bo);if(i!=this.input){let n=i.filter(l=>l),r=[],s=[],o=[],a=[];for(let l of n){let c=this.specs.indexOf(l),h;c<0?(h=l(t.view),a.push(h)):(h=this.panels[c],h.update&&h.update(t)),r.push(h),(h.top?s:o).push(h)}this.specs=n,this.panels=r,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let n of this.panels)n.update&&n.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>F.scrollMargins.of(e=>{let i=e.plugin(t);return i&&{top:i.top.scrollMargin(),bottom:i.bottom.scrollMargin()}})});class va{constructor(e,i,n){this.view=e,this.top=i,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let i of this.panels)i.destroy&&e.indexOf(i)<0&&i.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let i=this.container||this.view.dom;i.insertBefore(this.dom,this.top?i.firstChild:null)}let e=this.dom.firstChild;for(let i of this.panels)if(i.dom.parentNode==this.dom){for(;e!=i.dom;)e=Vp(e);e=e.nextSibling}else this.dom.insertBefore(i.dom,e);for(;e;)e=Vp(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Vp(t){let e=t.nextSibling;return t.remove(),e}const bo=K.define({enables:p1});class ln extends ur{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}ln.prototype.elementClass="";ln.prototype.toDOM=void 0;ln.prototype.mapMode=St.TrackBefore;ln.prototype.startSide=ln.prototype.endSide=-1;ln.prototype.point=!0;const Ua=K.define(),BT={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Ee.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Ks=K.define();function VT(t){return[g1(),Ks.of(Object.assign(Object.assign({},BT),t))]}const gu=K.define({combine:t=>t.some(e=>e)});function g1(t){let e=[XT];return t&&t.fixed===!1&&e.push(gu.of(!0)),e}const XT=ot.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Ks).map(e=>new Wp(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(gu),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,i=t.view.viewport,n=Math.min(e.to,i.to)-Math.max(e.from,i.from);this.syncGutters(n<(i.to-i.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(gu)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let i=Ee.iter(this.view.state.facet(Ua),this.view.viewport.from),n=[],r=this.gutters.map(s=>new WT(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==Ge.Text&&o){mu(i,n,a.from);for(let l of r)l.line(this.view,a,n);o=!1}else if(a.widget)for(let l of r)l.widget(this.view,a)}else if(s.type==Ge.Text){mu(i,n,s.from);for(let o of r)o.line(this.view,s,n)}for(let s of r)s.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(Ks),i=t.state.facet(Ks),n=t.docChanged||t.heightChanged||t.viewportChanged||!Ee.eq(t.startState.facet(Ua),t.state.facet(Ua),t.view.viewport.from,t.view.viewport.to);if(e==i)for(let r of this.gutters)r.update(t)&&(n=!0);else{n=!0;let r=[];for(let s of i){let o=e.indexOf(s);o<0?r.push(new Wp(this.view,s)):(this.gutters[o].update(t),r.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),r.indexOf(s)<0&&s.destroy();for(let s of r)this.dom.appendChild(s.dom);this.gutters=r}return n}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>F.scrollMargins.of(e=>{let i=e.plugin(t);return!i||i.gutters.length==0||!i.fixed?null:e.textDirection==qe.LTR?{left:i.dom.offsetWidth*e.scaleX}:{right:i.dom.offsetWidth*e.scaleX}})});function Xp(t){return Array.isArray(t)?t:[t]}function mu(t,e,i){for(;t.value&&t.from<=i;)t.from==i&&e.push(t.value),t.next()}class WT{constructor(e,i,n){this.gutter=e,this.height=n,this.i=0,this.cursor=Ee.iter(e.markers,i.from)}addElement(e,i,n){let{gutter:r}=this,s=i.top-this.height;if(this.i==r.elements.length){let o=new m1(e,i.height,s,n);r.elements.push(o),r.dom.appendChild(o.dom)}else r.elements[this.i].update(e,i.height,s,n);this.height=i.bottom,this.i++}line(e,i,n){let r=[];mu(this.cursor,r,i.from),n.length&&(r=r.concat(n));let s=this.gutter.config.lineMarker(e,i,r);s&&r.unshift(s);let o=this.gutter;r.length==0&&!o.config.renderEmptyElements||this.addElement(e,i,r)}widget(e,i){let n=this.gutter.config.widgetMarker(e,i.widget,i);n&&this.addElement(e,i,[n])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let i=e.elements.pop();e.dom.removeChild(i.dom),i.destroy()}}}class Wp{constructor(e,i){this.view=e,this.config=i,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in i.domEventHandlers)this.dom.addEventListener(n,r=>{let s=r.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=r.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);i.domEventHandlers[n](e,a,r)&&r.preventDefault()});this.markers=Xp(i.markers(e)),i.initialSpacer&&(this.spacer=new m1(e,0,0,[i.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let i=this.markers;if(this.markers=Xp(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}let n=e.view.viewport;return!Ee.eq(this.markers,i,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class m1{constructor(e,i,n,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,i,n,r)}update(e,i,n,r){this.height!=i&&(this.height=i,this.dom.style.height=i/e.scaleY+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n/e.scaleY+"px":""),UT(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,i){let n="cm-gutterElement",r=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<i.length?i[s++]:null,c=!1;if(l){let h=l.elementClass;h&&(n+=" "+h);for(let u=o;u<this.markers.length;u++)if(this.markers[u].compare(l)){a=u,c=!0;break}}else a=this.markers.length;for(;o<a;){let h=this.markers[o++];if(h.toDOM){h.destroy(r);let u=r.nextSibling;r.remove(),r=u}}if(!l)break;l.toDOM&&(c?r=r.nextSibling:this.dom.insertBefore(l.toDOM(e),r)),c&&o++}this.dom.className=n,this.markers=i}destroy(){this.setMarkers(null,[])}}function UT(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!t[i].compare(e[i]))return!1;return!0}const FT=K.define(),Zr=K.define({combine(t){return Vi(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,i){let n=Object.assign({},e);for(let r in i){let s=n[r],o=i[r];n[r]=s?(a,l,c)=>s(a,l,c)||o(a,l,c):o}return n}})}});class Wc extends ln{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Uc(t,e){return t.state.facet(Zr).formatNumber(e,t.state)}const zT=Ks.compute([Zr],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(FT)},lineMarker(e,i,n){return n.some(r=>r.toDOM)?null:new Wc(Uc(e,e.state.doc.lineAt(i.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(Zr)!=e.state.facet(Zr),initialSpacer(e){return new Wc(Uc(e,Up(e.state.doc.lines)))},updateSpacer(e,i){let n=Uc(i.view,Up(i.view.state.doc.lines));return n==e.number?e:new Wc(n)},domEventHandlers:t.facet(Zr).domEventHandlers}));function qT(t={}){return[Zr.of(t),g1(),zT]}function Up(t){let e=9;for(;e<t;)e=e*10+9;return e}const GT=new class extends ln{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},HT=Ua.compute(["selection"],t=>{let e=[],i=-1;for(let n of t.selection.ranges){let r=t.doc.lineAt(n.head).from;r>i&&(i=r,e.push(GT.range(r)))}return Ee.of(e)});function KT(){return HT}const O1=1024;let JT=0;class Fc{constructor(e,i){this.from=e,this.to=i}}class Se{constructor(e={}){this.id=JT++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Ut.match(e)),i=>{let n=e(i);return n===void 0?null:[this,n]}}}Se.closedBy=new Se({deserialize:t=>t.split(" ")});Se.openedBy=new Se({deserialize:t=>t.split(" ")});Se.group=new Se({deserialize:t=>t.split(" ")});Se.contextHash=new Se({perNode:!0});Se.lookAhead=new Se({perNode:!0});Se.mounted=new Se({perNode:!0});const eQ=Object.create(null);class Ut{constructor(e,i,n,r=0){this.name=e,this.props=i,this.id=n,this.flags=r}static define(e){let i=e.props&&e.props.length?Object.create(null):eQ,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new Ut(e.name||"",i,e.id,n);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(r)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");i[s[0].id]=s[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let i=this.prop(Se.group);return i?i.indexOf(e)>-1:!1}return this.id==e}static match(e){let i=Object.create(null);for(let n in e)for(let r of n.split(" "))i[r]=e[n];return n=>{for(let r=n.prop(Se.group),s=-1;s<(r?r.length:0);s++){let o=i[s<0?n.name:r[s]];if(o)return o}}}}Ut.none=new Ut("",Object.create(null),0,8);class yf{constructor(e){this.types=e;for(let i=0;i<e.length;i++)if(e[i].id!=i)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let i=[];for(let n of this.types){let r=null;for(let s of e){let o=s(n);o&&(r||(r=Object.assign({},n.props)),r[o[0].id]=o[1])}i.push(r?new Ut(n.name,r,n.id,n.flags):n)}return new yf(i)}}const ya=new WeakMap,Fp=new WeakMap;var lt;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(lt||(lt={}));class st{constructor(e,i,n,r,s){if(this.type=e,this.children=i,this.positions=n,this.length=r,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=this.prop(Se.mounted);if(e&&!e.overlay)return e.tree.toString();let i="";for(let n of this.children){let r=n.toString();r&&(i&&(i+=","),i+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(i.length?"("+i+")":""):i}cursor(e=0){return new Ol(this.topNode,e)}cursorAt(e,i=0,n=0){let r=ya.get(this)||this.topNode,s=new Ol(r);return s.moveTo(e,i),ya.set(this,s._tree),s}get topNode(){return new Si(this,0,0,null)}resolve(e,i=0){let n=qr(ya.get(this)||this.topNode,e,i,!1);return ya.set(this,n),n}resolveInner(e,i=0){let n=qr(Fp.get(this)||this.topNode,e,i,!0);return Fp.set(this,n),n}iterate(e){let{enter:i,leave:n,from:r=0,to:s=this.length}=e,o=e.mode||0,a=(o&lt.IncludeAnonymous)>0;for(let l=this.cursor(o|lt.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=r&&(!a&&l.type.isAnonymous||i(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&n&&(a||!l.type.isAnonymous)&&n(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let i in this.props)e.push([+i,this.props[i]]);return e}balance(e={}){return this.children.length<=8?this:wf(Ut.none,this.children,this.positions,0,this.children.length,0,this.length,(i,n,r)=>new st(this.type,i,n,r,this.propValues),e.makeTree||((i,n,r)=>new st(Ut.none,i,n,r)))}static build(e){return iQ(e)}}st.empty=new st(Ut.none,[],[],0);class xf{constructor(e,i){this.buffer=e,this.index=i}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new xf(this.buffer,this.index)}}class Sr{constructor(e,i,n){this.buffer=e,this.length=i,this.set=n}get type(){return Ut.none}toString(){let e=[];for(let i=0;i<this.buffer.length;)e.push(this.childString(i)),i=this.buffer[i+3];return e.join(",")}childString(e){let i=this.buffer[e],n=this.buffer[e+3],r=this.set.types[i],s=r.name;if(/\W/.test(s)&&!r.isError&&(s=JSON.stringify(s)),e+=4,n==e)return s;let o=[];for(;e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,i,n,r,s){let{buffer:o}=this,a=-1;for(let l=e;l!=i&&!(b1(s,r,o[l+1],o[l+2])&&(a=l,n>0));l=o[l+3]);return a}slice(e,i,n){let r=this.buffer,s=new Uint16Array(i-e),o=0;for(let a=e,l=0;a<i;){s[l++]=r[a++],s[l++]=r[a++]-n;let c=s[l++]=r[a++]-n;s[l++]=r[a++]-e,o=Math.max(o,c)}return new Sr(s,o,this.set)}}function b1(t,e,i,n){switch(t){case-2:return i<e;case-1:return n>=e&&i<e;case 0:return i<e&&n>e;case 1:return i<=e&&n>e;case 2:return n>e;case 4:return!0}}function v1(t,e){let i=t.childBefore(e);for(;i;){let n=i.lastChild;if(!n||n.to!=i.to)break;n.type.isError&&n.from==n.to?(t=i,i=n.prevSibling):i=n}return t}function qr(t,e,i,n){for(var r;t.from==t.to||(i<1?t.from>=e:t.from>e)||(i>-1?t.to<=e:t.to<e);){let o=!n&&t instanceof Si&&t.index<0?null:t.parent;if(!o)return t;t=o}let s=n?0:lt.IgnoreOverlays;if(n)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof Si&&o.index<0&&((r=a.enter(e,i,s))===null||r===void 0?void 0:r.from)!=o.from&&(t=a);for(;;){let o=t.enter(e,i,s);if(!o)return t;t=o}}class Si{constructor(e,i,n,r){this._tree=e,this.from=i,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,i,n,r,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=i>0?a.length:-1;e!=c;e+=i){let h=a[e],u=l[e]+o.from;if(b1(r,n,u,u+h.length)){if(h instanceof Sr){if(s&lt.ExcludeBuffers)continue;let f=h.findChild(0,h.buffer.length,i,n-u,r);if(f>-1)return new Zi(new tQ(o,h,e,u),null,f)}else if(s&lt.IncludeAnonymous||!h.type.isAnonymous||Sf(h)){let f;if(!(s&lt.IgnoreMounts)&&h.props&&(f=h.prop(Se.mounted))&&!f.overlay)return new Si(f.tree,u,e,o);let d=new Si(h,u,e,o);return s&lt.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(i<0?h.children.length-1:0,i,n,r)}}}if(s&lt.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+i:e=i<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,i,n=0){let r;if(!(n&lt.IgnoreOverlays)&&(r=this._tree.prop(Se.mounted))&&r.overlay){let s=e-this.from;for(let{from:o,to:a}of r.overlay)if((i>0?o<=s:o<s)&&(i<0?a>=s:a>s))return new Si(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,i,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new Ol(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,i=0){return qr(this,e,i,!1)}resolveInner(e,i=0){return qr(this,e,i,!0)}enterUnfinishedNodesBefore(e){return v1(this,e)}getChild(e,i=null,n=null){let r=gl(this,e,i,n);return r.length?r[0]:null}getChildren(e,i=null,n=null){return gl(this,e,i,n)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return ml(this,e)}}function gl(t,e,i,n){let r=t.cursor(),s=[];if(!r.firstChild())return s;if(i!=null){for(;!r.type.is(i);)if(!r.nextSibling())return s}for(;;){if(n!=null&&r.type.is(n))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return n==null?s:[]}}function ml(t,e,i=e.length-1){for(let n=t.parent;i>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[i]&&e[i]!=n.name)return!1;i--}}return!0}class tQ{constructor(e,i,n,r){this.parent=e,this.buffer=i,this.index=n,this.start=r}}class Zi{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,i,n){this.context=e,this._parent=i,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,i,n){let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],e,i-this.context.start,n);return s<0?null:new Zi(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,i,n=0){if(n&lt.ExcludeBuffers)return null;let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],i>0?1:-1,e-this.context.start,i);return s<0?null:new Zi(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,i=e.buffer[this.index+3];return i<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Zi(this.context,this._parent,i):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,i=this._parent?this._parent.index+4:0;return this.index==i?this.externalSibling(-1):new Zi(this.context,this._parent,e.findChild(i,this.index,-1,0,4))}cursor(e=0){return new Ol(this,e)}get tree(){return null}toTree(){let e=[],i=[],{buffer:n}=this.context,r=this.index+4,s=n.buffer[this.index+3];if(s>r){let o=n.buffer[this.index+1];e.push(n.slice(r,s,o)),i.push(0)}return new st(this.type,e,i,this.to-this.from)}resolve(e,i=0){return qr(this,e,i,!1)}resolveInner(e,i=0){return qr(this,e,i,!0)}enterUnfinishedNodesBefore(e){return v1(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,i=null,n=null){let r=gl(this,e,i,n);return r.length?r[0]:null}getChildren(e,i=null,n=null){return gl(this,e,i,n)}get node(){return this}matchContext(e){return ml(this,e)}}class Ol{get name(){return this.type.name}constructor(e,i=0){if(this.mode=i,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Si)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,i){this.index=e;let{start:n,buffer:r}=this.buffer;return this.type=i||r.set.types[r.buffer[e]],this.from=n+r.buffer[e+1],this.to=n+r.buffer[e+2],!0}yield(e){return e?e instanceof Si?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,i,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,i,n,this.mode));let{buffer:r}=this.buffer,s=r.findChild(this.index+4,r.buffer[this.index+3],e,i-this.buffer.start,n);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,i,n=this.mode){return this.buffer?n&lt.ExcludeBuffers?!1:this.enterChild(1,e,i):this.yield(this._tree.enter(e,i,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&lt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&lt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:i}=this.buffer,n=this.stack.length-1;if(e<0){let r=n<0?0:this.stack[n]+4;if(this.index!=r)return this.yieldBuf(i.findChild(r,this.index,-1,0,4))}else{let r=i.buffer[this.index+3];if(r<(n<0?i.buffer.length:i.buffer[this.stack[n]+3]))return this.yieldBuf(r)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let i,n,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(r.buffer.buffer[s+3]<this.index)return!1;({index:i,parent:n}=r)}else({index:i,_parent:n}=this._tree);for(;n;{index:i,_parent:n}=n)if(i>-1)for(let s=i+e,o=e<0?-1:n._tree.children.length;s!=o;s+=e){let a=n._tree.children[s];if(this.mode&lt.IncludeAnonymous||a instanceof Sr||!a.type.isAnonymous||Sf(a))return!1}return!0}move(e,i){if(i&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,i=0){for(;(this.from==this.to||(i<1?this.from>=e:this.from>e)||(i>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,i););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,i=null,n=0;if(e&&e.context==this.buffer)e:for(let r=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;i=o,n=s+1;break e}r=this.stack[--s]}for(let r=n;r<this.stack.length;r++)i=new Zi(this.buffer,i,this.stack[r]);return this.bufferNode=new Zi(this.buffer,i,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,i){for(let n=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;r&&i&&i(this),r=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,r=!0}}}matchContext(e){if(!this.buffer)return ml(this.node,e);let{buffer:i}=this.buffer,{types:n}=i.set;for(let r=e.length-1,s=this.stack.length-1;r>=0;s--){if(s<0)return ml(this.node,e,r);let o=n[i.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}function Sf(t){return t.children.some(e=>e instanceof Sr||!e.type.isAnonymous||Sf(e))}function iQ(t){var e;let{buffer:i,nodeSet:n,maxBufferLength:r=O1,reused:s=[],minRepeatType:o=n.types.length}=t,a=Array.isArray(i)?new xf(i,i.length):i,l=n.types,c=0,h=0;function u(S,y,$,k,T){let{id:P,start:A,end:I,size:ie}=a,he=h;for(;ie<0;)if(a.next(),ie==-1){let oe=s[P];$.push(oe),k.push(A-S);return}else if(ie==-3){c=P;return}else if(ie==-4){h=P;return}else throw new RangeError(`Unrecognized record size: ${ie}`);let D=l[P],L,W,J=A-S;if(I-A<=r&&(W=g(a.pos-y,T))){let oe=new Uint16Array(W.size-W.skip),z=a.pos-W.size,ae=oe.length;for(;a.pos>z;)ae=m(W.start,oe,ae);L=new Sr(oe,I-W.start,n),J=W.start-S}else{let oe=a.pos-ie;a.next();let z=[],ae=[],ye=P>=o?P:-1,ne=0,U=I;for(;a.pos>oe;)ye>=0&&a.id==ye&&a.size>=0?(a.end<=U-r&&(d(z,ae,A,ne,a.end,U,ye,he),ne=z.length,U=a.end),a.next()):u(A,oe,z,ae,ye);if(ye>=0&&ne>0&&ne<z.length&&d(z,ae,A,ne,A,U,ye,he),z.reverse(),ae.reverse(),ye>-1&&ne>0){let N=f(D);L=wf(D,z,ae,0,z.length,0,I-A,N,N)}else L=p(D,z,ae,I-A,he-I)}$.push(L),k.push(J)}function f(S){return(y,$,k)=>{let T=0,P=y.length-1,A,I;if(P>=0&&(A=y[P])instanceof st){if(!P&&A.type==S&&A.length==k)return A;(I=A.prop(Se.lookAhead))&&(T=$[P]+A.length+I)}return p(S,y,$,k,T)}}function d(S,y,$,k,T,P,A,I){let ie=[],he=[];for(;S.length>k;)ie.push(S.pop()),he.push(y.pop()+$-T);S.push(p(n.types[A],ie,he,P-T,I-P)),y.push(T-$)}function p(S,y,$,k,T=0,P){if(c){let A=[Se.contextHash,c];P=P?[A].concat(P):[A]}if(T>25){let A=[Se.lookAhead,T];P=P?[A].concat(P):[A]}return new st(S,y,$,k,P)}function g(S,y){let $=a.fork(),k=0,T=0,P=0,A=$.end-r,I={size:0,start:0,skip:0};e:for(let ie=$.pos-S;$.pos>ie;){let he=$.size;if($.id==y&&he>=0){I.size=k,I.start=T,I.skip=P,P+=4,k+=4,$.next();continue}let D=$.pos-he;if(he<0||D<ie||$.start<A)break;let L=$.id>=o?4:0,W=$.start;for($.next();$.pos>D;){if($.size<0)if($.size==-3)L+=4;else break e;else $.id>=o&&(L+=4);$.next()}T=W,k+=he,P+=L}return(y<0||k==S)&&(I.size=k,I.start=T,I.skip=P),I.size>4?I:void 0}function m(S,y,$){let{id:k,start:T,end:P,size:A}=a;if(a.next(),A>=0&&k<o){let I=$;if(A>4){let ie=a.pos-(A-4);for(;a.pos>ie;)$=m(S,y,$)}y[--$]=I,y[--$]=P-S,y[--$]=T-S,y[--$]=k}else A==-3?c=k:A==-4&&(h=k);return $}let b=[],v=[];for(;a.pos>0;)u(t.start||0,t.bufferStart||0,b,v,-1);let x=(e=t.length)!==null&&e!==void 0?e:b.length?v[0]+b[0].length:0;return new st(l[t.topID],b.reverse(),v.reverse(),x)}const zp=new WeakMap;function Fa(t,e){if(!t.isAnonymous||e instanceof Sr||e.type!=t)return 1;let i=zp.get(e);if(i==null){i=1;for(let n of e.children){if(n.type!=t||!(n instanceof st)){i=1;break}i+=Fa(t,n)}zp.set(e,i)}return i}function wf(t,e,i,n,r,s,o,a,l){let c=0;for(let p=n;p<r;p++)c+=Fa(t,e[p]);let h=Math.ceil(c*1.5/8),u=[],f=[];function d(p,g,m,b,v){for(let x=m;x<b;){let S=x,y=g[x],$=Fa(t,p[x]);for(x++;x<b;x++){let k=Fa(t,p[x]);if($+k>=h)break;$+=k}if(x==S+1){if($>h){let k=p[S];d(k.children,k.positions,0,k.children.length,g[S]+v);continue}u.push(p[S])}else{let k=g[x-1]+p[x-1].length-y;u.push(wf(t,p,g,S,x,y,k,null,l))}f.push(y+v-s)}}return d(e,i,n,r,0),(a||l)(u,f,o)}class nQ{constructor(){this.map=new WeakMap}setBuffer(e,i,n){let r=this.map.get(e);r||this.map.set(e,r=new Map),r.set(i,n)}getBuffer(e,i){let n=this.map.get(e);return n&&n.get(i)}set(e,i){e instanceof Zi?this.setBuffer(e.context.buffer,e.index,i):e instanceof Si&&this.map.set(e.tree,i)}get(e){return e instanceof Zi?this.getBuffer(e.context.buffer,e.index):e instanceof Si?this.map.get(e.tree):void 0}cursorSet(e,i){e.buffer?this.setBuffer(e.buffer.buffer,e.index,i):this.map.set(e.tree,i)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class cr{constructor(e,i,n,r,s=!1,o=!1){this.from=e,this.to=i,this.tree=n,this.offset=r,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,i=[],n=!1){let r=[new cr(0,e.length,e,0,!1,n)];for(let s of i)s.to>e.length&&r.push(s);return r}static applyChanges(e,i,n=128){if(!i.length)return e;let r=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let h=a<i.length?i[a]:null,u=h?h.fromA:1e9;if(u-l>=n)for(;o&&o.from<u;){let f=o;if(l>=f.from||u<=f.to||c){let d=Math.max(f.from,l)-c,p=Math.min(f.to,u)-c;f=d>=p?null:new cr(d,p,f.tree,f.offset+c,a>0,!!h)}if(f&&r.push(f),o.to>u)break;o=s<e.length?e[s++]:null}if(!h)break;l=h.toA,c=h.toA-h.toB}return r}}let y1=class{startParse(e,i,n){return typeof e=="string"&&(e=new rQ(e)),n=n?n.length?n.map(r=>new Fc(r.from,r.to)):[new Fc(0,0)]:[new Fc(0,e.length)],this.createParse(e,i||[],n)}parse(e,i,n){let r=this.startParse(e,i,n);for(;;){let s=r.advance();if(s)return s}}};class rQ{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,i){return this.string.slice(e,i)}}new Se({perNode:!0});let sQ=0;class Qi{constructor(e,i,n){this.set=e,this.base=i,this.modified=n,this.id=sQ++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let i=new Qi([],null,[]);if(i.set.push(i),e)for(let n of e.set)i.set.push(n);return i}static defineModifier(){let e=new bl;return i=>i.modified.indexOf(e)>-1?i:bl.get(i.base||i,i.modified.concat(e).sort((n,r)=>n.id-r.id))}}let oQ=0;class bl{constructor(){this.instances=[],this.id=oQ++}static get(e,i){if(!i.length)return e;let n=i[0].instances.find(a=>a.base==e&&aQ(i,a.modified));if(n)return n;let r=[],s=new Qi(r,e,i);for(let a of i)a.instances.push(s);let o=lQ(i);for(let a of e.set)if(!a.modified.length)for(let l of o)r.push(bl.get(a,l));return s}}function aQ(t,e){return t.length==e.length&&t.every((i,n)=>i==e[n])}function lQ(t){let e=[[]];for(let i=0;i<t.length;i++)for(let n=0,r=e.length;n<r;n++)e.push(e[n].concat(t[i]));return e.sort((i,n)=>n.length-i.length)}function x1(t){let e=Object.create(null);for(let i in t){let n=t[i];Array.isArray(n)||(n=[n]);for(let r of i.split(" "))if(r){let s=[],o=2,a=r;for(let u=0;;){if(a=="..."&&u>0&&u+3==r.length){o=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!f)throw new RangeError("Invalid path: "+r);if(s.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),u+=f[0].length,u==r.length)break;let d=r[u++];if(u==r.length&&d=="!"){o=0;break}if(d!="/")throw new RangeError("Invalid path: "+r);a=r.slice(u)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+r);let h=new vl(n,o,l>0?s.slice(0,l):null);e[c]=h.sort(e[c])}}return S1.add(e)}const S1=new Se;class vl{constructor(e,i,n,r){this.tags=e,this.mode=i,this.context=n,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}vl.empty=new vl([],2,null);function w1(t,e){let i=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))i[s.tag.id]=s.class;else for(let o of s.tag)i[o.id]=s.class;let{scope:n,all:r=null}=e||{};return{style:s=>{let o=r;for(let a of s)for(let l of a.set){let c=i[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:n}}function cQ(t,e){let i=null;for(let n of t){let r=n.style(e);r&&(i=i?i+" "+r:r)}return i}function hQ(t,e,i,n=0,r=t.length){let s=new uQ(n,Array.isArray(e)?e:[e],i);s.highlightRange(t.cursor(),n,r,"",s.highlighters),s.flush(r)}class uQ{constructor(e,i,n){this.at=e,this.highlighters=i,this.span=n,this.class=""}startSpan(e,i){i!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=i)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,i,n,r,s){let{type:o,from:a,to:l}=e;if(a>=n||l<=i)return;o.isTop&&(s=this.highlighters.filter(d=>!d.scope||d.scope(o)));let c=r,h=fQ(e)||vl.empty,u=cQ(s,h.tags);if(u&&(c&&(c+=" "),c+=u,h.mode==1&&(r+=(r?" ":"")+u)),this.startSpan(Math.max(i,a),c),h.opaque)return;let f=e.tree&&e.tree.prop(Se.mounted);if(f&&f.overlay){let d=e.node.enter(f.overlay[0].from+a,1),p=this.highlighters.filter(m=>!m.scope||m.scope(f.tree.type)),g=e.firstChild();for(let m=0,b=a;;m++){let v=m<f.overlay.length?f.overlay[m]:null,x=v?v.from+a:l,S=Math.max(i,b),y=Math.min(n,x);if(S<y&&g)for(;e.from<y&&(this.highlightRange(e,S,y,r,s),this.startSpan(Math.min(y,e.to),c),!(e.to>=x||!e.nextSibling())););if(!v||x>n)break;b=v.to+a,b>i&&(this.highlightRange(d.cursor(),Math.max(i,v.from+a),Math.min(n,b),"",p),this.startSpan(Math.min(n,b),c))}g&&e.parent()}else if(e.firstChild()){f&&(r="");do if(!(e.to<=i)){if(e.from>=n)break;this.highlightRange(e,i,n,r,s),this.startSpan(Math.min(n,e.to),c)}while(e.nextSibling());e.parent()}}}function fQ(t){let e=t.type.prop(S1);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const Y=Qi.define,xa=Y(),kn=Y(),qp=Y(kn),Gp=Y(kn),Cn=Y(),Sa=Y(Cn),zc=Y(Cn),Ti=Y(),zn=Y(Ti),$i=Y(),_i=Y(),Ou=Y(),Qs=Y(Ou),wa=Y(),_={comment:xa,lineComment:Y(xa),blockComment:Y(xa),docComment:Y(xa),name:kn,variableName:Y(kn),typeName:qp,tagName:Y(qp),propertyName:Gp,attributeName:Y(Gp),className:Y(kn),labelName:Y(kn),namespace:Y(kn),macroName:Y(kn),literal:Cn,string:Sa,docString:Y(Sa),character:Y(Sa),attributeValue:Y(Sa),number:zc,integer:Y(zc),float:Y(zc),bool:Y(Cn),regexp:Y(Cn),escape:Y(Cn),color:Y(Cn),url:Y(Cn),keyword:$i,self:Y($i),null:Y($i),atom:Y($i),unit:Y($i),modifier:Y($i),operatorKeyword:Y($i),controlKeyword:Y($i),definitionKeyword:Y($i),moduleKeyword:Y($i),operator:_i,derefOperator:Y(_i),arithmeticOperator:Y(_i),logicOperator:Y(_i),bitwiseOperator:Y(_i),compareOperator:Y(_i),updateOperator:Y(_i),definitionOperator:Y(_i),typeOperator:Y(_i),controlOperator:Y(_i),punctuation:Ou,separator:Y(Ou),bracket:Qs,angleBracket:Y(Qs),squareBracket:Y(Qs),paren:Y(Qs),brace:Y(Qs),content:Ti,heading:zn,heading1:Y(zn),heading2:Y(zn),heading3:Y(zn),heading4:Y(zn),heading5:Y(zn),heading6:Y(zn),contentSeparator:Y(Ti),list:Y(Ti),quote:Y(Ti),emphasis:Y(Ti),strong:Y(Ti),link:Y(Ti),monospace:Y(Ti),strikethrough:Y(Ti),inserted:Y(),deleted:Y(),changed:Y(),invalid:Y(),meta:wa,documentMeta:Y(wa),annotation:Y(wa),processingInstruction:Y(wa),definition:Qi.defineModifier(),constant:Qi.defineModifier(),function:Qi.defineModifier(),standard:Qi.defineModifier(),local:Qi.defineModifier(),special:Qi.defineModifier()};w1([{tag:_.link,class:"tok-link"},{tag:_.heading,class:"tok-heading"},{tag:_.emphasis,class:"tok-emphasis"},{tag:_.strong,class:"tok-strong"},{tag:_.keyword,class:"tok-keyword"},{tag:_.atom,class:"tok-atom"},{tag:_.bool,class:"tok-bool"},{tag:_.url,class:"tok-url"},{tag:_.labelName,class:"tok-labelName"},{tag:_.inserted,class:"tok-inserted"},{tag:_.deleted,class:"tok-deleted"},{tag:_.literal,class:"tok-literal"},{tag:_.string,class:"tok-string"},{tag:_.number,class:"tok-number"},{tag:[_.regexp,_.escape,_.special(_.string)],class:"tok-string2"},{tag:_.variableName,class:"tok-variableName"},{tag:_.local(_.variableName),class:"tok-variableName tok-local"},{tag:_.definition(_.variableName),class:"tok-variableName tok-definition"},{tag:_.special(_.variableName),class:"tok-variableName2"},{tag:_.definition(_.propertyName),class:"tok-propertyName tok-definition"},{tag:_.typeName,class:"tok-typeName"},{tag:_.namespace,class:"tok-namespace"},{tag:_.className,class:"tok-className"},{tag:_.macroName,class:"tok-macroName"},{tag:_.propertyName,class:"tok-propertyName"},{tag:_.operator,class:"tok-operator"},{tag:_.comment,class:"tok-comment"},{tag:_.meta,class:"tok-meta"},{tag:_.invalid,class:"tok-invalid"},{tag:_.punctuation,class:"tok-punctuation"}]);var qc;const Mr=new Se;function k1(t){return K.define({combine:t?e=>e.concat(t):void 0})}const kf=new Se;class xi{constructor(e,i,n=[],r=""){this.data=e,this.name=r,Ce.prototype.hasOwnProperty("tree")||Object.defineProperty(Ce.prototype,"tree",{get(){return ut(this)}}),this.parser=i,this.extension=[Bn.of(this),Ce.languageData.of((s,o,a)=>{let l=Hp(s,o,a),c=l.type.prop(Mr);if(!c)return[];let h=s.facet(c),u=l.type.prop(kf);if(u){let f=l.resolve(o-l.from,a);for(let d of u)if(d.test(f,s)){let p=s.facet(d.facet);return d.type=="replace"?p:p.concat(h)}}return h})].concat(n)}isActiveAt(e,i,n=-1){return Hp(e,i,n).type.prop(Mr)==this.data}findRegions(e){let i=e.facet(Bn);if((i==null?void 0:i.data)==this.data)return[{from:0,to:e.doc.length}];if(!i||!i.allowsNesting)return[];let n=[],r=(s,o)=>{if(s.prop(Mr)==this.data){n.push({from:o,to:o+s.length});return}let a=s.prop(Se.mounted);if(a){if(a.tree.prop(Mr)==this.data){if(a.overlay)for(let l of a.overlay)n.push({from:l.from+o,to:l.to+o});else n.push({from:o,to:o+s.length});return}else if(a.overlay){let l=n.length;if(r(a.tree,a.overlay[0].from+o),n.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof st&&r(c,s.positions[l]+o)}};return r(ut(e),0),n}get allowsNesting(){return!0}}xi.setState=be.define();function Hp(t,e,i){let n=t.facet(Bn),r=ut(t).topNode;if(!n||n.allowsNesting)for(let s=r;s;s=s.enter(e,i,lt.ExcludeBuffers))s.type.isTop&&(r=s);return r}class yl extends xi{constructor(e,i,n){super(e,i,[],n),this.parser=i}static define(e){let i=k1(e.languageData);return new yl(i,e.parser.configure({props:[Mr.add(n=>n.isTop?i:void 0)]}),e.name)}configure(e,i){return new yl(this.data,this.parser.configure(e),i||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function ut(t){let e=t.field(xi.state,!1);return e?e.tree:st.empty}class dQ{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,i){let n=this.cursorPos-this.string.length;return e<n||i>=this.cursorPos?this.doc.sliceString(e,i):this.string.slice(e-n,i-n)}}let As=null;class xl{constructor(e,i,n=[],r,s,o,a,l){this.parser=e,this.state=i,this.fragments=n,this.tree=r,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,i,n){return new xl(e,i,[],st.empty,0,n,[],null)}startParse(){return this.parser.startParse(new dQ(this.state.doc),this.fragments)}work(e,i){return i!=null&&i>=this.state.doc.length&&(i=void 0),this.tree!=st.empty&&this.isDone(i??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),i!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>i)&&i<this.state.doc.length&&this.parse.stopAt(i);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(cr.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(i??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,i;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(i=this.parse.advance()););}),this.treeLen=e,this.tree=i,this.fragments=this.withoutTempSkipped(cr.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let i=As;As=this;try{return e()}finally{As=i}}withoutTempSkipped(e){for(let i;i=this.tempSkipped.pop();)e=Kp(e,i.from,i.to);return e}changes(e,i){let{fragments:n,tree:r,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,h,u,f)=>l.push({fromA:c,toA:h,fromB:u,toB:f})),n=cr.applyChanges(n,l),r=st.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let h=e.mapPos(c.from,1),u=e.mapPos(c.to,-1);h<u&&a.push({from:h,to:u})}}}return new xl(this.parser,i,n,r,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let i=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:r,to:s}=this.skipped[n];r<e.to&&s>e.from&&(this.fragments=Kp(this.fragments,r,s),this.skipped.splice(n--,1))}return this.skipped.length>=i?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,i){this.skipped.push({from:e,to:i})}static getSkippingParser(e){return new class extends y1{createParse(i,n,r){let s=r[0].from,o=r[r.length-1].to;return{parsedPos:s,advance(){let l=As;if(l){for(let c of r)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new st(Ut.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let i=this.fragments;return this.treeLen>=e&&i.length&&i[0].from==0&&i[0].to>=e}static get(){return As}}function Kp(t,e,i){return cr.applyChanges(t,[{fromA:e,toA:i,fromB:e,toB:i}])}class Gr{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let i=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),i.viewport.to);return i.work(20,n)||i.takeTree(),new Gr(i)}static init(e){let i=Math.min(3e3,e.doc.length),n=xl.create(e.facet(Bn).parser,e,{from:0,to:i});return n.work(20,i)||n.takeTree(),new Gr(n)}}xi.state=Ot.define({create:Gr.init,update(t,e){for(let i of e.effects)if(i.is(xi.setState))return i.value;return e.startState.facet(Bn)!=e.state.facet(Bn)?Gr.init(e.state):t.apply(e)}});let C1=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(C1=t=>{let e=-1,i=setTimeout(()=>{e=requestIdleCallback(t,{timeout:500-100})},100);return()=>e<0?clearTimeout(i):cancelIdleCallback(e)});const Gc=typeof navigator<"u"&&(!((qc=navigator.scheduling)===null||qc===void 0)&&qc.isInputPending)?()=>navigator.scheduling.isInputPending():null,pQ=ot.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let i=this.view.state.field(xi.state).context;(i.updateViewport(e.view.viewport)||this.view.viewport.to>i.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(i)}scheduleWork(){if(this.working)return;let{state:e}=this.view,i=e.field(xi.state);(i.tree!=i.context.tree||!i.context.isDone(e.doc.length))&&(this.working=C1(this.work))}work(e){this.working=null;let i=Date.now();if(this.chunkEnd<i&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=i+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,s=n.field(xi.state);if(s.tree==s.context.tree&&s.context.isDone(r+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Gc?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<r&&n.doc.length>r+1e3,l=s.context.work(()=>Gc&&Gc()||Date.now()>o,r+(a?0:1e5));this.chunkBudget-=Date.now()-i,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:xi.setState.of(new Gr(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(i=>pi(this.view.state,i)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Bn=K.define({combine(t){return t.length?t[0]:null},enables:t=>[xi.state,pQ,F.contentAttributes.compute([t],e=>{let i=e.facet(t);return i&&i.name?{"data-language":i.name}:{}})]});class gQ{constructor(e,i=[]){this.language=e,this.support=i,this.extension=[e,i]}}const mQ=K.define(),Vo=K.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(i=>i!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Sl(t){let e=t.facet(Vo);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function vo(t,e){let i="",n=t.tabSize,r=t.facet(Vo)[0];if(r=="	"){for(;e>=n;)i+="	",e-=n;r=" "}for(let s=0;s<e;s++)i+=r;return i}function Cf(t,e){t instanceof Ce&&(t=new cc(t));for(let n of t.state.facet(mQ)){let r=n(t,e);if(r!==void 0)return r}let i=ut(t.state);return i.length>=e?OQ(t,i,e):null}class cc{constructor(e,i={}){this.state=e,this.options=i,this.unit=Sl(e)}lineAt(e,i=1){let n=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:s}=this.options;return r!=null&&r>=n.from&&r<=n.to?s&&r==e?{text:"",from:e}:(i<0?r<e:r<=e)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}textAfterPos(e,i=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:r}=this.lineAt(e,i);return n.slice(e-r,Math.min(n.length,e+100-r))}column(e,i=1){let{text:n,from:r}=this.lineAt(e,i),s=this.countColumn(n,e-r),o=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return o>-1&&(s+=o-this.countColumn(n,n.search(/\S|$/))),s}countColumn(e,i=e.length){return ds(e,this.state.tabSize,i)}lineIndent(e,i=1){let{text:n,from:r}=this.lineAt(e,i),s=this.options.overrideIndentation;if(s){let o=s(r);if(o>-1)return o}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const $1=new Se;function OQ(t,e,i){return _1(e.resolveInner(i).enterUnfinishedNodesBefore(i),i,t)}function bQ(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function vQ(t){let e=t.type.prop($1);if(e)return e;let i=t.firstChild,n;if(i&&(n=i.type.prop(Se.closedBy))){let r=t.lastChild,s=r&&n.indexOf(r.name)>-1;return o=>P1(o,!0,1,void 0,s&&!bQ(o)?r.from:void 0)}return t.parent==null?yQ:null}function _1(t,e,i){for(;t;t=t.parent){let n=vQ(t);if(n)return n($f.create(i,e,t))}return null}function yQ(){return 0}class $f extends cc{constructor(e,i,n){super(e.state,e.options),this.base=e,this.pos=i,this.node=n}static create(e,i,n){return new $f(e,i,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let i=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(i.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(xQ(n,e))break;i=this.state.doc.lineAt(n.from)}return this.lineIndent(i.from)}continue(){let e=this.node.parent;return e?_1(e,this.pos,this.base):0}}function xQ(t,e){for(let i=e;i;i=i.parent)if(t==i)return!0;return!1}function SQ(t){let e=t.node,i=e.childAfter(e.from),n=e.lastChild;if(!i)return null;let r=t.options.simulateBreak,s=t.state.doc.lineAt(i.from),o=r==null||r<=s.from?s.to:Math.min(s.to,r);for(let a=i.to;;){let l=e.childAfter(a);if(!l||l==n)return null;if(!l.type.isSkipped)return l.from<o?i:null;a=l.to}}function wQ({closing:t,align:e=!0,units:i=1}){return n=>P1(n,e,i,t)}function P1(t,e,i,n,r){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=n&&s.slice(o,o+n.length)==n||r==t.pos+o,l=e?SQ(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*i)}const kQ=t=>t.baseIndent;function Hc({except:t,units:e=1}={}){return i=>{let n=t&&t.test(i.textAfter);return i.baseIndent+(n?0:e*i.unit)}}const CQ=200;function $Q(){return Ce.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let i=t.newDoc,{head:n}=t.newSelection.main,r=i.lineAt(n);if(n>r.from+CQ)return t;let s=i.sliceString(r.from,n);if(!e.some(c=>c.test(s)))return t;let{state:o}=t,a=-1,l=[];for(let{head:c}of o.selection.ranges){let h=o.doc.lineAt(c);if(h.from==a)continue;a=h.from;let u=Cf(o,h.from);if(u==null)continue;let f=/^\s*/.exec(h.text)[0],d=vo(o,u);f!=d&&l.push({from:h.from,to:h.from+f.length,insert:d})}return l.length?[t,{changes:l,sequential:!0}]:t})}const _Q=K.define(),T1=new Se;function PQ(t){let e=t.firstChild,i=t.lastChild;return e&&e.to<i.from?{from:e.to,to:i.type.isError?t.to:i.from}:null}function TQ(t,e,i){let n=ut(t);if(n.length<i)return null;let r=n.resolveInner(i,1),s=null;for(let o=r;o;o=o.parent){if(o.to<=i||o.from>i)continue;if(s&&o.from<e)break;let a=o.type.prop(T1);if(a&&(o.to<n.length-50||n.length==t.doc.length||!QQ(o))){let l=a(o,t);l&&l.from<=i&&l.from>=e&&l.to>i&&(s=l)}}return s}function QQ(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function wl(t,e,i){for(let n of t.facet(_Q)){let r=n(t,e,i);if(r)return r}return TQ(t,e,i)}function Q1(t,e){let i=e.mapPos(t.from,1),n=e.mapPos(t.to,-1);return i>=n?void 0:{from:i,to:n}}const hc=be.define({map:Q1}),Xo=be.define({map:Q1});function A1(t){let e=[];for(let{head:i}of t.state.selection.ranges)e.some(n=>n.from<=i&&n.to>=i)||e.push(t.lineBlockAt(i));return e}const dr=Ot.define({create(){return fe.none},update(t,e){t=t.map(e.changes);for(let i of e.effects)if(i.is(hc)&&!AQ(t,i.value.from,i.value.to)){let{preparePlaceholder:n}=e.state.facet(_f),r=n?fe.replace({widget:new LQ(n(e.state,i.value))}):Jp;t=t.update({add:[r.range(i.value.from,i.value.to)]})}else i.is(Xo)&&(t=t.update({filter:(n,r)=>i.value.from!=n||i.value.to!=r,filterFrom:i.value.from,filterTo:i.value.to}));if(e.selection){let i=!1,{head:n}=e.selection.main;t.between(n,n,(r,s)=>{r<n&&s>n&&(i=!0)}),i&&(t=t.update({filterFrom:n,filterTo:n,filter:(r,s)=>s<=n||r>=n}))}return t},provide:t=>F.decorations.from(t),toJSON(t,e){let i=[];return t.between(0,e.doc.length,(n,r)=>{i.push(n,r)}),i},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let i=0;i<t.length;){let n=t[i++],r=t[i++];if(typeof n!="number"||typeof r!="number")throw new RangeError("Invalid JSON for fold state");e.push(Jp.range(n,r))}return fe.set(e,!0)}});function kl(t,e,i){var n;let r=null;return(n=t.field(dr,!1))===null||n===void 0||n.between(e,i,(s,o)=>{(!r||r.from>s)&&(r={from:s,to:o})}),r}function AQ(t,e,i){let n=!1;return t.between(e,e,(r,s)=>{r==e&&s==i&&(n=!0)}),n}function E1(t,e){return t.field(dr,!1)?e:e.concat(be.appendConfig.of(I1()))}const EQ=t=>{for(let e of A1(t)){let i=wl(t.state,e.from,e.to);if(i)return t.dispatch({effects:E1(t.state,[hc.of(i),R1(t,i)])}),!0}return!1},RQ=t=>{if(!t.state.field(dr,!1))return!1;let e=[];for(let i of A1(t)){let n=kl(t.state,i.from,i.to);n&&e.push(Xo.of(n),R1(t,n,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function R1(t,e,i=!0){let n=t.state.doc.lineAt(e.from).number,r=t.state.doc.lineAt(e.to).number;return F.announce.of(`${t.state.phrase(i?"Folded lines":"Unfolded lines")} ${n} ${t.state.phrase("to")} ${r}.`)}const IQ=t=>{let{state:e}=t,i=[];for(let n=0;n<e.doc.length;){let r=t.lineBlockAt(n),s=wl(e,r.from,r.to);s&&i.push(hc.of(s)),n=(s?t.lineBlockAt(s.to):r).to+1}return i.length&&t.dispatch({effects:E1(t.state,i)}),!!i.length},ZQ=t=>{let e=t.state.field(dr,!1);if(!e||!e.size)return!1;let i=[];return e.between(0,t.state.doc.length,(n,r)=>{i.push(Xo.of({from:n,to:r}))}),t.dispatch({effects:i}),!0},MQ=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:EQ},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:RQ},{key:"Ctrl-Alt-[",run:IQ},{key:"Ctrl-Alt-]",run:ZQ}],DQ={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},_f=K.define({combine(t){return Vi(t,DQ)}});function I1(t){let e=[dr,YQ];return t&&e.push(_f.of(t)),e}function Z1(t,e){let{state:i}=t,n=i.facet(_f),r=o=>{let a=t.lineBlockAt(t.posAtDOM(o.target)),l=kl(t.state,a.from,a.to);l&&t.dispatch({effects:Xo.of(l)}),o.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(t,r,e);let s=document.createElement("span");return s.textContent=n.placeholderText,s.setAttribute("aria-label",i.phrase("folded code")),s.title=i.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=r,s}const Jp=fe.replace({widget:new class extends Xi{toDOM(t){return Z1(t,null)}}});class LQ extends Xi{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return Z1(e,this.value)}}const jQ={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Kc extends ln{constructor(e,i){super(),this.config=e,this.open=i}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let i=document.createElement("span");return i.textContent=this.open?this.config.openText:this.config.closedText,i.title=e.state.phrase(this.open?"Fold line":"Unfold line"),i}}function NQ(t={}){let e=Object.assign(Object.assign({},jQ),t),i=new Kc(e,!0),n=new Kc(e,!1),r=ot.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Bn)!=o.state.facet(Bn)||o.startState.field(dr,!1)!=o.state.field(dr,!1)||ut(o.startState)!=ut(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new Dn;for(let l of o.viewportLineBlocks){let c=kl(o.state,l.from,l.to)?n:wl(o.state,l.from,l.to)?i:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:s}=e;return[r,VT({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(r))===null||a===void 0?void 0:a.markers)||Ee.empty},initialSpacer(){return new Kc(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let c=kl(o.state,a.from,a.to);if(c)return o.dispatch({effects:Xo.of(c)}),!0;let h=wl(o.state,a.from,a.to);return h?(o.dispatch({effects:hc.of(h)}),!0):!1}})}),I1()]}const YQ=F.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class uc{constructor(e,i){this.specs=e;let n;function r(a){let l=Ln.newName();return(n||(n=Object.create(null)))["."+l]=a,l}const s=typeof i.all=="string"?i.all:i.all?r(i.all):void 0,o=i.scope;this.scope=o instanceof xi?a=>a.prop(Mr)==o.data:o?a=>a==o:void 0,this.style=w1(e.map(a=>({tag:a.tag,class:a.class||r(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=n?new Ln(n):null,this.themeType=i.themeType}static define(e,i){return new uc(e,i||{})}}const bu=K.define(),M1=K.define({combine(t){return t.length?[t[0]]:null}});function Jc(t){let e=t.facet(bu);return e.length?e:t.facet(M1)}function BQ(t,e){let i=[XQ],n;return t instanceof uc&&(t.module&&i.push(F.styleModule.of(t.module)),n=t.themeType),e!=null&&e.fallback?i.push(M1.of(t)):n?i.push(bu.computeN([F.darkTheme],r=>r.facet(F.darkTheme)==(n=="dark")?[t]:[])):i.push(bu.of(t)),i}class VQ{constructor(e){this.markCache=Object.create(null),this.tree=ut(e.state),this.decorations=this.buildDeco(e,Jc(e.state))}update(e){let i=ut(e.state),n=Jc(e.state),r=n!=Jc(e.startState);i.length<e.view.viewport.to&&!r&&i.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(i!=this.tree||e.viewportChanged||r)&&(this.tree=i,this.decorations=this.buildDeco(e.view,n))}buildDeco(e,i){if(!i||!this.tree.length)return fe.none;let n=new Dn;for(let{from:r,to:s}of e.visibleRanges)hQ(this.tree,i,(o,a,l)=>{n.add(o,a,this.markCache[l]||(this.markCache[l]=fe.mark({class:l})))},r,s);return n.finish()}}const XQ=xr.high(ot.fromClass(VQ,{decorations:t=>t.decorations})),WQ=uc.define([{tag:_.meta,color:"#404740"},{tag:_.link,textDecoration:"underline"},{tag:_.heading,textDecoration:"underline",fontWeight:"bold"},{tag:_.emphasis,fontStyle:"italic"},{tag:_.strong,fontWeight:"bold"},{tag:_.strikethrough,textDecoration:"line-through"},{tag:_.keyword,color:"#708"},{tag:[_.atom,_.bool,_.url,_.contentSeparator,_.labelName],color:"#219"},{tag:[_.literal,_.inserted],color:"#164"},{tag:[_.string,_.deleted],color:"#a11"},{tag:[_.regexp,_.escape,_.special(_.string)],color:"#e40"},{tag:_.definition(_.variableName),color:"#00f"},{tag:_.local(_.variableName),color:"#30a"},{tag:[_.typeName,_.namespace],color:"#085"},{tag:_.className,color:"#167"},{tag:[_.special(_.variableName),_.macroName],color:"#256"},{tag:_.definition(_.propertyName),color:"#00c"},{tag:_.comment,color:"#940"},{tag:_.invalid,color:"#f00"}]),UQ=F.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),D1=1e4,L1="()[]{}",j1=K.define({combine(t){return Vi(t,{afterCursor:!0,brackets:L1,maxScanDistance:D1,renderMatch:qQ})}}),FQ=fe.mark({class:"cm-matchingBracket"}),zQ=fe.mark({class:"cm-nonmatchingBracket"});function qQ(t){let e=[],i=t.matched?FQ:zQ;return e.push(i.range(t.start.from,t.start.to)),t.end&&e.push(i.range(t.end.from,t.end.to)),e}const GQ=Ot.define({create(){return fe.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let i=[],n=e.state.facet(j1);for(let r of e.state.selection.ranges){if(!r.empty)continue;let s=Mi(e.state,r.head,-1,n)||r.head>0&&Mi(e.state,r.head-1,1,n)||n.afterCursor&&(Mi(e.state,r.head,1,n)||r.head<e.state.doc.length&&Mi(e.state,r.head+1,-1,n));s&&(i=i.concat(n.renderMatch(s,e.state)))}return fe.set(i,!0)},provide:t=>F.decorations.from(t)}),HQ=[GQ,UQ];function KQ(t={}){return[j1.of(t),HQ]}const JQ=new Se;function vu(t,e,i){let n=t.prop(e<0?Se.openedBy:Se.closedBy);if(n)return n;if(t.name.length==1){let r=i.indexOf(t.name);if(r>-1&&r%2==(e<0?1:0))return[i[r+e]]}return null}function yu(t){let e=t.type.prop(JQ);return e?e(t.node):t}function Mi(t,e,i,n={}){let r=n.maxScanDistance||D1,s=n.brackets||L1,o=ut(t),a=o.resolveInner(e,i);for(let l=a;l;l=l.parent){let c=vu(l.type,i,s);if(c&&l.from<l.to){let h=yu(l);if(h&&(i>0?e>=h.from&&e<h.to:e>h.from&&e<=h.to))return eA(t,e,i,l,h,c,s)}}return tA(t,e,i,o,a.type,r,s)}function eA(t,e,i,n,r,s,o){let a=n.parent,l={from:r.from,to:r.to},c=0,h=a==null?void 0:a.cursor();if(h&&(i<0?h.childBefore(n.from):h.childAfter(n.to)))do if(i<0?h.to<=n.from:h.from>=n.to){if(c==0&&s.indexOf(h.type.name)>-1&&h.from<h.to){let u=yu(h);return{start:l,end:u?{from:u.from,to:u.to}:void 0,matched:!0}}else if(vu(h.type,i,o))c++;else if(vu(h.type,-i,o)){if(c==0){let u=yu(h);return{start:l,end:u&&u.from<u.to?{from:u.from,to:u.to}:void 0,matched:!1}}c--}}while(i<0?h.prevSibling():h.nextSibling());return{start:l,matched:!1}}function tA(t,e,i,n,r,s,o){let a=i<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=i>0)return null;let c={from:i<0?e-1:e,to:i>0?e+1:e},h=t.doc.iterRange(e,i>0?t.doc.length:0),u=0;for(let f=0;!h.next().done&&f<=s;){let d=h.value;i<0&&(f+=d.length);let p=e+f*i;for(let g=i>0?0:d.length-1,m=i>0?d.length:-1;g!=m;g+=i){let b=o.indexOf(d[g]);if(!(b<0||n.resolveInner(p+g,1).type!=r))if(b%2==0==i>0)u++;else{if(u==1)return{start:c,end:{from:p+g,to:p+g+1},matched:b>>1==l>>1};u--}}i>0&&(f+=d.length)}return h.done?{start:c,matched:!1}:null}const iA=Object.create(null),eg=[Ut.none],tg=[],nA=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])nA[t]=rA(iA,e);function eh(t,e){tg.indexOf(t)>-1||(tg.push(t),console.warn(e))}function rA(t,e){let i=null;for(let s of e.split(".")){let o=t[s]||_[s];o?typeof o=="function"?i?i=o(i):eh(s,`Modifier ${s} used at start of tag`):i?eh(s,`Tag ${s} used as modifier`):i=o:eh(s,`Unknown highlighting tag ${s}`)}if(!i)return 0;let n=e.replace(/ /g,"_"),r=Ut.define({id:eg.length,name:n,props:[x1({[n]:i})]});return eg.push(r),r.id}const sA=t=>{let{state:e}=t,i=e.doc.lineAt(e.selection.main.from),n=Tf(t.state,i.from);return n.line?oA(t):n.block?lA(t):!1};function Pf(t,e){return({state:i,dispatch:n})=>{if(i.readOnly)return!1;let r=t(e,i);return r?(n(i.update(r)),!0):!1}}const oA=Pf(uA,0),aA=Pf(N1,0),lA=Pf((t,e)=>N1(t,e,hA(e)),0);function Tf(t,e){let i=t.languageDataAt("commentTokens",e);return i.length?i[0]:{}}const Es=50;function cA(t,{open:e,close:i},n,r){let s=t.sliceDoc(n-Es,n),o=t.sliceDoc(r,r+Es),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,c=s.length-a;if(s.slice(c-e.length,c)==e&&o.slice(l,l+i.length)==i)return{open:{pos:n-a,margin:a&&1},close:{pos:r+l,margin:l&&1}};let h,u;r-n<=2*Es?h=u=t.sliceDoc(n,r):(h=t.sliceDoc(n,n+Es),u=t.sliceDoc(r-Es,r));let f=/^\s*/.exec(h)[0].length,d=/\s*$/.exec(u)[0].length,p=u.length-d-i.length;return h.slice(f,f+e.length)==e&&u.slice(p,p+i.length)==i?{open:{pos:n+f+e.length,margin:/\s/.test(h.charAt(f+e.length))?1:0},close:{pos:r-d-i.length,margin:/\s/.test(u.charAt(p-1))?1:0}}:null}function hA(t){let e=[];for(let i of t.selection.ranges){let n=t.doc.lineAt(i.from),r=i.to<=n.to?n:t.doc.lineAt(i.to),s=e.length-1;s>=0&&e[s].to>n.from?e[s].to=r.to:e.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:r.to})}return e}function N1(t,e,i=e.selection.ranges){let n=i.map(s=>Tf(e,s.from).block);if(!n.every(s=>s))return null;let r=i.map((s,o)=>cA(e,n[o],s.from,s.to));if(t!=2&&!r.every(s=>s))return{changes:e.changes(i.map((s,o)=>r[o]?[]:[{from:s.from,insert:n[o].open+" "},{from:s.to,insert:" "+n[o].close}]))};if(t!=1&&r.some(s=>s)){let s=[];for(let o=0,a;o<r.length;o++)if(a=r[o]){let l=n[o],{open:c,close:h}=a;s.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:h.pos-h.margin,to:h.pos+l.close.length})}return{changes:s}}return null}function uA(t,e,i=e.selection.ranges){let n=[],r=-1;for(let{from:s,to:o}of i){let a=n.length,l=1e9,c=Tf(e,s).line;if(c){for(let h=s;h<=o;){let u=e.doc.lineAt(h);if(u.from>r&&(s==o||o>u.from)){r=u.from;let f=/^\s*/.exec(u.text)[0].length,d=f==u.length,p=u.text.slice(f,f+c.length)==c?f:-1;f<u.text.length&&f<l&&(l=f),n.push({line:u,comment:p,token:c,indent:f,empty:d,single:!1})}h=u.to+1}if(l<1e9)for(let h=a;h<n.length;h++)n[h].indent<n[h].line.text.length&&(n[h].indent=l);n.length==a+1&&(n[a].single=!0)}}if(t!=2&&n.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:c,empty:h,single:u}of n)(u||!h)&&s.push({from:a.from+c,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&n.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of n)if(a>=0){let c=o.from+a,h=c+l.length;o.text[h-o.from]==" "&&h++,s.push({from:c,to:h})}return{changes:s}}return null}const xu=pn.define(),fA=pn.define(),dA=K.define(),Y1=K.define({combine(t){return Vi(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,i)=>i},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,i)=>(n,r)=>e(n,r)||i(n,r)})}});function pA(t){let e=0;return t.iterChangedRanges((i,n)=>e=n),e}const B1=Ot.define({create(){return Di.empty},update(t,e){let i=e.state.facet(Y1),n=e.annotation(xu);if(n){let l=e.docChanged?Q.single(pA(e.changes)):void 0,c=Vt.fromTransaction(e,l),h=n.side,u=h==0?t.undone:t.done;return c?u=Cl(u,u.length,i.minDepth,c):u=W1(u,e.startState.selection),new Di(h==0?n.rest:u,h==0?u:n.rest)}let r=e.annotation(fA);if((r=="full"||r=="before")&&(t=t.isolate()),e.annotation(Wt.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=Vt.fromTransaction(e),o=e.annotation(Wt.time),a=e.annotation(Wt.userEvent);return s?t=t.addChanges(s,o,a,i,e):e.selection&&(t=t.addSelection(e.startState.selection,o,a,i.newGroupDelay)),(r=="full"||r=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Di(t.done.map(Vt.fromJSON),t.undone.map(Vt.fromJSON))}});function gA(t={}){return[B1,Y1.of(t),F.domEventHandlers({beforeinput(e,i){let n=e.inputType=="historyUndo"?V1:e.inputType=="historyRedo"?Su:null;return n?(e.preventDefault(),n(i)):!1}})]}function fc(t,e){return function({state:i,dispatch:n}){if(!e&&i.readOnly)return!1;let r=i.field(B1,!1);if(!r)return!1;let s=r.pop(t,i,e);return s?(n(s),!0):!1}}const V1=fc(0,!1),Su=fc(1,!1),mA=fc(0,!0),OA=fc(1,!0);class Vt{constructor(e,i,n,r,s){this.changes=e,this.effects=i,this.mapped=n,this.startSelection=r,this.selectionsAfter=s}setSelAfter(e){return new Vt(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,i,n;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(i=this.mapped)===null||i===void 0?void 0:i.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(e){return new Vt(e.changes&&at.fromJSON(e.changes),[],e.mapped&&Li.fromJSON(e.mapped),e.startSelection&&Q.fromJSON(e.startSelection),e.selectionsAfter.map(Q.fromJSON))}static fromTransaction(e,i){let n=di;for(let r of e.startState.facet(dA)){let s=r(e);s.length&&(n=n.concat(s))}return!n.length&&e.changes.empty?null:new Vt(e.changes.invert(e.startState.doc),n,void 0,i||e.startState.selection,di)}static selection(e){return new Vt(void 0,di,void 0,void 0,e)}}function Cl(t,e,i,n){let r=e+1>i+20?e-i-1:0,s=t.slice(r,e);return s.push(n),s}function bA(t,e){let i=[],n=!1;return t.iterChangedRanges((r,s)=>i.push(r,s)),e.iterChangedRanges((r,s,o,a)=>{for(let l=0;l<i.length;){let c=i[l++],h=i[l++];a>=c&&o<=h&&(n=!0)}}),n}function vA(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((i,n)=>i.empty!=e.ranges[n].empty).length===0}function X1(t,e){return t.length?e.length?t.concat(e):t:e}const di=[],yA=200;function W1(t,e){if(t.length){let i=t[t.length-1],n=i.selectionsAfter.slice(Math.max(0,i.selectionsAfter.length-yA));return n.length&&n[n.length-1].eq(e)?t:(n.push(e),Cl(t,t.length-1,1e9,i.setSelAfter(n)))}else return[Vt.selection([e])]}function xA(t){let e=t[t.length-1],i=t.slice();return i[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),i}function th(t,e){if(!t.length)return t;let i=t.length,n=di;for(;i;){let r=SA(t[i-1],e,n);if(r.changes&&!r.changes.empty||r.effects.length){let s=t.slice(0,i);return s[i-1]=r,s}else e=r.mapped,i--,n=r.selectionsAfter}return n.length?[Vt.selection(n)]:di}function SA(t,e,i){let n=X1(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):di,i);if(!t.changes)return Vt.selection(n);let r=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new Vt(r,be.mapEffects(t.effects,e),o,t.startSelection.map(s),n)}const wA=/^(input\.type|delete)($|\.)/;class Di{constructor(e,i,n=0,r=void 0){this.done=e,this.undone=i,this.prevTime=n,this.prevUserEvent=r}isolate(){return this.prevTime?new Di(this.done,this.undone):this}addChanges(e,i,n,r,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!n||wA.test(n))&&(!a.selectionsAfter.length&&i-this.prevTime<r.newGroupDelay&&r.joinToEvent(s,bA(a.changes,e.changes))||n=="input.type.compose")?o=Cl(o,o.length-1,r.minDepth,new Vt(e.changes.compose(a.changes),X1(e.effects,a.effects),a.mapped,a.startSelection,di)):o=Cl(o,o.length,r.minDepth,e),new Di(o,di,i,n)}addSelection(e,i,n,r){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:di;return s.length>0&&i-this.prevTime<r&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&vA(s[s.length-1],e)?this:new Di(W1(this.done,e),this.undone,i,n)}addMapping(e){return new Di(th(this.done,e),th(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,i,n){let r=e==0?this.done:this.undone;if(r.length==0)return null;let s=r[r.length-1];if(n&&s.selectionsAfter.length)return i.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:xu.of({side:e,rest:xA(r)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let o=r.length==1?di:r.slice(0,r.length-1);return s.mapped&&(o=th(o,s.mapped)),i.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:xu.of({side:e,rest:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Di.empty=new Di(di,di);const kA=[{key:"Mod-z",run:V1,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Su,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Su,preventDefault:!0},{key:"Mod-u",run:mA,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:OA,preventDefault:!0}];function ps(t,e){return Q.create(t.ranges.map(e),t.mainIndex)}function Wi(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function ki({state:t,dispatch:e},i){let n=ps(t.selection,i);return n.eq(t.selection)?!1:(e(Wi(t,n)),!0)}function dc(t,e){return Q.cursor(e?t.to:t.from)}function U1(t,e){return ki(t,i=>i.empty?t.moveByChar(i,e):dc(i,e))}function Qt(t){return t.textDirectionAt(t.state.selection.main.head)==qe.LTR}const F1=t=>U1(t,!Qt(t)),z1=t=>U1(t,Qt(t));function q1(t,e){return ki(t,i=>i.empty?t.moveByGroup(i,e):dc(i,e))}const CA=t=>q1(t,!Qt(t)),$A=t=>q1(t,Qt(t));function _A(t,e,i){if(e.type.prop(i))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function pc(t,e,i){let n=ut(t).resolveInner(e.head),r=i?Se.closedBy:Se.openedBy;for(let l=e.head;;){let c=i?n.childAfter(l):n.childBefore(l);if(!c)break;_A(t,c,r)?n=c:l=i?c.to:c.from}let s=n.type.prop(r),o,a;return s&&(o=i?Mi(t,n.from,1):Mi(t,n.to,-1))&&o.matched?a=i?o.end.to:o.end.from:a=i?n.to:n.from,Q.cursor(a,i?-1:1)}const PA=t=>ki(t,e=>pc(t.state,e,!Qt(t))),TA=t=>ki(t,e=>pc(t.state,e,Qt(t)));function G1(t,e){return ki(t,i=>{if(!i.empty)return dc(i,e);let n=t.moveVertically(i,e);return n.head!=i.head?n:t.moveToLineBoundary(i,e)})}const H1=t=>G1(t,!1),K1=t=>G1(t,!0);function J1(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,i=0,n=0,r;if(e){for(let s of t.state.facet(F.scrollMargins)){let o=s(t);o!=null&&o.top&&(i=Math.max(o==null?void 0:o.top,i)),o!=null&&o.bottom&&(n=Math.max(o==null?void 0:o.bottom,n))}r=t.scrollDOM.clientHeight-i-n}else r=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:i,marginBottom:n,selfScroll:e,height:Math.max(t.defaultLineHeight,r-5)}}function eb(t,e){let i=J1(t),{state:n}=t,r=ps(n.selection,o=>o.empty?t.moveVertically(o,e,i.height):dc(o,e));if(r.eq(n.selection))return!1;let s;if(i.selfScroll){let o=t.coordsAtPos(n.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+i.marginTop,c=a.bottom-i.marginBottom;o&&o.top>l&&o.bottom<c&&(s=F.scrollIntoView(r.main.head,{y:"start",yMargin:o.top-l}))}return t.dispatch(Wi(n,r),{effects:s}),!0}const ig=t=>eb(t,!1),wu=t=>eb(t,!0);function Wn(t,e,i){let n=t.lineBlockAt(e.head),r=t.moveToLineBoundary(e,i);if(r.head==e.head&&r.head!=(i?n.to:n.from)&&(r=t.moveToLineBoundary(e,i,!1)),!i&&r.head==n.from&&n.length){let s=/^\s*/.exec(t.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;s&&e.head!=n.from+s&&(r=Q.cursor(n.from+s))}return r}const QA=t=>ki(t,e=>Wn(t,e,!0)),AA=t=>ki(t,e=>Wn(t,e,!1)),EA=t=>ki(t,e=>Wn(t,e,!Qt(t))),RA=t=>ki(t,e=>Wn(t,e,Qt(t))),IA=t=>ki(t,e=>Q.cursor(t.lineBlockAt(e.head).from,1)),ZA=t=>ki(t,e=>Q.cursor(t.lineBlockAt(e.head).to,-1));function MA(t,e,i){let n=!1,r=ps(t.selection,s=>{let o=Mi(t,s.head,-1)||Mi(t,s.head,1)||s.head>0&&Mi(t,s.head-1,1)||s.head<t.doc.length&&Mi(t,s.head+1,-1);if(!o||!o.end)return s;n=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return i?Q.range(s.anchor,a):Q.cursor(a)});return n?(e(Wi(t,r)),!0):!1}const DA=({state:t,dispatch:e})=>MA(t,e,!1);function mi(t,e){let i=ps(t.state.selection,n=>{let r=e(n);return Q.range(n.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return i.eq(t.state.selection)?!1:(t.dispatch(Wi(t.state,i)),!0)}function tb(t,e){return mi(t,i=>t.moveByChar(i,e))}const ib=t=>tb(t,!Qt(t)),nb=t=>tb(t,Qt(t));function rb(t,e){return mi(t,i=>t.moveByGroup(i,e))}const LA=t=>rb(t,!Qt(t)),jA=t=>rb(t,Qt(t)),NA=t=>mi(t,e=>pc(t.state,e,!Qt(t))),YA=t=>mi(t,e=>pc(t.state,e,Qt(t)));function sb(t,e){return mi(t,i=>t.moveVertically(i,e))}const ob=t=>sb(t,!1),ab=t=>sb(t,!0);function lb(t,e){return mi(t,i=>t.moveVertically(i,e,J1(t).height))}const ng=t=>lb(t,!1),rg=t=>lb(t,!0),BA=t=>mi(t,e=>Wn(t,e,!0)),VA=t=>mi(t,e=>Wn(t,e,!1)),XA=t=>mi(t,e=>Wn(t,e,!Qt(t))),WA=t=>mi(t,e=>Wn(t,e,Qt(t))),UA=t=>mi(t,e=>Q.cursor(t.lineBlockAt(e.head).from)),FA=t=>mi(t,e=>Q.cursor(t.lineBlockAt(e.head).to)),sg=({state:t,dispatch:e})=>(e(Wi(t,{anchor:0})),!0),og=({state:t,dispatch:e})=>(e(Wi(t,{anchor:t.doc.length})),!0),ag=({state:t,dispatch:e})=>(e(Wi(t,{anchor:t.selection.main.anchor,head:0})),!0),lg=({state:t,dispatch:e})=>(e(Wi(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),zA=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),qA=({state:t,dispatch:e})=>{let i=mc(t).map(({from:n,to:r})=>Q.range(n,Math.min(r+1,t.doc.length)));return e(t.update({selection:Q.create(i),userEvent:"select"})),!0},GA=({state:t,dispatch:e})=>{let i=ps(t.selection,n=>{var r;let s=ut(t).resolveInner(n.head,1);for(;!(s.from<n.from&&s.to>=n.to||s.to>n.to&&s.from<=n.from||!(!((r=s.parent)===null||r===void 0)&&r.parent));)s=s.parent;return Q.range(s.to,s.from)});return e(Wi(t,i)),!0},HA=({state:t,dispatch:e})=>{let i=t.selection,n=null;return i.ranges.length>1?n=Q.create([i.main]):i.main.empty||(n=Q.create([Q.cursor(i.main.head)])),n?(e(Wi(t,n)),!0):!1};function gc(t,e){if(t.state.readOnly)return!1;let i="delete.selection",{state:n}=t,r=n.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(o);l<o?(i="delete.backward",l=ka(t,l,!1)):l>o&&(i="delete.forward",l=ka(t,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=ka(t,o,!1),a=ka(t,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:Q.cursor(o)}});return r.changes.empty?!1:(t.dispatch(n.update(r,{scrollIntoView:!0,userEvent:i,effects:i=="delete.selection"?F.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function ka(t,e,i){if(t instanceof F)for(let n of t.state.facet(F.atomicRanges).map(r=>r(t)))n.between(e,e,(r,s)=>{r<e&&s>e&&(e=i?s:r)});return e}const cb=(t,e)=>gc(t,i=>{let{state:n}=t,r=n.doc.lineAt(i),s,o;if(!e&&i>r.from&&i<r.from+200&&!/[^ \t]/.test(s=r.text.slice(0,i-r.from))){if(s[s.length-1]=="	")return i-1;let a=ds(s,n.tabSize),l=a%Sl(n)||Sl(n);for(let c=0;c<l&&s[s.length-1-c]==" ";c++)i--;o=i}else o=Pt(r.text,i-r.from,e,e)+r.from,o==i&&r.number!=(e?n.doc.lines:1)&&(o+=e?1:-1);return o}),ku=t=>cb(t,!1),hb=t=>cb(t,!0),ub=(t,e)=>gc(t,i=>{let n=i,{state:r}=t,s=r.doc.lineAt(n),o=r.charCategorizer(n);for(let a=null;;){if(n==(e?s.to:s.from)){n==i&&s.number!=(e?r.doc.lines:1)&&(n+=e?1:-1);break}let l=Pt(s.text,n-s.from,e)+s.from,c=s.text.slice(Math.min(n,l)-s.from,Math.max(n,l)-s.from),h=o(c);if(a!=null&&h!=a)break;(c!=" "||n!=i)&&(a=h),n=l}return n}),fb=t=>ub(t,!1),KA=t=>ub(t,!0),db=t=>gc(t,e=>{let i=t.lineBlockAt(e).to;return e<i?i:Math.min(t.state.doc.length,e+1)}),JA=t=>gc(t,e=>{let i=t.lineBlockAt(e).from;return e>i?i:Math.max(0,e-1)}),eE=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=t.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:Qe.of(["",""])},range:Q.cursor(n.from)}));return e(t.update(i,{scrollIntoView:!0,userEvent:"input"})),!0},tE=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=t.changeByRange(n=>{if(!n.empty||n.from==0||n.from==t.doc.length)return{range:n};let r=n.from,s=t.doc.lineAt(r),o=r==s.from?r-1:Pt(s.text,r-s.from,!1)+s.from,a=r==s.to?r+1:Pt(s.text,r-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:t.doc.slice(r,a).append(t.doc.slice(o,r))},range:Q.cursor(a)}});return i.changes.empty?!1:(e(t.update(i,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function mc(t){let e=[],i=-1;for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),s=t.doc.lineAt(n.to);if(!n.empty&&n.to==s.from&&(s=t.doc.lineAt(n.to-1)),i>=r.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(n)}else e.push({from:r.from,to:s.to,ranges:[n]});i=s.number+1}return e}function pb(t,e,i){if(t.readOnly)return!1;let n=[],r=[];for(let s of mc(t)){if(i?s.to==t.doc.length:s.from==0)continue;let o=t.doc.lineAt(i?s.to+1:s.from-1),a=o.length+1;if(i){n.push({from:s.to,to:o.to},{from:s.from,insert:o.text+t.lineBreak});for(let l of s.ranges)r.push(Q.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{n.push({from:o.from,to:s.from},{from:s.to,insert:t.lineBreak+o.text});for(let l of s.ranges)r.push(Q.range(l.anchor-a,l.head-a))}}return n.length?(e(t.update({changes:n,scrollIntoView:!0,selection:Q.create(r,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const iE=({state:t,dispatch:e})=>pb(t,e,!1),nE=({state:t,dispatch:e})=>pb(t,e,!0);function gb(t,e,i){if(t.readOnly)return!1;let n=[];for(let r of mc(t))i?n.push({from:r.from,insert:t.doc.slice(r.from,r.to)+t.lineBreak}):n.push({from:r.to,insert:t.lineBreak+t.doc.slice(r.from,r.to)});return e(t.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const rE=({state:t,dispatch:e})=>gb(t,e,!1),sE=({state:t,dispatch:e})=>gb(t,e,!0),oE=t=>{if(t.state.readOnly)return!1;let{state:e}=t,i=e.changes(mc(e).map(({from:r,to:s})=>(r>0?r--:s<e.doc.length&&s++,{from:r,to:s}))),n=ps(e.selection,r=>t.moveVertically(r,!0)).map(i);return t.dispatch({changes:i,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function aE(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let i=ut(t).resolveInner(e),n=i.childBefore(e),r=i.childAfter(e),s;return n&&r&&n.to<=e&&r.from>=e&&(s=n.type.prop(Se.closedBy))&&s.indexOf(r.name)>-1&&t.doc.lineAt(n.to).from==t.doc.lineAt(r.from).from&&!/\S/.test(t.sliceDoc(n.to,r.from))?{from:n.to,to:r.from}:null}const lE=mb(!1),cE=mb(!0);function mb(t){return({state:e,dispatch:i})=>{if(e.readOnly)return!1;let n=e.changeByRange(r=>{let{from:s,to:o}=r,a=e.doc.lineAt(s),l=!t&&s==o&&aE(e,s);t&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let c=new cc(e,{simulateBreak:s,simulateDoubleBreak:!!l}),h=Cf(c,s);for(h==null&&(h=ds(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let u=["",vo(e,h)];return l&&u.push(vo(e,c.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:Qe.of(u)},range:Q.cursor(s+1+u[1].length)}});return i(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function Qf(t,e){let i=-1;return t.changeByRange(n=>{let r=[];for(let o=n.from;o<=n.to;){let a=t.doc.lineAt(o);a.number>i&&(n.empty||n.to>a.from)&&(e(a,r,n),i=a.number),o=a.to+1}let s=t.changes(r);return{changes:r,range:Q.range(s.mapPos(n.anchor,1),s.mapPos(n.head,1))}})}const hE=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=Object.create(null),n=new cc(t,{overrideIndentation:s=>{let o=i[s];return o??-1}}),r=Qf(t,(s,o,a)=>{let l=Cf(n,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let c=/^\s*/.exec(s.text)[0],h=vo(t,l);(c!=h||a.from<s.from+c.length)&&(i[s.from]=l,o.push({from:s.from,to:s.from+c.length,insert:h}))});return r.changes.empty||e(t.update(r,{userEvent:"indent"})),!0},Ob=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(Qf(t,(i,n)=>{n.push({from:i.from,insert:t.facet(Vo)})}),{userEvent:"input.indent"})),!0),bb=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(Qf(t,(i,n)=>{let r=/^\s*/.exec(i.text)[0];if(!r)return;let s=ds(r,t.tabSize),o=0,a=vo(t,Math.max(0,s-Sl(t)));for(;o<r.length&&o<a.length&&r.charCodeAt(o)==a.charCodeAt(o);)o++;n.push({from:i.from+o,to:i.from+r.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),uE=[{key:"Ctrl-b",run:F1,shift:ib,preventDefault:!0},{key:"Ctrl-f",run:z1,shift:nb},{key:"Ctrl-p",run:H1,shift:ob},{key:"Ctrl-n",run:K1,shift:ab},{key:"Ctrl-a",run:IA,shift:UA},{key:"Ctrl-e",run:ZA,shift:FA},{key:"Ctrl-d",run:hb},{key:"Ctrl-h",run:ku},{key:"Ctrl-k",run:db},{key:"Ctrl-Alt-h",run:fb},{key:"Ctrl-o",run:eE},{key:"Ctrl-t",run:tE},{key:"Ctrl-v",run:wu}],fE=[{key:"ArrowLeft",run:F1,shift:ib,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:CA,shift:LA,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:EA,shift:XA,preventDefault:!0},{key:"ArrowRight",run:z1,shift:nb,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:$A,shift:jA,preventDefault:!0},{mac:"Cmd-ArrowRight",run:RA,shift:WA,preventDefault:!0},{key:"ArrowUp",run:H1,shift:ob,preventDefault:!0},{mac:"Cmd-ArrowUp",run:sg,shift:ag},{mac:"Ctrl-ArrowUp",run:ig,shift:ng},{key:"ArrowDown",run:K1,shift:ab,preventDefault:!0},{mac:"Cmd-ArrowDown",run:og,shift:lg},{mac:"Ctrl-ArrowDown",run:wu,shift:rg},{key:"PageUp",run:ig,shift:ng},{key:"PageDown",run:wu,shift:rg},{key:"Home",run:AA,shift:VA,preventDefault:!0},{key:"Mod-Home",run:sg,shift:ag},{key:"End",run:QA,shift:BA,preventDefault:!0},{key:"Mod-End",run:og,shift:lg},{key:"Enter",run:lE},{key:"Mod-a",run:zA},{key:"Backspace",run:ku,shift:ku},{key:"Delete",run:hb},{key:"Mod-Backspace",mac:"Alt-Backspace",run:fb},{key:"Mod-Delete",mac:"Alt-Delete",run:KA},{mac:"Mod-Backspace",run:JA},{mac:"Mod-Delete",run:db}].concat(uE.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),dE=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:PA,shift:NA},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:TA,shift:YA},{key:"Alt-ArrowUp",run:iE},{key:"Shift-Alt-ArrowUp",run:rE},{key:"Alt-ArrowDown",run:nE},{key:"Shift-Alt-ArrowDown",run:sE},{key:"Escape",run:HA},{key:"Mod-Enter",run:cE},{key:"Alt-l",mac:"Ctrl-l",run:qA},{key:"Mod-i",run:GA,preventDefault:!0},{key:"Mod-[",run:bb},{key:"Mod-]",run:Ob},{key:"Mod-Alt-\\",run:hE},{key:"Shift-Mod-k",run:oE},{key:"Shift-Mod-\\",run:DA},{key:"Mod-/",run:sA},{key:"Alt-A",run:aA}].concat(fE),pE={key:"Tab",run:Ob,shift:bb};function Le(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,i=arguments[1];if(i&&typeof i=="object"&&i.nodeType==null&&!Array.isArray(i)){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){var r=i[n];typeof r=="string"?t.setAttribute(n,r):r!=null&&(t[n]=r)}e++}for(;e<arguments.length;e++)vb(t,arguments[e]);return t}function vb(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var i=0;i<e.length;i++)vb(t,e[i]);else throw new RangeError("Unsupported child node: "+e)}const cg=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class Hr{constructor(e,i,n=0,r=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,r),this.bufferStart=n,this.normalize=s?a=>s(cg(a)):cg,this.query=this.normalize(i)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return yt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let i=cf(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=ui(e);let r=this.normalize(i);for(let s=0,o=n;;s++){let a=r.charCodeAt(s),l=this.match(a,o);if(s==r.length-1){if(l)return this.value=l,this;break}o==n&&s<i.length&&i.charCodeAt(s)==a&&o++}}}match(e,i){let n=null;for(let r=0;r<this.matches.length;r+=2){let s=this.matches[r],o=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?n={from:this.matches[r+1],to:i+1}:(this.matches[r]++,o=!0)),o||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?n={from:i,to:i+1}:this.matches.push(1,i)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferPos)&&(n=null),n}}typeof Symbol<"u"&&(Hr.prototype[Symbol.iterator]=function(){return this});const yb={from:-1,to:-1,match:/.*/.exec("")},Af="gm"+(/x/.unicode==null?"":"u");class xb{constructor(e,i,n,r=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=yb,/\\[sWDnr]|\n|\r|\[\^/.test(i))return new Sb(e,i,n,r,s);this.re=new RegExp(i,Af+(n!=null&&n.ignoreCase?"i":"")),this.test=n==null?void 0:n.test,this.iter=e.iter();let o=e.lineAt(r);this.curLineStart=o.from,this.matchPos=$l(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let i=this.matchPos<=this.to&&this.re.exec(this.curLine);if(i){let n=this.curLineStart+i.index,r=n+i[0].length;if(this.matchPos=$l(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,i)))return this.value={from:n,to:r,match:i},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const ih=new WeakMap;class Br{constructor(e,i){this.from=e,this.text=i}get to(){return this.from+this.text.length}static get(e,i,n){let r=ih.get(e);if(!r||r.from>=n||r.to<=i){let a=new Br(i,e.sliceString(i,n));return ih.set(e,a),a}if(r.from==i&&r.to==n)return r;let{text:s,from:o}=r;return o>i&&(s=e.sliceString(i,o)+s,o=i),r.to<n&&(s+=e.sliceString(r.to,n)),ih.set(e,new Br(o,s)),new Br(i,s.slice(i-o,n-o))}}class Sb{constructor(e,i,n,r,s){this.text=e,this.to=s,this.done=!1,this.value=yb,this.matchPos=$l(e,r),this.re=new RegExp(i,Af+(n!=null&&n.ignoreCase?"i":"")),this.test=n==null?void 0:n.test,this.flat=Br.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,i=this.re.exec(this.flat.text);if(i&&!i[0]&&i.index==e&&(this.re.lastIndex=e+1,i=this.re.exec(this.flat.text)),i){let n=this.flat.from+i.index,r=n+i[0].length;if((this.flat.to>=this.to||i.index+i[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,r,i)))return this.value={from:n,to:r,match:i},this.matchPos=$l(this.text,r+(n==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Br.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(xb.prototype[Symbol.iterator]=Sb.prototype[Symbol.iterator]=function(){return this});function gE(t){try{return new RegExp(t,Af),!0}catch{return!1}}function $l(t,e){if(e>=t.length)return e;let i=t.lineAt(e),n;for(;e<i.to&&(n=i.text.charCodeAt(e-i.from))>=56320&&n<57344;)e++;return e}function Cu(t){let e=Le("input",{class:"cm-textfield",name:"line"}),i=Le("form",{class:"cm-gotoLine",onkeydown:r=>{r.keyCode==27?(r.preventDefault(),t.dispatch({effects:_l.of(!1)}),t.focus()):r.keyCode==13&&(r.preventDefault(),n())},onsubmit:r=>{r.preventDefault(),n()}},Le("label",t.state.phrase("Go to line"),": ",e)," ",Le("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function n(){let r=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!r)return;let{state:s}=t,o=s.doc.lineAt(s.selection.main.head),[,a,l,c,h]=r,u=c?+c.slice(1):0,f=l?+l:o.number;if(l&&h){let g=f/100;a&&(g=g*(a=="-"?-1:1)+o.number/s.doc.lines),f=Math.round(s.doc.lines*g)}else l&&a&&(f=f*(a=="-"?-1:1)+o.number);let d=s.doc.line(Math.max(1,Math.min(s.doc.lines,f))),p=Q.cursor(d.from+Math.max(0,Math.min(u,d.length)));t.dispatch({effects:[_l.of(!1),F.scrollIntoView(p.from,{y:"center"})],selection:p}),t.focus()}return{dom:i}}const _l=be.define(),hg=Ot.define({create(){return!0},update(t,e){for(let i of e.effects)i.is(_l)&&(t=i.value);return t},provide:t=>bo.from(t,e=>e?Cu:null)}),mE=t=>{let e=Oo(t,Cu);if(!e){let i=[_l.of(!0)];t.state.field(hg,!1)==null&&i.push(be.appendConfig.of([hg,OE])),t.dispatch({effects:i}),e=Oo(t,Cu)}return e&&e.dom.querySelector("input").focus(),!0},OE=F.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),bE={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},wb=K.define({combine(t){return Vi(t,bE,{highlightWordAroundCursor:(e,i)=>e||i,minSelectionLength:Math.min,maxMatches:Math.min})}});function vE(t){let e=[kE,wE];return t&&e.push(wb.of(t)),e}const yE=fe.mark({class:"cm-selectionMatch"}),xE=fe.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function ug(t,e,i,n){return(i==0||t(e.sliceDoc(i-1,i))!=ze.Word)&&(n==e.doc.length||t(e.sliceDoc(n,n+1))!=ze.Word)}function SE(t,e,i,n){return t(e.sliceDoc(i,i+1))==ze.Word&&t(e.sliceDoc(n-1,n))==ze.Word}const wE=ot.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(wb),{state:i}=t,n=i.selection;if(n.ranges.length>1)return fe.none;let r=n.main,s,o=null;if(r.empty){if(!e.highlightWordAroundCursor)return fe.none;let l=i.wordAt(r.head);if(!l)return fe.none;o=i.charCategorizer(r.head),s=i.sliceDoc(l.from,l.to)}else{let l=r.to-r.from;if(l<e.minSelectionLength||l>200)return fe.none;if(e.wholeWords){if(s=i.sliceDoc(r.from,r.to),o=i.charCategorizer(r.head),!(ug(o,i,r.from,r.to)&&SE(o,i,r.from,r.to)))return fe.none}else if(s=i.sliceDoc(r.from,r.to).trim(),!s)return fe.none}let a=[];for(let l of t.visibleRanges){let c=new Hr(i.doc,s,l.from,l.to);for(;!c.next().done;){let{from:h,to:u}=c.value;if((!o||ug(o,i,h,u))&&(r.empty&&h<=r.from&&u>=r.to?a.push(xE.range(h,u)):(h>=r.to||u<=r.from)&&a.push(yE.range(h,u)),a.length>e.maxMatches))return fe.none}}return fe.set(a)}},{decorations:t=>t.decorations}),kE=F.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),CE=({state:t,dispatch:e})=>{let{selection:i}=t,n=Q.create(i.ranges.map(r=>t.wordAt(r.head)||Q.cursor(r.head)),i.mainIndex);return n.eq(i)?!1:(e(t.update({selection:n})),!0)};function $E(t,e){let{main:i,ranges:n}=t.selection,r=t.wordAt(i.head),s=r&&r.from==i.from&&r.to==i.to;for(let o=!1,a=new Hr(t.doc,e,n[n.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new Hr(t.doc,e,0,Math.max(0,n[n.length-1].from-1)),o=!0}else{if(o&&n.some(l=>l.from==a.value.from))continue;if(s){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const _E=({state:t,dispatch:e})=>{let{ranges:i}=t.selection;if(i.some(s=>s.from===s.to))return CE({state:t,dispatch:e});let n=t.sliceDoc(i[0].from,i[0].to);if(t.selection.ranges.some(s=>t.sliceDoc(s.from,s.to)!=n))return!1;let r=$E(t,n);return r?(e(t.update({selection:t.selection.addRange(Q.range(r.from,r.to),!1),effects:F.scrollIntoView(r.to)})),!0):!1},gs=K.define({combine(t){return Vi(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new jE(e),scrollToMatch:e=>F.scrollIntoView(e)})}});class kb{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||gE(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(i,n)=>n=="n"?`
`:n=="r"?"\r":n=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new AE(this):new TE(this)}getCursor(e,i=0,n){let r=e.doc?e:Ce.create({doc:e});return n==null&&(n=r.doc.length),this.regexp?Ar(this,r,i,n):Qr(this,r,i,n)}}class Cb{constructor(e){this.spec=e}}function Qr(t,e,i,n){return new Hr(e.doc,t.unquoted,i,n,t.caseSensitive?void 0:r=>r.toLowerCase(),t.wholeWord?PE(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function PE(t,e){return(i,n,r,s)=>((s>i||s+r.length<n)&&(s=Math.max(0,i-2),r=t.sliceString(s,Math.min(t.length,n+2))),(e(Pl(r,i-s))!=ze.Word||e(Tl(r,i-s))!=ze.Word)&&(e(Tl(r,n-s))!=ze.Word||e(Pl(r,n-s))!=ze.Word))}class TE extends Cb{constructor(e){super(e)}nextMatch(e,i,n){let r=Qr(this.spec,e,n,e.doc.length).nextOverlapping();return r.done&&(r=Qr(this.spec,e,0,i).nextOverlapping()),r.done?null:r.value}prevMatchInRange(e,i,n){for(let r=n;;){let s=Math.max(i,r-1e4-this.spec.unquoted.length),o=Qr(this.spec,e,s,r),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==i)return null;r-=1e4}}prevMatch(e,i,n){return this.prevMatchInRange(e,0,i)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,i){let n=Qr(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=i)return null;r.push(n.value)}return r}highlight(e,i,n,r){let s=Qr(this.spec,e,Math.max(0,i-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}function Ar(t,e,i,n){return new xb(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?QE(e.charCategorizer(e.selection.main.head)):void 0},i,n)}function Pl(t,e){return t.slice(Pt(t,e,!1),e)}function Tl(t,e){return t.slice(e,Pt(t,e))}function QE(t){return(e,i,n)=>!n[0].length||(t(Pl(n.input,n.index))!=ze.Word||t(Tl(n.input,n.index))!=ze.Word)&&(t(Tl(n.input,n.index+n[0].length))!=ze.Word||t(Pl(n.input,n.index+n[0].length))!=ze.Word)}class AE extends Cb{nextMatch(e,i,n){let r=Ar(this.spec,e,n,e.doc.length).next();return r.done&&(r=Ar(this.spec,e,0,i).next()),r.done?null:r.value}prevMatchInRange(e,i,n){for(let r=1;;r++){let s=Math.max(i,n-r*1e4),o=Ar(this.spec,e,s,n),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==i||a.from>s+10))return a;if(s==i)return null}}prevMatch(e,i,n){return this.prevMatchInRange(e,0,i)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(i,n)=>n=="$"?"$":n=="&"?e.match[0]:n!="0"&&+n<e.match.length?e.match[n]:i))}matchAll(e,i){let n=Ar(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=i)return null;r.push(n.value)}return r}highlight(e,i,n,r){let s=Ar(this.spec,e,Math.max(0,i-250),Math.min(n+250,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}const yo=be.define(),Ef=be.define(),In=Ot.define({create(t){return new nh($u(t).create(),null)},update(t,e){for(let i of e.effects)i.is(yo)?t=new nh(i.value.create(),t.panel):i.is(Ef)&&(t=new nh(t.query,i.value?Rf:null));return t},provide:t=>bo.from(t,e=>e.panel)});class nh{constructor(e,i){this.query=e,this.panel=i}}const EE=fe.mark({class:"cm-searchMatch"}),RE=fe.mark({class:"cm-searchMatch cm-searchMatch-selected"}),IE=ot.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(In))}update(t){let e=t.state.field(In);(e!=t.startState.field(In)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return fe.none;let{view:i}=this,n=new Dn;for(let r=0,s=i.visibleRanges,o=s.length;r<o;r++){let{from:a,to:l}=s[r];for(;r<o-1&&l>s[r+1].from-2*250;)l=s[++r].to;t.highlight(i.state,a,l,(c,h)=>{let u=i.state.selection.ranges.some(f=>f.from==c&&f.to==h);n.add(c,h,u?RE:EE)})}return n.finish()}},{decorations:t=>t.decorations});function Wo(t){return e=>{let i=e.state.field(In,!1);return i&&i.query.spec.valid?t(e,i):Pb(e)}}const Ql=Wo((t,{query:e})=>{let{to:i}=t.state.selection.main,n=e.nextMatch(t.state,i,i);if(!n)return!1;let r=Q.single(n.from,n.to),s=t.state.facet(gs);return t.dispatch({selection:r,effects:[If(t,n),s.scrollToMatch(r.main,t)],userEvent:"select.search"}),_b(t),!0}),Al=Wo((t,{query:e})=>{let{state:i}=t,{from:n}=i.selection.main,r=e.prevMatch(i,n,n);if(!r)return!1;let s=Q.single(r.from,r.to),o=t.state.facet(gs);return t.dispatch({selection:s,effects:[If(t,r),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),_b(t),!0}),ZE=Wo((t,{query:e})=>{let i=e.matchAll(t.state,1e3);return!i||!i.length?!1:(t.dispatch({selection:Q.create(i.map(n=>Q.range(n.from,n.to))),userEvent:"select.search.matches"}),!0)}),ME=({state:t,dispatch:e})=>{let i=t.selection;if(i.ranges.length>1||i.main.empty)return!1;let{from:n,to:r}=i.main,s=[],o=0;for(let a=new Hr(t.doc,t.sliceDoc(n,r));!a.next().done;){if(s.length>1e3)return!1;a.value.from==n&&(o=s.length),s.push(Q.range(a.value.from,a.value.to))}return e(t.update({selection:Q.create(s,o),userEvent:"select.search.matches"})),!0},fg=Wo((t,{query:e})=>{let{state:i}=t,{from:n,to:r}=i.selection.main;if(i.readOnly)return!1;let s=e.nextMatch(i,n,n);if(!s)return!1;let o=[],a,l,c=[];if(s.from==n&&s.to==r&&(l=i.toText(e.getReplacement(s)),o.push({from:s.from,to:s.to,insert:l}),s=e.nextMatch(i,s.from,s.to),c.push(F.announce.of(i.phrase("replaced match on line $",i.doc.lineAt(n).number)+"."))),s){let h=o.length==0||o[0].from>=s.to?0:s.to-s.from-l.length;a=Q.single(s.from-h,s.to-h),c.push(If(t,s)),c.push(i.facet(gs).scrollToMatch(a.main,t))}return t.dispatch({changes:o,selection:a,effects:c,userEvent:"input.replace"}),!0}),DE=Wo((t,{query:e})=>{if(t.state.readOnly)return!1;let i=e.matchAll(t.state,1e9).map(r=>{let{from:s,to:o}=r;return{from:s,to:o,insert:e.getReplacement(r)}});if(!i.length)return!1;let n=t.state.phrase("replaced $ matches",i.length)+".";return t.dispatch({changes:i,effects:F.announce.of(n),userEvent:"input.replace.all"}),!0});function Rf(t){return t.state.facet(gs).createPanel(t)}function $u(t,e){var i,n,r,s,o;let a=t.selection.main,l=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!l)return e;let c=t.facet(gs);return new kb({search:((i=e==null?void 0:e.literal)!==null&&i!==void 0?i:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(n=e==null?void 0:e.caseSensitive)!==null&&n!==void 0?n:c.caseSensitive,literal:(r=e==null?void 0:e.literal)!==null&&r!==void 0?r:c.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:c.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:c.wholeWord})}function $b(t){let e=Oo(t,Rf);return e&&e.dom.querySelector("[main-field]")}function _b(t){let e=$b(t);e&&e==t.root.activeElement&&e.select()}const Pb=t=>{let e=t.state.field(In,!1);if(e&&e.panel){let i=$b(t);if(i&&i!=t.root.activeElement){let n=$u(t.state,e.query.spec);n.valid&&t.dispatch({effects:yo.of(n)}),i.focus(),i.select()}}else t.dispatch({effects:[Ef.of(!0),e?yo.of($u(t.state,e.query.spec)):be.appendConfig.of(YE)]});return!0},Tb=t=>{let e=t.state.field(In,!1);if(!e||!e.panel)return!1;let i=Oo(t,Rf);return i&&i.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:Ef.of(!1)}),!0},LE=[{key:"Mod-f",run:Pb,scope:"editor search-panel"},{key:"F3",run:Ql,shift:Al,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Ql,shift:Al,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Tb,scope:"editor search-panel"},{key:"Mod-Shift-l",run:ME},{key:"Alt-g",run:mE},{key:"Mod-d",run:_E,preventDefault:!0}];class jE{constructor(e){this.view=e;let i=this.query=e.state.field(In).query.spec;this.commit=this.commit.bind(this),this.searchField=Le("input",{value:i.search,placeholder:Ft(e,"Find"),"aria-label":Ft(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Le("input",{value:i.replace,placeholder:Ft(e,"Replace"),"aria-label":Ft(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Le("input",{type:"checkbox",name:"case",form:"",checked:i.caseSensitive,onchange:this.commit}),this.reField=Le("input",{type:"checkbox",name:"re",form:"",checked:i.regexp,onchange:this.commit}),this.wordField=Le("input",{type:"checkbox",name:"word",form:"",checked:i.wholeWord,onchange:this.commit});function n(r,s,o){return Le("button",{class:"cm-button",name:r,onclick:s,type:"button"},o)}this.dom=Le("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,n("next",()=>Ql(e),[Ft(e,"next")]),n("prev",()=>Al(e),[Ft(e,"previous")]),n("select",()=>ZE(e),[Ft(e,"all")]),Le("label",null,[this.caseField,Ft(e,"match case")]),Le("label",null,[this.reField,Ft(e,"regexp")]),Le("label",null,[this.wordField,Ft(e,"by word")]),...e.state.readOnly?[]:[Le("br"),this.replaceField,n("replace",()=>fg(e),[Ft(e,"replace")]),n("replaceAll",()=>DE(e),[Ft(e,"replace all")])],Le("button",{name:"close",onclick:()=>Tb(e),"aria-label":Ft(e,"close"),type:"button"},["×"])])}commit(){let e=new kb({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:yo.of(e)}))}keydown(e){JP(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Al:Ql)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),fg(this.view))}update(e){for(let i of e.transactions)for(let n of i.effects)n.is(yo)&&!n.value.eq(this.query)&&this.setQuery(n.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(gs).top}}function Ft(t,e){return t.state.phrase(e)}const Ca=30,$a=/[\s\.,:;?!]/;function If(t,{from:e,to:i}){let n=t.state.doc.lineAt(e),r=t.state.doc.lineAt(i).to,s=Math.max(n.from,e-Ca),o=Math.min(r,i+Ca),a=t.state.sliceDoc(s,o);if(s!=n.from){for(let l=0;l<Ca;l++)if(!$a.test(a[l+1])&&$a.test(a[l])){a=a.slice(l);break}}if(o!=r){for(let l=a.length-1;l>a.length-Ca;l--)if(!$a.test(a[l-1])&&$a.test(a[l])){a=a.slice(0,l);break}}return F.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${n.number}.`)}const NE=F.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),YE=[In,xr.low(IE),NE];class Qb{constructor(e,i,n){this.state=e,this.pos=i,this.explicit=n,this.abortListeners=[]}tokenBefore(e){let i=ut(this.state).resolveInner(this.pos,-1);for(;i&&e.indexOf(i.name)<0;)i=i.parent;return i?{from:i.from,to:this.pos,text:this.state.sliceDoc(i.from,this.pos),type:i.type}:null}matchBefore(e){let i=this.state.doc.lineAt(this.pos),n=Math.max(i.from,this.pos-250),r=i.text.slice(n-i.from,this.pos-i.from),s=r.search(Eb(e,!1));return s<0?null:{from:n+s,to:this.pos,text:r.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,i){e=="abort"&&this.abortListeners&&this.abortListeners.push(i)}}function dg(t){let e=Object.keys(t).join(""),i=/\w/.test(e);return i&&(e=e.replace(/\w/g,"")),`[${i?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function BE(t){let e=Object.create(null),i=Object.create(null);for(let{label:r}of t){e[r[0]]=!0;for(let s=1;s<r.length;s++)i[r[s]]=!0}let n=dg(e)+dg(i)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function Ab(t){let e=t.map(r=>typeof r=="string"?{label:r}:r),[i,n]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:BE(e);return r=>{let s=r.matchBefore(n);return s||r.explicit?{from:s?s.from:r.pos,options:e,validFor:i}:null}}function VE(t,e){return i=>{for(let n=ut(i.state).resolveInner(i.pos,-1);n;n=n.parent){if(t.indexOf(n.name)>-1)return null;if(n.type.isTop)break}return e(i)}}class pg{constructor(e,i,n,r){this.completion=e,this.source=i,this.match=n,this.score=r}}function Zn(t){return t.selection.main.from}function Eb(t,e){var i;let{source:n}=t,r=e&&n[0]!="^",s=n[n.length-1]!="$";return!r&&!s?t:new RegExp(`${r?"^":""}(?:${n})${s?"$":""}`,(i=t.flags)!==null&&i!==void 0?i:t.ignoreCase?"i":"")}const Rb=pn.define();function XE(t,e,i,n){let{main:r}=t.selection,s=i-r.from,o=n-r.from;return Object.assign(Object.assign({},t.changeByRange(a=>a!=r&&i!=n&&t.sliceDoc(a.from+s,a.from+o)!=t.sliceDoc(i,n)?{range:a}:{changes:{from:a.from+s,to:n==r.from?a.to:a.from+o,insert:e},range:Q.cursor(a.from+s+e.length)})),{userEvent:"input.complete"})}const gg=new WeakMap;function WE(t){if(!Array.isArray(t))return t;let e=gg.get(t);return e||gg.set(t,e=Ab(t)),e}const Zf=be.define(),xo=be.define();class UE{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let i=0;i<e.length;){let n=yt(e,i),r=ui(n);this.chars.push(n);let s=e.slice(i,i+r),o=s.toUpperCase();this.folded.push(yt(o==s?s.toLowerCase():o,0)),i+=r}this.astral=e.length!=this.chars.length}ret(e,i){return this.score=e,this.matched=i,!0}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return!1;let{chars:i,folded:n,any:r,precise:s,byWord:o}=this;if(i.length==1){let v=yt(e,0),x=ui(v),S=x==e.length?0:-100;if(v!=i[0])if(v==n[0])S+=-200;else return!1;return this.ret(S,[0,x])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=i.length,c=0;if(a<0){for(let v=0,x=Math.min(e.length,200);v<x&&c<l;){let S=yt(e,v);(S==i[c]||S==n[c])&&(r[c++]=v),v+=ui(S)}if(c<l)return!1}let h=0,u=0,f=!1,d=0,p=-1,g=-1,m=/[a-z]/.test(e),b=!0;for(let v=0,x=Math.min(e.length,200),S=0;v<x&&u<l;){let y=yt(e,v);a<0&&(h<l&&y==i[h]&&(s[h++]=v),d<l&&(y==i[d]||y==n[d]?(d==0&&(p=v),g=v+1,d++):d=0));let $,k=y<255?y>=48&&y<=57||y>=97&&y<=122?2:y>=65&&y<=90?1:0:($=cf(y))!=$.toLowerCase()?1:$!=$.toUpperCase()?2:0;(!v||k==1&&m||S==0&&k!=0)&&(i[u]==y||n[u]==y&&(f=!0)?o[u++]=v:o.length&&(b=!1)),S=k,v+=ui(y)}return u==l&&o[0]==0&&b?this.result(-100+(f?-200:0),o,e):d==l&&p==0?this.ret(-200-e.length+(g==e.length?0:-100),[0,g]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):d==l?this.ret(-200+-700-e.length,[p,g]):u==l?this.result(-100+(f?-200:0)+-700+(b?0:-1100),o,e):i.length==2?!1:this.result((r[0]?-700:0)+-200+-1100,r,e)}result(e,i,n){let r=[],s=0;for(let o of i){let a=o+(this.astral?ui(yt(n,o)):1);s&&r[s-1]==o?r[s-1]=a:(r[s++]=o,r[s++]=a)}return this.ret(e-n.length,r)}}const Xt=K.define({combine(t){return Vi(t,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:FE,compareCompletions:(e,i)=>e.label.localeCompare(i.label),interactionDelay:75},{defaultKeymap:(e,i)=>e&&i,closeOnBlur:(e,i)=>e&&i,icons:(e,i)=>e&&i,tooltipClass:(e,i)=>n=>mg(e(n),i(n)),optionClass:(e,i)=>n=>mg(e(n),i(n)),addToOptions:(e,i)=>e.concat(i)})}});function mg(t,e){return t?e?t+" "+e:t:e}function FE(t,e,i,n,r){let s=t.textDirection==qe.RTL,o=s,a=!1,l="top",c,h,u=e.left-r.left,f=r.right-e.right,d=n.right-n.left,p=n.bottom-n.top;if(o&&u<Math.min(d,f)?o=!1:!o&&f<Math.min(d,u)&&(o=!0),d<=(o?u:f))c=Math.max(r.top,Math.min(i.top,r.bottom-p))-e.top,h=Math.min(400,o?u:f);else{a=!0,h=Math.min(400,(s?e.right:r.right-e.left)-30);let g=r.bottom-e.bottom;g>=p||g>e.top?c=i.bottom-e.top:(l="bottom",c=e.bottom-i.top)}return{style:`${l}: ${c}px; max-width: ${h}px`,class:"cm-completionInfo-"+(a?s?"left-narrow":"right-narrow":o?"left":"right")}}function zE(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(i){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),i.type&&n.classList.add(...i.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),n.setAttribute("aria-hidden","true"),n},position:20}),e.push({render(i,n,r){let s=document.createElement("span");s.className="cm-completionLabel";let o=i.displayLabel||i.label,a=0;for(let l=0;l<r.length;){let c=r[l++],h=r[l++];c>a&&s.appendChild(document.createTextNode(o.slice(a,c)));let u=s.appendChild(document.createElement("span"));u.appendChild(document.createTextNode(o.slice(c,h))),u.className="cm-completionMatchedText",a=h}return a<o.length&&s.appendChild(document.createTextNode(o.slice(a))),s},position:50},{render(i){if(!i.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=i.detail,n},position:80}),e.sort((i,n)=>i.position-n.position).map(i=>i.render)}function Og(t,e,i){if(t<=i)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let r=Math.floor(e/i);return{from:r*i,to:(r+1)*i}}let n=Math.floor((t-e)/i);return{from:t-(n+1)*i,to:t-n*i}}class qE{constructor(e,i,n){this.view=e,this.stateField=i,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let r=e.state.field(i),{options:s,selected:o}=r.open,a=e.state.facet(Xt);this.optionContent=zE(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=Og(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{for(let c=l.target,h;c&&c!=this.dom;c=c.parentNode)if(c.nodeName=="LI"&&(h=/-(\d+)$/.exec(c.id))&&+h[1]<s.length){this.applyCompletion(e,s[+h[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(Xt).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:xo.of(null)})}),this.list=this.dom.appendChild(this.createListBox(s,r.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}mount(){this.updateSel()}update(e){var i,n,r;let s=e.state.field(this.stateField),o=e.startState.field(this.stateField);this.updateTooltipClass(e.state),s!=o&&(this.updateSel(),((i=s.open)===null||i===void 0?void 0:i.disabled)!=((n=o.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(!((r=s.open)===null||r===void 0)&&r.disabled)))}updateTooltipClass(e){let i=this.tooltipClass(e);if(i!=this.currentClass){for(let n of this.currentClass.split(" "))n&&this.dom.classList.remove(n);for(let n of i.split(" "))n&&this.dom.classList.add(n);this.currentClass=i}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),i=e.open;if((i.selected>-1&&i.selected<this.range.from||i.selected>=this.range.to)&&(this.range=Og(i.options.length,i.selected,this.view.state.facet(Xt).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(i.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})),this.updateSelectedOption(i.selected)){this.destroyInfo();let{completion:n}=i.options[i.selected],{info:r}=n;if(!r)return;let s=typeof r=="string"?document.createTextNode(r):r(n);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,n)}).catch(o=>pi(this.view.state,o,"completion info")):this.addInfoPane(s,n)}}addInfoPane(e,i){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",e.nodeType!=null)n.appendChild(e),this.infoDestroy=null;else{let{dom:r,destroy:s}=e;n.appendChild(r),this.infoDestroy=s||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let i=null;for(let n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)n.nodeName!="LI"||!n.id?r--:r==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),i=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return i&&HE(this.list,i),i}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let i=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:o.innerWidth,bottom:o.innerHeight}}return r.top>Math.min(s.bottom,i.bottom)-10||r.bottom<Math.max(s.top,i.top)+10?null:this.view.state.facet(Xt).positionInfo(this.view,i,r,n,s)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,i,n){const r=document.createElement("ul");r.id=i,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));let s=null;for(let o=n.from;o<n.to;o++){let{completion:a,match:l}=e[o],{section:c}=a;if(c){let f=typeof c=="string"?c:c.name;if(f!=s&&(o>n.from||n.from==0))if(s=f,typeof c!="string"&&c.header)r.appendChild(c.header(c));else{let d=r.appendChild(document.createElement("completion-section"));d.textContent=f}}const h=r.appendChild(document.createElement("li"));h.id=i+"-"+o,h.setAttribute("role","option");let u=this.optionClass(a);u&&(h.className=u);for(let f of this.optionContent){let d=f(a,this.view.state,l);d&&h.appendChild(d)}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function GE(t,e){return i=>new qE(i,t,e)}function HE(t,e){let i=t.getBoundingClientRect(),n=e.getBoundingClientRect();n.top<i.top?t.scrollTop-=i.top-n.top:n.bottom>i.bottom&&(t.scrollTop+=n.bottom-i.bottom)}function bg(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function KE(t,e){let i=[],n=null,r=l=>{i.push(l);let{section:c}=l.completion;if(c){n||(n=[]);let h=typeof c=="string"?c:c.name;n.some(u=>u.name==h)||n.push(typeof c=="string"?{name:h}:c)}};for(let l of t)if(l.hasResult()){let c=l.result.getMatch;if(l.result.filter===!1)for(let h of l.result.options)r(new pg(h,l.source,c?c(h):[],1e9-i.length));else{let h=new UE(e.sliceDoc(l.from,l.to));for(let u of l.result.options)if(h.match(u.label)){let f=u.displayLabel?c?c(u,h.matched):[]:h.matched;r(new pg(u,l.source,f,h.score+(u.boost||0)))}}}if(n){let l=Object.create(null),c=0,h=(u,f)=>{var d,p;return((d=u.rank)!==null&&d!==void 0?d:1e9)-((p=f.rank)!==null&&p!==void 0?p:1e9)||(u.name<f.name?-1:1)};for(let u of n.sort(h))c-=1e5,l[u.name]=c;for(let u of i){let{section:f}=u.completion;f&&(u.score+=l[typeof f=="string"?f:f.name])}}let s=[],o=null,a=e.facet(Xt).compareCompletions;for(let l of i.sort((c,h)=>h.score-c.score||a(c.completion,h.completion))){let c=l.completion;!o||o.label!=c.label||o.detail!=c.detail||o.type!=null&&c.type!=null&&o.type!=c.type||o.apply!=c.apply||o.boost!=c.boost?s.push(l):bg(l.completion)>bg(o)&&(s[s.length-1]=l),o=l.completion}return s}class Dr{constructor(e,i,n,r,s,o){this.options=e,this.attrs=i,this.tooltip=n,this.timestamp=r,this.selected=s,this.disabled=o}setSelected(e,i){return e==this.selected||e>=this.options.length?this:new Dr(this.options,vg(i,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,i,n,r,s){let o=KE(e,i);if(!o.length)return r&&e.some(l=>l.state==1)?new Dr(r.options,r.attrs,r.tooltip,r.timestamp,r.selected,!0):null;let a=i.facet(Xt).selectOnOpen?0:-1;if(r&&r.selected!=a&&r.selected!=-1){let l=r.options[r.selected].completion;for(let c=0;c<o.length;c++)if(o[c].completion==l){a=c;break}}return new Dr(o,vg(n,a),{pos:e.reduce((l,c)=>c.hasResult()?Math.min(l,c.from):l,1e8),create:GE(Kt,Mb),above:s.aboveCursor},r?r.timestamp:Date.now(),a,!1)}map(e){return new Dr(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class El{constructor(e,i,n){this.active=e,this.id=i,this.open=n}static start(){return new El(t3,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:i}=e,n=i.facet(Xt),s=(n.override||i.languageDataAt("autocomplete",Zn(i)).map(WE)).map(a=>(this.active.find(c=>c.source==a)||new Yt(a,this.active.some(c=>c.state!=0)?1:0)).update(e,n));s.length==this.active.length&&s.every((a,l)=>a==this.active[l])&&(s=this.active);let o=this.open;o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!JE(s,this.active)?o=Dr.build(s,i,this.id,o,n):o&&o.disabled&&!s.some(a=>a.state==1)&&(o=null),!o&&s.every(a=>a.state!=1)&&s.some(a=>a.hasResult())&&(s=s.map(a=>a.hasResult()?new Yt(a.source,0):a));for(let a of e.effects)a.is(Zb)&&(o=o&&o.setSelected(a.value,this.id));return s==this.active&&o==this.open?this:new El(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:e3}}function JE(t,e){if(t==e)return!0;for(let i=0,n=0;;){for(;i<t.length&&!t[i].hasResult;)i++;for(;n<e.length&&!e[n].hasResult;)n++;let r=i==t.length,s=n==e.length;if(r||s)return r==s;if(t[i++].result!=e[n++].result)return!1}}const e3={"aria-autocomplete":"list"};function vg(t,e){let i={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(i["aria-activedescendant"]=t+"-"+e),i}const t3=[];function _u(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class Yt{constructor(e,i,n=-1){this.source=e,this.state=i,this.explicitPos=n}hasResult(){return!1}update(e,i){let n=_u(e),r=this;n?r=r.handleUserEvent(e,n,i):e.docChanged?r=r.handleChange(e):e.selection&&r.state!=0&&(r=new Yt(r.source,0));for(let s of e.effects)if(s.is(Zf))r=new Yt(r.source,1,s.value?Zn(e.state):-1);else if(s.is(xo))r=new Yt(r.source,0);else if(s.is(Ib))for(let o of s.value)o.source==r.source&&(r=o);return r}handleUserEvent(e,i,n){return i=="delete"||!n.activateOnTyping?this.map(e.changes):new Yt(this.source,1)}handleChange(e){return e.changes.touchesRange(Zn(e.startState))?new Yt(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new Yt(this.source,this.state,e.mapPos(this.explicitPos))}}class Vr extends Yt{constructor(e,i,n,r,s){super(e,2,i),this.result=n,this.from=r,this.to=s}hasResult(){return!0}handleUserEvent(e,i,n){var r;let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=Zn(e.state);if((this.explicitPos<0?a<=s:a<this.from)||a>o||i=="delete"&&Zn(e.startState)==this.from)return new Yt(this.source,i=="input"&&n.activateOnTyping?1:0);let l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),c;return i3(this.result.validFor,e.state,s,o)?new Vr(this.source,l,this.result,s,o):this.result.update&&(c=this.result.update(this.result,s,o,new Qb(e.state,a,l>=0)))?new Vr(this.source,l,c,c.from,(r=c.to)!==null&&r!==void 0?r:Zn(e.state)):new Yt(this.source,1,l)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new Yt(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new Vr(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function i3(t,e,i,n){if(!t)return!1;let r=e.sliceDoc(i,n);return typeof t=="function"?t(r,i,n,e):Eb(t,!0).test(r)}const Ib=be.define({map(t,e){return t.map(i=>i.map(e))}}),Zb=be.define(),Kt=Ot.define({create(){return El.start()},update(t,e){return t.update(e)},provide:t=>[bf.from(t,e=>e.tooltip),F.contentAttributes.from(t,e=>e.attrs)]});function Mb(t,e){const i=e.completion.apply||e.completion.label;let n=t.state.field(Kt).active.find(r=>r.source==e.source);return n instanceof Vr?(typeof i=="string"?t.dispatch(Object.assign(Object.assign({},XE(t.state,i,n.from,n.to)),{annotations:Rb.of(e.completion)})):i(t,e.completion,n.from,n.to),!0):!1}function _a(t,e="option"){return i=>{let n=i.state.field(Kt,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<i.state.facet(Xt).interactionDelay)return!1;let r=1,s;e=="page"&&(s=d1(i,n.open.tooltip))&&(r=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=n.open.options,a=n.open.selected>-1?n.open.selected+r*(t?1:-1):t?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),i.dispatch({effects:Zb.of(a)}),!0}}const n3=t=>{let e=t.state.field(Kt,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(Xt).interactionDelay?!1:Mb(t,e.open.options[e.open.selected])},r3=t=>t.state.field(Kt,!1)?(t.dispatch({effects:Zf.of(!0)}),!0):!1,s3=t=>{let e=t.state.field(Kt,!1);return!e||!e.active.some(i=>i.state!=0)?!1:(t.dispatch({effects:xo.of(null)}),!0)};class o3{constructor(e,i){this.active=e,this.context=i,this.time=Date.now(),this.updates=[],this.done=void 0}}const yg=50,a3=50,l3=1e3,c3=ot.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of t.state.field(Kt).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field(Kt);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Kt)==e)return;let i=t.transactions.some(n=>(n.selection||n.docChanged)&&!_u(n));for(let n=0;n<this.running.length;n++){let r=this.running[n];if(i||r.updates.length+t.transactions.length>a3&&Date.now()-r.time>l3){for(let s of r.context.abortListeners)try{s()}catch(o){pi(this.view.state,o)}r.context.abortListeners=null,this.running.splice(n--,1)}else r.updates.push(...t.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(n=>n.state==1&&!this.running.some(r=>r.active.source==n.source))?setTimeout(()=>this.startUpdate(),yg):-1,this.composing!=0)for(let n of t.transactions)_u(n)=="input"?this.composing=2:this.composing==2&&n.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:t}=this.view,e=t.field(Kt);for(let i of e.active)i.state==1&&!this.running.some(n=>n.active.source==i.source)&&this.startQuery(i)}startQuery(t){let{state:e}=this.view,i=Zn(e),n=new Qb(e,i,t.explicitPos==i),r=new o3(t,n);this.running.push(r),Promise.resolve(t.source(n)).then(s=>{r.context.aborted||(r.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:xo.of(null)}),pi(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),yg))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],i=this.view.state.facet(Xt);for(let n=0;n<this.running.length;n++){let r=this.running[n];if(r.done===void 0)continue;if(this.running.splice(n--,1),r.done){let o=new Vr(r.active.source,r.active.explicitPos,r.done,r.done.from,(t=r.done.to)!==null&&t!==void 0?t:Zn(r.updates.length?r.updates[0].startState:this.view.state));for(let a of r.updates)o=o.update(a,i);if(o.hasResult()){e.push(o);continue}}let s=this.view.state.field(Kt).active.find(o=>o.source==r.active.source);if(s&&s.state==1)if(r.done==null){let o=new Yt(r.active.source,0);for(let a of r.updates)o=o.update(a,i);o.state!=1&&e.push(o)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:Ib.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Kt,!1);if(e&&e.tooltip&&this.view.state.facet(Xt).closeOnBlur){let i=e.open&&d1(this.view,e.open.tooltip);(!i||!i.dom.contains(t.relatedTarget))&&this.view.dispatch({effects:xo.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Zf.of(!1)}),20),this.composing=0}}}),Db=F.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class h3{constructor(e,i,n,r){this.field=e,this.line=i,this.from=n,this.to=r}}class Mf{constructor(e,i,n){this.field=e,this.from=i,this.to=n}map(e){let i=e.mapPos(this.from,-1,St.TrackDel),n=e.mapPos(this.to,1,St.TrackDel);return i==null||n==null?null:new Mf(this.field,i,n)}}class Df{constructor(e,i){this.lines=e,this.fieldPositions=i}instantiate(e,i){let n=[],r=[i],s=e.doc.lineAt(i),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(n.length){let c=o,h=/^\t*/.exec(l)[0].length;for(let u=0;u<h;u++)c+=e.facet(Vo);r.push(i+c.length-h),l=c+l.slice(h)}n.push(l),i+=l.length+1}let a=this.fieldPositions.map(l=>new Mf(l.field,r[l.line]+l.from,r[l.line]+l.to));return{text:n,ranges:a}}static parse(e){let i=[],n=[],r=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",c=-1;for(let h=0;h<i.length;h++)(a!=null?i[h].seq==a:l&&i[h].name==l)&&(c=h);if(c<0){let h=0;for(;h<i.length&&(a==null||i[h].seq!=null&&i[h].seq<a);)h++;i.splice(h,0,{seq:a,name:l}),c=h;for(let u of r)u.field>=c&&u.field++}r.push(new h3(c,n.length,s.index,s.index+l.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}for(let a;a=/\\([{}])/.exec(o);){o=o.slice(0,a.index)+a[1]+o.slice(a.index+a[0].length);for(let l of r)l.line==n.length&&l.from>a.index&&(l.from--,l.to--)}n.push(o)}return new Df(n,r)}}let u3=fe.widget({widget:new class extends Xi{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),f3=fe.mark({class:"cm-snippetField"});class ms{constructor(e,i){this.ranges=e,this.active=i,this.deco=fe.set(e.map(n=>(n.from==n.to?u3:f3).range(n.from,n.to)))}map(e){let i=[];for(let n of this.ranges){let r=n.map(e);if(!r)return null;i.push(r)}return new ms(i,this.active)}selectionInsideField(e){return e.ranges.every(i=>this.ranges.some(n=>n.field==this.active&&n.from<=i.from&&n.to>=i.to))}}const Uo=be.define({map(t,e){return t&&t.map(e)}}),d3=be.define(),So=Ot.define({create(){return null},update(t,e){for(let i of e.effects){if(i.is(Uo))return i.value;if(i.is(d3)&&t)return new ms(t.ranges,i.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>F.decorations.from(t,e=>e?e.deco:fe.none)});function Lf(t,e){return Q.create(t.filter(i=>i.field==e).map(i=>Q.range(i.from,i.to)))}function p3(t){let e=Df.parse(t);return(i,n,r,s)=>{let{text:o,ranges:a}=e.instantiate(i.state,r),l={changes:{from:r,to:s,insert:Qe.of(o)},scrollIntoView:!0,annotations:n?Rb.of(n):void 0};if(a.length&&(l.selection=Lf(a,0)),a.length>1){let c=new ms(a,0),h=l.effects=[Uo.of(c)];i.state.field(So,!1)===void 0&&h.push(be.appendConfig.of([So,v3,y3,Db]))}i.dispatch(i.state.update(l))}}function Lb(t){return({state:e,dispatch:i})=>{let n=e.field(So,!1);if(!n||t<0&&n.active==0)return!1;let r=n.active+t,s=t>0&&!n.ranges.some(o=>o.field==r+t);return i(e.update({selection:Lf(n.ranges,r),effects:Uo.of(s?null:new ms(n.ranges,r))})),!0}}const g3=({state:t,dispatch:e})=>t.field(So,!1)?(e(t.update({effects:Uo.of(null)})),!0):!1,m3=Lb(1),O3=Lb(-1),b3=[{key:"Tab",run:m3,shift:O3},{key:"Escape",run:g3}],xg=K.define({combine(t){return t.length?t[0]:b3}}),v3=xr.highest(Yo.compute([xg],t=>t.facet(xg)));function jt(t,e){return Object.assign(Object.assign({},e),{apply:p3(t)})}const y3=F.domEventHandlers({mousedown(t,e){let i=e.state.field(So,!1),n;if(!i||(n=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let r=i.ranges.find(s=>s.from<=n&&s.to>=n);return!r||r.field==i.active?!1:(e.dispatch({selection:Lf(i.ranges,r.field),effects:Uo.of(i.ranges.some(s=>s.field>r.field)?new ms(i.ranges,r.field):null)}),!0)}}),wo={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},or=be.define({map(t,e){let i=e.mapPos(t,-1,St.TrackAfter);return i??void 0}}),jf=new class extends ur{};jf.startSide=1;jf.endSide=-1;const jb=Ot.define({create(){return Ee.empty},update(t,e){if(e.selection){let i=e.state.doc.lineAt(e.selection.main.head).from,n=e.startState.doc.lineAt(e.startState.selection.main.head).from;i!=e.changes.mapPos(n,-1)&&(t=Ee.empty)}t=t.map(e.changes);for(let i of e.effects)i.is(or)&&(t=t.update({add:[jf.range(i.value,i.value+1)]}));return t}});function x3(){return[w3,jb]}const rh="()[]{}<>";function Nb(t){for(let e=0;e<rh.length;e+=2)if(rh.charCodeAt(e)==t)return rh.charAt(e+1);return cf(t<128?t:t+1)}function Yb(t,e){return t.languageDataAt("closeBrackets",e)[0]||wo}const S3=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),w3=F.inputHandler.of((t,e,i,n)=>{if((S3?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let r=t.state.selection.main;if(n.length>2||n.length==2&&ui(yt(n,0))==1||e!=r.from||i!=r.to)return!1;let s=$3(t.state,n);return s?(t.dispatch(s),!0):!1}),k3=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Yb(t,t.selection.main.head).brackets||wo.brackets,r=null,s=t.changeByRange(o=>{if(o.empty){let a=_3(t.doc,o.head);for(let l of n)if(l==a&&Oc(t.doc,o.head)==Nb(yt(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:Q.cursor(o.head-l.length)}}return{range:r=o}});return r||e(t.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!r},C3=[{key:"Backspace",run:k3}];function $3(t,e){let i=Yb(t,t.selection.main.head),n=i.brackets||wo.brackets;for(let r of n){let s=Nb(yt(r,0));if(e==r)return s==r?Q3(t,r,n.indexOf(r+r+r)>-1,i):P3(t,r,s,i.before||wo.before);if(e==s&&Bb(t,t.selection.main.from))return T3(t,r,s)}return null}function Bb(t,e){let i=!1;return t.field(jb).between(0,t.doc.length,n=>{n==e&&(i=!0)}),i}function Oc(t,e){let i=t.sliceString(e,e+2);return i.slice(0,ui(yt(i,0)))}function _3(t,e){let i=t.sliceString(e-2,e);return ui(yt(i,0))==i.length?i:i.slice(1)}function P3(t,e,i,n){let r=null,s=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:i,from:o.to}],effects:or.of(o.to+e.length),range:Q.range(o.anchor+e.length,o.head+e.length)};let a=Oc(t.doc,o.head);return!a||/\s/.test(a)||n.indexOf(a)>-1?{changes:{insert:e+i,from:o.head},effects:or.of(o.head+e.length),range:Q.cursor(o.head+e.length)}:{range:r=o}});return r?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function T3(t,e,i){let n=null,r=t.changeByRange(s=>s.empty&&Oc(t.doc,s.head)==i?{changes:{from:s.head,to:s.head+i.length,insert:i},range:Q.cursor(s.head+i.length)}:n={range:s});return n?null:t.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function Q3(t,e,i,n){let r=n.stringPrefixes||wo.stringPrefixes,s=null,o=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:or.of(a.to+e.length),range:Q.range(a.anchor+e.length,a.head+e.length)};let l=a.head,c=Oc(t.doc,l),h;if(c==e){if(Sg(t,l))return{changes:{insert:e+e,from:l},effects:or.of(l+e.length),range:Q.cursor(l+e.length)};if(Bb(t,l)){let f=i&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+f.length,insert:f},range:Q.cursor(l+f.length)}}}else{if(i&&t.sliceDoc(l-2*e.length,l)==e+e&&(h=wg(t,l-2*e.length,r))>-1&&Sg(t,h))return{changes:{insert:e+e+e+e,from:l},effects:or.of(l+e.length),range:Q.cursor(l+e.length)};if(t.charCategorizer(l)(c)!=ze.Word&&wg(t,l,r)>-1&&!A3(t,l,e,r))return{changes:{insert:e+e,from:l},effects:or.of(l+e.length),range:Q.cursor(l+e.length)}}return{range:s=a}});return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function Sg(t,e){let i=ut(t).resolveInner(e+1);return i.parent&&i.from==e}function A3(t,e,i,n){let r=ut(t).resolveInner(e,-1),s=n.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=t.sliceDoc(r.from,Math.min(r.to,r.from+i.length+s)),l=a.indexOf(i);if(!l||l>-1&&n.indexOf(a.slice(0,l))>-1){let h=r.firstChild;for(;h&&h.from==r.from&&h.to-h.from>i.length+l;){if(t.sliceDoc(h.to-i.length,h.to)==i)return!1;h=h.firstChild}return!0}let c=r.to==e&&r.parent;if(!c)break;r=c}return!1}function wg(t,e,i){let n=t.charCategorizer(e);if(n(t.sliceDoc(e-1,e))!=ze.Word)return e;for(let r of i){let s=e-r.length;if(t.sliceDoc(s,e)==r&&n(t.sliceDoc(s-1,s))!=ze.Word)return s}return-1}function E3(t={}){return[Kt,Xt.of(t),c3,R3,Db]}const Vb=[{key:"Ctrl-Space",run:r3},{key:"Escape",run:s3},{key:"ArrowDown",run:_a(!0)},{key:"ArrowUp",run:_a(!1)},{key:"PageDown",run:_a(!0,"page")},{key:"PageUp",run:_a(!1,"page")},{key:"Enter",run:n3}],R3=xr.highest(Yo.computeN([Xt],t=>t.facet(Xt).defaultKeymap?[Vb]:[]));class I3{constructor(e,i,n){this.from=e,this.to=i,this.diagnostic=n}}class tr{constructor(e,i,n){this.diagnostics=e,this.panel=i,this.selected=n}static init(e,i,n){let r=e,s=n.facet(Ub).markerFilter;s&&(r=s(r));let o=fe.set(r.map(a=>a.from==a.to||a.from==a.to-1&&n.doc.lineAt(a.from).to==a.from?fe.widget({widget:new V3(a),diagnostic:a}).range(a.from):fe.mark({attributes:{class:"cm-lintRange cm-lintRange-"+a.severity+(a.markClass?" "+a.markClass:"")},diagnostic:a}).range(a.from,a.to)),!0);return new tr(o,i,Kr(o))}}function Kr(t,e=null,i=0){let n=null;return t.between(i,1e9,(r,s,{spec:o})=>{if(!(e&&o.diagnostic!=e))return n=new I3(r,s,o.diagnostic),!1}),n}function Z3(t,e){let i=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(n=>n.is(Xb))||t.changes.touchesRange(i.from,i.to))}function M3(t,e){return t.field(ei,!1)?e:e.concat(be.appendConfig.of(U3))}const Xb=be.define(),Nf=be.define(),Wb=be.define(),ei=Ot.define({create(){return new tr(fe.none,null,null)},update(t,e){if(e.docChanged){let i=t.diagnostics.map(e.changes),n=null;if(t.selected){let r=e.changes.mapPos(t.selected.from,1);n=Kr(i,t.selected.diagnostic,r)||Kr(i,null,r)}t=new tr(i,t.panel,n)}for(let i of e.effects)i.is(Xb)?t=tr.init(i.value,t.panel,e.state):i.is(Nf)?t=new tr(t.diagnostics,i.value?bc.open:null,t.selected):i.is(Wb)&&(t=new tr(t.diagnostics,t.panel,i.value));return t},provide:t=>[bo.from(t,e=>e.panel),F.decorations.from(t,e=>e.diagnostics)]}),D3=fe.mark({class:"cm-lintRange cm-lintRange-active"});function L3(t,e,i){let{diagnostics:n}=t.state.field(ei),r=[],s=2e8,o=0;n.between(e-(i<0?1:0),e+(i>0?1:0),(l,c,{spec:h})=>{e>=l&&e<=c&&(l==c||(e>l||i>0)&&(e<c||i<0))&&(r.push(h.diagnostic),s=Math.min(l,s),o=Math.max(c,o))});let a=t.state.facet(Ub).tooltipFilter;return a&&(r=a(r)),r.length?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create(){return{dom:j3(t,r)}}}:null}function j3(t,e){return Le("ul",{class:"cm-tooltip-lint"},e.map(i=>zb(t,i,!1)))}const N3=t=>{let e=t.state.field(ei,!1);(!e||!e.panel)&&t.dispatch({effects:M3(t.state,[Nf.of(!0)])});let i=Oo(t,bc.open);return i&&i.dom.querySelector(".cm-panel-lint ul").focus(),!0},kg=t=>{let e=t.state.field(ei,!1);return!e||!e.panel?!1:(t.dispatch({effects:Nf.of(!1)}),!0)},Y3=t=>{let e=t.state.field(ei,!1);if(!e)return!1;let i=t.state.selection.main,n=e.diagnostics.iter(i.to+1);return!n.value&&(n=e.diagnostics.iter(0),!n.value||n.from==i.from&&n.to==i.to)?!1:(t.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)},B3=[{key:"Mod-Shift-m",run:N3,preventDefault:!0},{key:"F8",run:Y3}],Ub=K.define({combine(t){return Object.assign({sources:t.map(e=>e.source)},Vi(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,i)=>e?i?n=>e(n)||i(n):e:i}))}});function Fb(t){let e=[];if(t)e:for(let{name:i}of t){for(let n=0;n<i.length;n++){let r=i[n];if(/[a-zA-Z]/.test(r)&&!e.some(s=>s.toLowerCase()==r.toLowerCase())){e.push(r);continue e}}e.push("")}return e}function zb(t,e,i){var n;let r=i?Fb(e.actions):[];return Le("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Le("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(n=e.actions)===null||n===void 0?void 0:n.map((s,o)=>{let a=!1,l=f=>{if(f.preventDefault(),a)return;a=!0;let d=Kr(t.state.field(ei).diagnostics,e);d&&s.apply(t,d.from,d.to)},{name:c}=s,h=r[o]?c.indexOf(r[o]):-1,u=h<0?c:[c.slice(0,h),Le("u",c.slice(h,h+1)),c.slice(h+1)];return Le("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${h<0?"":` (access key "${r[o]})"`}.`},u)}),e.source&&Le("div",{class:"cm-diagnosticSource"},e.source))}class V3 extends Xi{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return Le("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class Cg{constructor(e,i){this.diagnostic=i,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=zb(e,i,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class bc{constructor(e){this.view=e,this.items=[];let i=r=>{if(r.keyCode==27)kg(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=Fb(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==r.keyCode){let l=Kr(this.view.state.field(ei).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;r.preventDefault()},n=r=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(r.target)&&this.moveSelection(s)};this.list=Le("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:i,onclick:n}),this.dom=Le("div",{class:"cm-panel-lint"},this.list,Le("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>kg(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(ei).selected;if(!e)return-1;for(let i=0;i<this.items.length;i++)if(this.items[i].diagnostic==e.diagnostic)return i;return-1}update(){let{diagnostics:e,selected:i}=this.view.state.field(ei),n=0,r=!1,s=null;for(e.between(0,this.view.state.doc.length,(o,a,{spec:l})=>{let c=-1,h;for(let u=n;u<this.items.length;u++)if(this.items[u].diagnostic==l.diagnostic){c=u;break}c<0?(h=new Cg(this.view,l.diagnostic),this.items.splice(n,0,h),r=!0):(h=this.items[c],c>n&&(this.items.splice(n,c-n),r=!0)),i&&h.diagnostic==i.diagnostic?h.dom.hasAttribute("aria-selected")||(h.dom.setAttribute("aria-selected","true"),s=h):h.dom.hasAttribute("aria-selected")&&h.dom.removeAttribute("aria-selected"),n++});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new Cg(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:a})=>{o.top<a.top?this.list.scrollTop-=a.top-o.top:o.bottom>a.bottom&&(this.list.scrollTop+=o.bottom-a.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function i(){let n=e;e=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)i();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)i()}moveSelection(e){if(this.selectedIndex<0)return;let i=this.view.state.field(ei),n=Kr(i.diagnostics,this.items[e].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:Wb.of(n)})}static open(e){return new bc(e)}}function X3(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function Pa(t){return X3(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const W3=F.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Pa("#d11")},".cm-lintRange-warning":{backgroundImage:Pa("orange")},".cm-lintRange-info":{backgroundImage:Pa("#999")},".cm-lintRange-hint":{backgroundImage:Pa("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),U3=[ei,F.decorations.compute([ei],t=>{let{selected:e,panel:i}=t.field(ei);return!e||!i||e.from==e.to?fe.none:fe.set([D3.range(e.from,e.to)])}),NT(L3,{hideOn:Z3}),W3],qb=(()=>[qT(),KT(),mT(),gA(),NQ(),sT(),hT(),Ce.allowMultipleSelections.of(!0),$Q(),BQ(WQ,{fallback:!0}),KQ(),x3(),E3(),QT(),RT(),ST(),vE(),Yo.of([...C3,...dE,...LE,...kA,...MQ,...Vb,...B3])])();let F3=class Pu{constructor(e,i,n,r,s,o,a,l,c,h=0,u){this.p=e,this.stack=i,this.state=n,this.reducePos=r,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=h,this.parent=u}toString(){return`[${this.stack.filter((e,i)=>i%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,i,n=0){let r=e.parser.context;return new Pu(e,[],i,n,n,0,[],0,r?new $g(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,i){this.stack.push(this.state,i,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var i;let n=e>>19,r=e&65535,{parser:s}=this.p,o=s.dynamicPrecedence(r);if(o&&(this.score+=o),n==0){this.pushState(s.getGoto(this.state,r,!0),this.reducePos),r<s.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,4,!0),this.reduceContext(r,this.reducePos);return}let a=this.stack.length-(n-1)*3-(e&262144?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,c=this.reducePos-l;c>=2e3&&!(!((i=this.p.parser.nodeSet.types[r])===null||i===void 0)&&i.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=c));let h=a?this.stack[a-1]:0,u=this.bufferBase+this.buffer.length-h;if(r<s.minRepeatTerm||e&131072){let f=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,l,f,u+4,!0)}if(e&262144)this.state=this.stack[a];else{let f=this.stack[a-3];this.state=s.getGoto(f,r,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(r,l)}storeNode(e,i,n,r=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(i==n)return;if(o.buffer[a-2]>=i){o.buffer[a-2]=n;return}}}if(!s||this.pos==n)this.buffer.push(e,i,n,r);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0)for(;o>0&&this.buffer[o-2]>n;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,r>4&&(r-=4);this.buffer[o]=e,this.buffer[o+1]=i,this.buffer[o+2]=n,this.buffer[o+3]=r}}shift(e,i,n){let r=this.pos;if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=n,this.shiftContext(i,r),i<=this.p.parser.maxNode&&this.buffer.push(i,r,n,4);else{let s=e,{parser:o}=this.p;(n>this.pos||i<=o.maxNode)&&(this.pos=n,o.stateFlag(s,1)||(this.reducePos=n)),this.pushState(s,r),this.shiftContext(i,r),i<=o.maxNode&&this.buffer.push(i,r,n,4)}}apply(e,i,n){e&65536?this.reduce(e):this.shift(e,i,n)}useNode(e,i){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(i,r),this.buffer.push(n,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,i=e.buffer.length;for(;i>0&&e.buffer[i-2]>e.reducePos;)i-=4;let n=e.buffer.slice(i),r=e.bufferBase+i;for(;e&&r==e.bufferBase;)e=e.parent;return new Pu(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,i){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,i,4),this.storeNode(0,this.pos,i,n?8:4),this.pos=this.reducePos=i,this.score-=190}canShift(e){for(let i=new z3(this);;){let n=this.p.parser.stateSlot(i.state,4)||this.p.parser.hasAction(i.state,e);if(n==0)return!1;if(!(n&65536))return!0;i.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let i=this.p.parser.nextStates(this.state);if(i.length>8||this.stack.length>=120){let r=[];for(let s=0,o;s<i.length;s+=2)(o=i[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&r.push(i[s],o);if(this.stack.length<120)for(let s=0;r.length<8&&s<i.length;s+=2){let o=i[s+1];r.some((a,l)=>l&1&&a==o)||r.push(i[s],o)}i=r}let n=[];for(let r=0;r<i.length&&n.length<4;r+=2){let s=i[r+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(i[r],this.pos),o.score-=200,n.push(o)}return n}forceReduce(){let{parser:e}=this.p,i=e.stateSlot(this.state,5);if(!(i&65536))return!1;if(!e.validAction(this.state,i)){let n=i>>19,r=i&65535,s=this.stack.length-n*3;if(s<0||e.getGoto(this.stack[s],r,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;i=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(i),!0}findForcedReduction(){let{parser:e}=this.p,i=[],n=(r,s)=>{if(!i.includes(r))return i.push(r),e.allActions(r,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,c=this.stack.length-a*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=n(o,s+1);if(a!=null)return a}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let i=0;i<this.stack.length;i+=3)if(this.stack[i]!=e.stack[i])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,i){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(i)))}reduceContext(e,i){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(i)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let i=new $g(this.curContext.tracker,e);i.hash!=this.curContext.hash&&this.emitContext(),this.curContext=i}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}};class $g{constructor(e,i){this.tracker=e,this.context=i,this.hash=e.strict?e.hash(i):0}}class z3{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let i=e&65535,n=e>>19;n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(n-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],i,!0);this.state=r}}class Rl{constructor(e,i,n){this.stack=e,this.pos=i,this.index=n,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,i=e.bufferBase+e.buffer.length){return new Rl(e,i,i-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Rl(this.stack,this.pos,this.index)}}function Ws(t,e=Uint16Array){if(typeof t!="string")return t;let i=null;for(let n=0,r=0;n<t.length;){let s=0;for(;;){let o=t.charCodeAt(n++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}i?i[r++]=s:i=new e(s)}return i}class za{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const _g=new za;class q3{constructor(e,i){this.input=e,this.ranges=i,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=_g,this.rangeIndex=0,this.pos=this.chunkPos=i[0].from,this.range=i[0],this.end=i[i.length-1].to,this.readNext()}resolveOffset(e,i){let n=this.range,r=this.rangeIndex,s=this.pos+e;for(;s<n.from;){if(!r)return null;let o=this.ranges[--r];s-=n.from-o.to,n=o}for(;i<0?s>n.to:s>=n.to;){if(r==this.ranges.length-1)return null;let o=this.ranges[++r];s+=o.from-n.to,n=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let i of this.ranges)if(i.to>e)return Math.max(e,i.from);return this.end}peek(e){let i=this.chunkOff+e,n,r;if(i>=0&&i<this.chunk.length)n=this.pos+e,r=this.chunk.charCodeAt(i);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(n=s,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=n;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-n)),r=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),r}acceptToken(e,i=0){let n=i?this.resolveOffset(i,-1):this.pos;if(n==null||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:i}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=i,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),i=this.pos+e.length;this.chunk=i>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,i){if(i?(this.token=i,i.start=e,i.lookAhead=e+1,i.value=i.extended=-1):this.token=_g,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,i){if(e>=this.chunkPos&&i<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,i-this.chunkPos);if(e>=this.chunk2Pos&&i<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,i-this.chunk2Pos);if(e>=this.range.from&&i<=this.range.to)return this.input.read(e,i);let n="";for(let r of this.ranges){if(r.from>=i)break;r.to>e&&(n+=this.input.read(Math.max(r.from,e),Math.min(r.to,i)))}return n}}class Xr{constructor(e,i){this.data=e,this.id=i}token(e,i){let{parser:n}=i.p;Gb(this.data,e,i,this.id,n.data,n.tokenPrecTable)}}Xr.prototype.contextual=Xr.prototype.fallback=Xr.prototype.extend=!1;class Tu{constructor(e,i,n){this.precTable=i,this.elseToken=n,this.data=typeof e=="string"?Ws(e):e}token(e,i){let n=e.pos,r=0;for(;;){let s=e.next<0,o=e.resolveOffset(1,1);if(Gb(this.data,e,i,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||r++,o==null)break;e.reset(o,e.token)}r&&(e.reset(n,e.token),e.acceptToken(this.elseToken,r))}}Tu.prototype.contextual=Xr.prototype.fallback=Xr.prototype.extend=!1;class Yf{constructor(e,i={}){this.token=e,this.contextual=!!i.contextual,this.fallback=!!i.fallback,this.extend=!!i.extend}}function Gb(t,e,i,n,r,s){let o=0,a=1<<n,{dialect:l}=i.p.parser;e:for(;a&t[o];){let c=t[o+1];for(let d=o+3;d<c;d+=2)if((t[d+1]&a)>0){let p=t[d];if(l.allows(p)&&(e.token.value==-1||e.token.value==p||G3(p,e.token.value,r,s))){e.acceptToken(p);break}}let h=e.next,u=0,f=t[o+2];if(e.next<0&&f>u&&t[c+f*3-3]==65535&&t[c+f*3-3]==65535){o=t[c+f*3-1];continue e}for(;u<f;){let d=u+f>>1,p=c+d+(d<<1),g=t[p],m=t[p+1]||65536;if(h<g)f=d;else if(h>=m)u=d+1;else{o=t[p+2],e.advance();continue e}}break}}function Pg(t,e,i){for(let n=e,r;(r=t[n])!=65535;n++)if(r==i)return n-e;return-1}function G3(t,e,i,n){let r=Pg(i,n,e);return r<0||Pg(i,n,t)<r}const zt=typeof process<"u"&&process.env&&/\bparse\b/.test({}.LOG);let sh=null;function Tg(t,e,i){let n=t.cursor(lt.IncludeAnonymous);for(n.moveTo(e);;)if(!(i<0?n.childBefore(e):n.childAfter(e)))for(;;){if((i<0?n.to<e:n.from>e)&&!n.type.isError)return i<0?Math.max(0,Math.min(n.to-1,e-25)):Math.min(t.length,Math.max(n.from+1,e+25));if(i<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return i<0?0:t.length}}class H3{constructor(e,i){this.fragments=e,this.nodeSet=i,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Tg(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Tg(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let i=this.trees.length-1;if(i<0)return this.nextFragment(),null;let n=this.trees[i],r=this.index[i];if(r==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=n.children[r],o=this.start[i]+n.positions[r];if(o>e)return this.nextStart=o,null;if(s instanceof st){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(Se.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[i]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[i]++,this.nextStart=o+s.length}}}class K3{constructor(e,i){this.stream=i,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(n=>new za)}getActions(e){let i=0,n=null,{parser:r}=e.p,{tokenizers:s}=r,o=r.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<s.length;c++){if(!(1<<c&o))continue;let h=s[c],u=this.tokens[c];if(!(n&&!h.fallback)&&((h.contextual||u.start!=e.pos||u.mask!=o||u.context!=a)&&(this.updateCachedToken(u,h,e),u.mask=o,u.context=a),u.lookAhead>u.end+25&&(l=Math.max(u.lookAhead,l)),u.value!=0)){let f=i;if(u.extended>-1&&(i=this.addActions(e,u.extended,u.end,i)),i=this.addActions(e,u.value,u.end,i),!h.extend&&(n=u,i>f))break}}for(;this.actions.length>i;)this.actions.pop();return l&&e.setLookAhead(l),!n&&e.pos==this.stream.end&&(n=new za,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,i=this.addActions(e,n.value,n.end,i)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let i=new za,{pos:n,p:r}=e;return i.start=n,i.end=Math.min(n+1,r.stream.end),i.value=n==r.stream.end?r.parser.eofTerm:0,i}updateCachedToken(e,i,n){let r=this.stream.clipPos(n.pos);if(i.token(this.stream.reset(r,e),n),e.value>-1){let{parser:s}=n.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),n);if(a>=0&&n.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,i,n,r){for(let s=0;s<r;s+=3)if(this.actions[s]==e)return r;return this.actions[r++]=e,this.actions[r++]=i,this.actions[r++]=n,r}addActions(e,i,n,r){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let c=o.stateSlot(s,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=Ji(a,c+2);else{r==0&&a[c+1]==2&&(r=this.putAction(Ji(a,c+2),i,n,r));break}a[c]==i&&(r=this.putAction(Ji(a,c+1),i,n,r))}return r}}class J3{constructor(e,i,n,r){this.parser=e,this.input=i,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new q3(i,r),this.tokens=new K3(e,this.stream),this.topTerm=e.top[1];let{from:s}=r[0];this.stacks=[F3.start(this,e.top[0],s)],this.fragments=n.length&&this.stream.end-s>e.bufferLength*4?new H3(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,i=this.minStackPos,n=this.stacks=[],r,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>i)n.push(a);else{if(this.advanceStack(a,n,e))continue;{r||(r=[],s=[]),r.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!n.length){let o=r&&iR(r);if(o)return zt&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw zt&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+i);this.recovering||(this.recovering=5)}if(this.recovering&&r){let o=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,s,n);if(o)return zt&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(n.length>o)for(n.sort((a,l)=>l.score-a.score);n.length>o;)n.pop();n.some(a=>a.reducePos>i)&&this.recovering--}else if(n.length>1){e:for(let o=0;o<n.length-1;o++){let a=n[o];for(let l=o+1;l<n.length;l++){let c=n[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)n.splice(l--,1);else{n.splice(o--,1);continue e}}}n.length>12&&n.splice(12,n.length-12)}this.minStackPos=n[0].pos;for(let o=1;o<n.length;o++)n[o].pos<this.minStackPos&&(this.minStackPos=n[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,i,n){let r=e.pos,{parser:s}=this,o=zt?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,h=c?e.curContext.hash:0;for(let u=this.fragments.nodeAt(r);u;){let f=this.parser.nodeSet.types[u.type.id]==u.type?s.getGoto(e.state,u.type.id):-1;if(f>-1&&u.length&&(!c||(u.prop(Se.contextHash)||0)==h))return e.useNode(u,f),zt&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(u.type.id)})`),!0;if(!(u instanceof st)||u.children.length==0||u.positions[0]>0)break;let d=u.children[0];if(d instanceof st&&u.positions[0]==0)u=d;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),zt&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let h=l[c++],u=l[c++],f=l[c++],d=c==l.length||!n,p=d?e:e.split();if(p.apply(h,u,f),zt&&console.log(o+this.stackID(p)+` (via ${h&65536?`reduce of ${s.getName(h&65535)}`:"shift"} for ${s.getName(u)} @ ${r}${p==e?"":", split"})`),d)return!0;p.pos>r?i.push(p):n.push(p)}return!1}advanceFully(e,i){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return Qg(e,i),!0}}runRecovery(e,i,n){let r=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=i[o<<1],c=i[(o<<1)+1],h=zt?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),zt&&console.log(h+this.stackID(a)+" (restarted)"),this.advanceFully(a,n))))continue;let u=a.split(),f=h;for(let d=0;u.forceReduce()&&d<10&&(zt&&console.log(f+this.stackID(u)+" (via force-reduce)"),!this.advanceFully(u,n));d++)zt&&(f=this.stackID(u)+" -> ");for(let d of a.recoverByInsert(l))zt&&console.log(h+this.stackID(d)+" (via recover-insert)"),this.advanceFully(d,n);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),zt&&console.log(h+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),Qg(a,n)):(!r||r.score<a.score)&&(r=a)}return r}stackToTree(e){return e.close(),st.build({buffer:Rl.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let i=(sh||(sh=new WeakMap)).get(e);return i||sh.set(e,i=String.fromCodePoint(this.nextStackID++)),i+e}}function Qg(t,e){for(let i=0;i<e.length;i++){let n=e[i];if(n.pos==t.pos&&n.sameState(t)){e[i].score<t.score&&(e[i]=t);return}}e.push(t)}class eR{constructor(e,i,n){this.source=e,this.flags=i,this.disabled=n}allows(e){return!this.disabled||this.disabled[e]==0}}const oh=t=>t;class tR{constructor(e){this.start=e.start,this.shift=e.shift||oh,this.reduce=e.reduce||oh,this.reuse=e.reuse||oh,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Il extends y1{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let i=e.nodeNames.split(" ");this.minRepeatTerm=i.length;for(let a=0;a<e.repeatNodeCount;a++)i.push("");let n=Object.keys(e.topRules).map(a=>e.topRules[a][1]),r=[];for(let a=0;a<i.length;a++)r.push([]);function s(a,l,c){r[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=Se[l]);for(let c=1;c<a.length;){let h=a[c++];if(h>=0)s(h,l,a[c++]);else{let u=a[c+-h];for(let f=-h;f>0;f--)s(a[c++],l,u);c++}}}this.nodeSet=new yf(i.map((a,l)=>Ut.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:r[l],top:n.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=O1;let o=Ws(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(Ag),this.states=Ws(e.states,Uint32Array),this.data=Ws(e.stateData),this.goto=Ws(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new Xr(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,i,n){let r=new J3(this,e,i,n);for(let s of this.wrappers)r=s(r,e,i,n);return r}getGoto(e,i,n=!1){let r=this.goto;if(i>=r[0])return-1;for(let s=r[i+1];;){let o=r[s++],a=o&1,l=r[s++];if(a&&n)return l;for(let c=s+(o>>1);s<c;s++)if(r[s]==e)return l;if(a)return-1}}hasAction(e,i){let n=this.data;for(let r=0;r<2;r++)for(let s=this.stateSlot(e,r?2:1),o;;s+=3){if((o=n[s])==65535)if(n[s+1]==1)o=n[s=Ji(n,s+2)];else{if(n[s+1]==2)return Ji(n,s+2);break}if(o==i||o==0)return Ji(n,s+1)}return 0}stateSlot(e,i){return this.states[e*6+i]}stateFlag(e,i){return(this.stateSlot(e,0)&i)>0}validAction(e,i){return!!this.allActions(e,n=>n==i?!0:null)}allActions(e,i){let n=this.stateSlot(e,4),r=n?i(n):void 0;for(let s=this.stateSlot(e,1);r==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Ji(this.data,s+2);else break;r=i(Ji(this.data,s+1))}return r}nextStates(e){let i=[];for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=Ji(this.data,n+2);else break;if(!(this.data[n+2]&1)){let r=this.data[n+1];i.some((s,o)=>o&1&&s==r)||i.push(this.data[n],r)}}return i}configure(e){let i=Object.assign(Object.create(Il.prototype),this);if(e.props&&(i.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);i.top=n}return e.tokenizers&&(i.tokenizers=this.tokenizers.map(n=>{let r=e.tokenizers.find(s=>s.from==n);return r?r.to:n})),e.specializers&&(i.specializers=this.specializers.slice(),i.specializerSpecs=this.specializerSpecs.map((n,r)=>{let s=e.specializers.find(a=>a.from==n.external);if(!s)return n;let o=Object.assign(Object.assign({},n),{external:s.to});return i.specializers[r]=Ag(o),o})),e.contextTracker&&(i.context=e.contextTracker),e.dialect&&(i.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(i.strict=e.strict),e.wrap&&(i.wrappers=i.wrappers.concat(e.wrap)),e.bufferLength!=null&&(i.bufferLength=e.bufferLength),i}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let i=this.dynamicPrecedences;return i==null?0:i[e]||0}parseDialect(e){let i=Object.keys(this.dialects),n=i.map(()=>!1);if(e)for(let s of e.split(" ")){let o=i.indexOf(s);o>=0&&(n[o]=!0)}let r=null;for(let s=0;s<i.length;s++)if(!n[s])for(let o=this.dialects[i[s]],a;(a=this.data[o++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[a]=1;return new eR(e,n,r)}static deserialize(e){return new Il(e)}}function Ji(t,e){return t[e]|t[e+1]<<16}function iR(t){let e=null;for(let i of t){let n=i.p.stoppedAt;(i.pos==i.p.stream.end||n!=null&&i.pos>n)&&i.p.parser.stateFlag(i.state,2)&&(!e||e.score<i.score)&&(e=i)}return e}function Ag(t){if(t.external){let e=t.extend?1:0;return(i,n)=>t.external(i,n)<<1|e}return t.get}const nR=304,Eg=1,rR=2,sR=305,oR=307,aR=308,lR=3,cR=4,hR=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],Hb=125,uR=59,Rg=47,fR=42,dR=43,pR=45,gR=new tR({start:!1,shift(t,e){return e==lR||e==cR||e==oR?t:e==aR},strict:!1}),mR=new Yf((t,e)=>{let{next:i}=t;(i==Hb||i==-1||e.context)&&t.acceptToken(sR)},{contextual:!0,fallback:!0}),OR=new Yf((t,e)=>{let{next:i}=t,n;hR.indexOf(i)>-1||i==Rg&&((n=t.peek(1))==Rg||n==fR)||i!=Hb&&i!=uR&&i!=-1&&!e.context&&t.acceptToken(nR)},{contextual:!0}),bR=new Yf((t,e)=>{let{next:i}=t;if((i==dR||i==pR)&&(t.advance(),i==t.next)){t.advance();let n=!e.context&&e.canShift(Eg);t.acceptToken(n?Eg:rR)}},{contextual:!0}),vR=x1({"get set async static":_.modifier,"for while do if else switch try catch finally return throw break continue default case":_.controlKeyword,"in of await yield void typeof delete instanceof":_.operatorKeyword,"let var const function class extends":_.definitionKeyword,"import export from":_.moduleKeyword,"with debugger as new":_.keyword,TemplateString:_.special(_.string),super:_.atom,BooleanLiteral:_.bool,this:_.self,null:_.null,Star:_.modifier,VariableName:_.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":_.function(_.variableName),VariableDefinition:_.definition(_.variableName),Label:_.labelName,PropertyName:_.propertyName,PrivatePropertyName:_.special(_.propertyName),"CallExpression/MemberExpression/PropertyName":_.function(_.propertyName),"FunctionDeclaration/VariableDefinition":_.function(_.definition(_.variableName)),"ClassDeclaration/VariableDefinition":_.definition(_.className),PropertyDefinition:_.definition(_.propertyName),PrivatePropertyDefinition:_.definition(_.special(_.propertyName)),UpdateOp:_.updateOperator,"LineComment Hashbang":_.lineComment,BlockComment:_.blockComment,Number:_.number,String:_.string,Escape:_.escape,ArithOp:_.arithmeticOperator,LogicOp:_.logicOperator,BitOp:_.bitwiseOperator,CompareOp:_.compareOperator,RegExp:_.regexp,Equals:_.definitionOperator,Arrow:_.function(_.punctuation),": Spread":_.punctuation,"( )":_.paren,"[ ]":_.squareBracket,"{ }":_.brace,"InterpolationStart InterpolationEnd":_.special(_.brace),".":_.derefOperator,", ;":_.separator,"@":_.meta,TypeName:_.typeName,TypeDefinition:_.definition(_.typeName),"type enum interface implements namespace module declare":_.definitionKeyword,"abstract global Privacy readonly override":_.modifier,"is keyof unique infer":_.operatorKeyword,JSXAttributeValue:_.attributeValue,JSXText:_.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":_.angleBracket,"JSXIdentifier JSXNameSpacedName":_.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":_.attributeName,"JSXBuiltin/JSXIdentifier":_.standard(_.tagName)}),yR={__proto__:null,export:16,as:21,from:29,default:32,async:37,function:38,extends:48,this:52,true:60,false:60,null:72,void:76,typeof:80,super:98,new:132,delete:148,yield:157,await:161,class:166,public:223,private:223,protected:223,readonly:225,instanceof:244,satisfies:247,in:248,const:250,import:282,keyof:337,unique:341,infer:347,is:383,abstract:403,implements:405,type:407,let:410,var:412,using:415,interface:421,enum:425,namespace:431,module:433,declare:437,global:441,for:460,of:469,while:472,with:476,do:480,if:484,else:486,switch:490,case:496,try:502,catch:506,finally:510,return:514,throw:518,break:522,continue:526,debugger:530},xR={__proto__:null,async:119,get:121,set:123,declare:183,public:185,private:185,protected:185,static:187,abstract:189,override:191,readonly:197,accessor:199,new:387},SR={__proto__:null,"<":139},wR=Il.deserialize({version:14,states:"$6zO%TQUOOO%[QUOOO'_QWOOP(lOSOOO*zQ(CjO'#CgO+ROpO'#ChO+aO!bO'#ChO+oO07`O'#D[O.QQUO'#DbO.bQUO'#DmO%[QUO'#DwO0fQUO'#EPOOQ(CY'#EX'#EXO1PQSO'#EUOOQO'#Ej'#EjOOQO'#Id'#IdO1XQSO'#GlO1dQSO'#EiO1iQSO'#EiO3kQ(CjO'#JeO6[Q(CjO'#JfO6xQSO'#FXO6}Q#tO'#FpOOQ(CY'#Fa'#FaO7YO&jO'#FaO7hQ,UO'#FwO9OQSO'#FvOOQ(CY'#Jf'#JfOOQ(CW'#Je'#JeO9TQSO'#GpOOQQ'#KQ'#KQO9`QSO'#IQO9eQ(C[O'#IROOQQ'#JR'#JROOQQ'#IV'#IVQ`QUOOO`QUOOO%[QUO'#DoO9mQUO'#D{O9tQUO'#D}O9ZQSO'#GlO9{Q,UO'#CmO:ZQSO'#EhO:fQSO'#EsO:kQ,UO'#F`O;YQSO'#GlOOQO'#KR'#KRO;_QSO'#KRO;mQSO'#GtO;mQSO'#GuO;mQSO'#GwO9ZQSO'#GzO<dQSO'#G}O={QSO'#CcO>]QSO'#HZO>eQSO'#HaO>eQSO'#HcO`QUO'#HeO>eQSO'#HgO>eQSO'#HjO>jQSO'#HpO>oQ(C]O'#HvO%[QUO'#HxO>zQ(C]O'#HzO?VQ(C]O'#H|O9eQ(C[O'#IOO?bQ(CjO'#CgO@dQWO'#DgQOQSOOO%[QUO'#D}O@zQSO'#EQO9{Q,UO'#EhOAVQSO'#EhOAbQ`O'#F`OOQQ'#Ce'#CeOOQ(CW'#Dl'#DlOOQ(CW'#Ji'#JiO%[QUO'#JiOOQO'#Jm'#JmOOQO'#Ia'#IaOBbQWO'#EaOOQ(CW'#E`'#E`OC^Q(C`O'#EaOChQWO'#ETOOQO'#Jl'#JlOC|QWO'#JmOEZQWO'#ETOChQWO'#EaPEhO?MpO'#C`POOO)CDp)CDpOOOO'#IW'#IWOEsOpO,59SOOQ(CY,59S,59SOOOO'#IX'#IXOFRO!bO,59SO%[QUO'#D^OOOO'#IZ'#IZOFaO07`O,59vOOQ(CY,59v,59vOFoQUO'#I[OGSQSO'#JgOIUQbO'#JgO+}QUO'#JgOI]QSO,59|OIsQSO'#EjOJQQSO'#JuOJ]QSO'#JtOJ]QSO'#JtOJeQSO,5;WOJjQSO'#JsOOQ(CY,5:X,5:XOJqQUO,5:XOLrQ(CjO,5:cOMcQSO,5:kOM|Q(C[O'#JrONTQSO'#JqO9TQSO'#JqONiQSO'#JqONqQSO,5;VONvQSO'#JqO!#OQbO'#JfOOQ(CY'#Cg'#CgO%[QUO'#EPO!#nQ`O,5:pOOQO'#Jn'#JnOOQO-E<b-E<bO9ZQSO,5=WO!$UQSO,5=WO!$ZQUO,5;TO!&^Q,UO'#EeO!'qQSO,5;TO!)ZQ,UO'#DqO!)bQUO'#DvO!)lQWO,5;^O!)tQWO,5;^O%[QUO,5;^OOQQ'#FP'#FPOOQQ'#FR'#FRO%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_OOQQ'#FV'#FVO!*SQUO,5;pOOQ(CY,5;u,5;uOOQ(CY,5;v,5;vO!,VQSO,5;vOOQ(CY,5;w,5;wO%[QUO'#IhO!,_Q(C[O,5<dO!&^Q,UO,5;_O!,|Q,UO,5;_O%[QUO,5;sO!-TQ#tO'#FfO!.QQ#tO'#JyO!-lQ#tO'#JyO!.XQ#tO'#JyOOQO'#Jy'#JyO!.mQ#tO,5<OOOOO,5<[,5<[O!/OQUO'#FrOOOO'#Ig'#IgO7YO&jO,5;{O!/VQ#tO'#FtOOQ(CY,5;{,5;{O!/vQ7[O'#CsOOQ(CY'#Cw'#CwO!0ZQSO'#CwO!0`O07`O'#C{O!0|Q,UO,5<aO!1TQSO,5<cO!2jQMhO'#GRO!2wQSO'#GSO!2|QSO'#GSO!3RQMhO'#GWO!4QQWO'#G[O!4sQ7[O'#J`OOQ(CY'#J`'#J`O!4}QSO'#J_O!5]QSO'#J^O!5eQSO'#CrOOQ(CY'#Cu'#CuOOQ(CY'#DP'#DPOOQ(CY'#DR'#DRO1SQSO'#DTO!'vQ,UO'#FyO!'vQ,UO'#F{O!5mQSO'#F}O!5rQSO'#GOO!2|QSO'#GUO!'vQ,UO'#GZO!5wQSO'#EkO!6fQSO,5<bOOQ(CW'#Cp'#CpO!6nQSO'#ElO!7hQWO'#EmOOQ(CW'#Js'#JsO!7oQ(C[O'#KSO9eQ(C[O,5=[O`QUO,5>lOOQQ'#JZ'#JZOOQQ,5>m,5>mOOQQ-E<T-E<TO!9qQ(CjO,5:ZO!<_Q(CjO,5:gO%[QUO,5:gO!>xQ(CjO,5:iOOQO,5@m,5@mO!?iQ,UO,5=WO!?wQ(C[O'#J[O9OQSO'#J[O!@YQ(C[O,59XO!@eQWO,59XO!@mQ,UO,59XO9{Q,UO,59XO!@xQSO,5;TO!AQQSO'#HYO!AcQSO'#KVO%[QUO,5;xO!7cQWO,5;zO!AkQSO,5=sO!ApQSO,5=sO!AuQSO,5=sO9eQ(C[O,5=sO;mQSO,5=cOOQO'#Cs'#CsO!BTQWO,5=`O!B]Q,UO,5=aO!BhQSO,5=cO!BmQ`O,5=fO!BuQSO'#KRO>jQSO'#HPO9ZQSO'#HRO!BzQSO'#HRO9{Q,UO'#HTO!CPQSO'#HTOOQQ,5=i,5=iO!CUQSO'#HUO!C^QSO'#CmO!CcQSO,58}O!CmQSO,58}O!ErQUO,58}OOQQ,58},58}O!FSQ(C[O,58}O%[QUO,58}O!H_QUO'#H]OOQQ'#H^'#H^OOQQ'#H_'#H_O`QUO,5=uO!HuQSO,5=uO`QUO,5={O`QUO,5=}O!HzQSO,5>PO`QUO,5>RO!IPQSO,5>UO!IUQUO,5>[OOQQ,5>b,5>bO%[QUO,5>bO9eQ(C[O,5>dOOQQ,5>f,5>fO!M`QSO,5>fOOQQ,5>h,5>hO!M`QSO,5>hOOQQ,5>j,5>jO!MeQWO'#DYO%[QUO'#JiO!NSQWO'#JiO!NqQWO'#DhO# SQWO'#DhO##eQUO'#DhO##lQSO'#JhO##tQSO,5:RO##yQSO'#EnO#$XQSO'#JvO#$aQSO,5;XO#$fQWO'#DhO#$sQWO'#ESOOQ(CY,5:l,5:lO%[QUO,5:lO#$zQSO,5:lO>jQSO,5;SO!@eQWO,5;SO!@mQ,UO,5;SO9{Q,UO,5;SO#%SQSO,5@TO#%XQ!LQO,5:pOOQO-E<_-E<_O#&_Q(C`O,5:{OChQWO,5:oO#&iQWO,5:oOChQWO,5:{O!@YQ(C[O,5:oOOQ(CW'#Ed'#EdOOQO,5:{,5:{O%[QUO,5:{O#&vQ(C[O,5:{O#'RQ(C[O,5:{O!@eQWO,5:oOOQO,5;R,5;RO#'aQ(C[O,5:{POOO'#IU'#IUP#'uO?MpO,58zPOOO,58z,58zOOOO-E<U-E<UOOQ(CY1G.n1G.nOOOO-E<V-E<VO#(QQ`O,59xOOOO-E<X-E<XOOQ(CY1G/b1G/bO#(VQbO,5>vO+}QUO,5>vOOQO,5>|,5>|O#(aQUO'#I[OOQO-E<Y-E<YO#(nQSO,5@RO#(vQbO,5@RO#(}QSO,5@`OOQ(CY1G/h1G/hO%[QUO,5@aO#)VQSO'#IbOOQO-E<`-E<`O#(}QSO,5@`OOQ(CW1G0r1G0rOOQ(CY1G/s1G/sOOQ(CY1G0V1G0VO%[QUO,5@^O#)kQ(C[O,5@^O#)|Q(C[O,5@^O#*TQSO,5@]O9TQSO,5@]O#*]QSO,5@]O#*kQSO'#IeO#*TQSO,5@]OOQ(CW1G0q1G0qO!)lQWO,5:rO!)wQWO,5:rOOQO,5:t,5:tO#+]QSO,5:tO#+eQ,UO1G2rO9ZQSO1G2rOOQ(CY1G0o1G0oO#+sQ(CjO1G0oO#,xQ(ChO,5;POOQ(CY'#GQ'#GQO#-fQ(CjO'#J`O!$ZQUO1G0oO#/nQ,UO'#JjO#/xQSO,5:]O#/}QbO'#JkO%[QUO'#JkO#0XQSO,5:bOOQ(CY'#DY'#DYOOQ(CY1G0x1G0xO%[QUO1G0xOOQ(CY1G1b1G1bO#0^QSO1G0xO#2uQ(CjO1G0yO#2|Q(CjO1G0yO#5gQ(CjO1G0yO#5nQ(CjO1G0yO#7xQ(CjO1G0yO#8`Q(CjO1G0yO#;YQ(CjO1G0yO#;aQ(CjO1G0yO#=zQ(CjO1G0yO#>RQ(CjO1G0yO#?yQ(CjO1G0yO#ByQ$IUO'#CgO#DwQ$IUO1G1[O#EOQ$IUO'#JfO!,YQSO1G1bO#E`Q(CjO,5?SOOQ(CW-E<f-E<fO#FSQ(CjO1G0yOOQ(CY1G0y1G0yO#H_Q(CjO1G1_O#IRQ#tO,5<SO#IZQ#tO,5<TO#IcQ#tO'#FkO#IzQSO'#FjOOQO'#Jz'#JzOOQO'#If'#IfO#JPQ#tO1G1jOOQ(CY1G1j1G1jOOOO1G1u1G1uO#JbQ$IUO'#JeO#JlQSO,5<^O!*SQUO,5<^OOOO-E<e-E<eOOQ(CY1G1g1G1gO#JqQWO'#JyOOQ(CY,5<`,5<`O#JyQWO,5<`OOQ(CY,59c,59cO!&^Q,UO'#C}OOOO'#IY'#IYO#KOO07`O,59gOOQ(CY,59g,59gO%[QUO1G1{O!5rQSO'#IjO#KZQ,UO,5<tOOQ(CY,5<q,5<qOOQO'#Gg'#GgO!'vQ,UO,5=QOOQO'#Gi'#GiO!'vQ,UO,5=SO!&^Q,UO,5=UOOQO1G1}1G1}O#KbQ`O'#CpO#KuQ`O,5<mO#K|QSO'#J}O9ZQSO'#J}O#L[QSO,5<oO!'vQ,UO,5<nO#LaQSO'#GTO#LlQSO,5<nO#LqQ`O'#GQO#MOQ`O'#KOO#MYQSO'#KOO!&^Q,UO'#KOO#M_QSO,5<rO#MdQWO'#G]O!3{QWO'#G]O#MuQSO'#G_O#MzQSO'#GaO!2|QSO'#GdO#NPQ(C[O'#IlO#N[QWO,5<vOOQ(CY,5<v,5<vO#NcQWO'#G]O#NqQWO'#G^O#NyQWO'#G^OOQ(CY,5=V,5=VO!'vQ,UO,5?yO!'vQ,UO,5?yO$ OQSO'#ImO$ ZQSO,5?xO$ cQSO,59^O$!SQ,UO,59oOOQ(CY,59o,59oO$!uQ,UO,5<eO$#hQ,UO,5<gO@[QSO,5<iOOQ(CY,5<j,5<jO$#rQSO,5<pO$#wQ,UO,5<uO$$XQSO'#JqO!$ZQUO1G1|O$$^QSO1G1|O9TQSO'#JtO9TQSO'#EnO%[QUO'#EnO9TQSO'#IoO$$cQ(C[O,5@nOOQQ1G2v1G2vOOQQ1G4W1G4WOOQ(CY1G/u1G/uO!,VQSO1G/uO$&hQ(CjO1G0ROOQQ1G2r1G2rO!&^Q,UO1G2rO%[QUO1G2rO$'XQSO1G2rO$'dQ,UO'#EeOOQ(CW,5?v,5?vO$'nQ(C[O,5?vOOQQ1G.s1G.sO!@YQ(C[O1G.sO!@eQWO1G.sO!@mQ,UO1G.sO$(PQSO1G0oO$(UQSO'#CgO$(aQSO'#KWO$(iQSO,5=tO$(nQSO'#KWO$(sQSO'#KWO$)OQSO'#IuO$)^QSO,5@qO$)fQbO1G1dOOQ(CY1G1f1G1fO9ZQSO1G3_O@[QSO1G3_O$)mQSO1G3_O$)rQSO1G3_OOQQ1G3_1G3_O!BhQSO1G2}O!&^Q,UO1G2zO$)wQSO1G2zOOQQ1G2{1G2{O!&^Q,UO1G2{O$)|QSO1G2{O$*UQWO'#GyOOQQ1G2}1G2}O!3{QWO'#IqO!BmQ`O1G3QOOQQ1G3Q1G3QOOQQ,5=k,5=kO$*^Q,UO,5=mO9ZQSO,5=mO#MzQSO,5=oO9OQSO,5=oO!@eQWO,5=oO!@mQ,UO,5=oO9{Q,UO,5=oO$*lQSO'#KUO$*wQSO,5=pOOQQ1G.i1G.iO$*|Q(C[O1G.iO@[QSO1G.iO$+XQSO1G.iO9eQ(C[O1G.iO$-^QbO,5@sO$-nQSO,5@sO9TQSO,5@sO$-yQUO,5=wO$.QQSO,5=wOOQQ1G3a1G3aO`QUO1G3aOOQQ1G3g1G3gOOQQ1G3i1G3iO>eQSO1G3kO$.VQUO1G3mO$2ZQUO'#HlOOQQ1G3p1G3pO$2hQSO'#HrO>jQSO'#HtOOQQ1G3v1G3vO$2pQUO1G3vO9eQ(C[O1G3|OOQQ1G4O1G4OOOQ(CW'#GX'#GXO9eQ(C[O1G4QO9eQ(C[O1G4SO$6wQSO,5@TO!*SQUO,5;YO9TQSO,5;YO>jQSO,5:SO!*SQUO,5:SO!@eQWO,5:SO$6|Q$IUO,5:SOOQO,5;Y,5;YO$7WQWO'#I]O$7nQSO,5@SOOQ(CY1G/m1G/mO$7vQWO'#IcO$8QQSO,5@bOOQ(CW1G0s1G0sO# SQWO,5:SOOQO'#I`'#I`O$8YQWO,5:nOOQ(CY,5:n,5:nO#$}QSO1G0WOOQ(CY1G0W1G0WO%[QUO1G0WOOQ(CY1G0n1G0nO>jQSO1G0nO!@eQWO1G0nO!@mQ,UO1G0nOOQ(CW1G5o1G5oO!@YQ(C[O1G0ZOOQO1G0g1G0gO%[QUO1G0gO$8aQ(C[O1G0gO$8lQ(C[O1G0gO!@eQWO1G0ZOChQWO1G0ZO$8zQ(C[O1G0gOOQO1G0Z1G0ZO$9`Q(CjO1G0gPOOO-E<S-E<SPOOO1G.f1G.fOOOO1G/d1G/dO$9jQ`O,5<dO$9rQbO1G4bOOQO1G4h1G4hO%[QUO,5>vO$9|QSO1G5mO$:UQSO1G5zO$:^QbO1G5{O9TQSO,5>|O$:hQ(CjO1G5xO%[QUO1G5xO$:xQ(C[O1G5xO$;ZQSO1G5wO$;ZQSO1G5wO9TQSO1G5wO$;cQSO,5?PO9TQSO,5?POOQO,5?P,5?PO$;wQSO,5?PO$$XQSO,5?POOQO-E<c-E<cOOQO1G0^1G0^OOQO1G0`1G0`O!,YQSO1G0`OOQQ7+(^7+(^O!&^Q,UO7+(^O%[QUO7+(^O$<VQSO7+(^O$<bQ,UO7+(^O$<pQ(CjO,59oO$>xQ(CjO,5<eO$ATQ(CjO,5<gO$C`Q(CjO,5<uOOQ(CY7+&Z7+&ZO$EqQ(CjO7+&ZO$FeQ,UO'#I^O$FoQSO,5@UOOQ(CY1G/w1G/wO$FwQUO'#I_O$GUQSO,5@VO$G^QbO,5@VOOQ(CY1G/|1G/|O$GhQSO7+&dOOQ(CY7+&d7+&dO$GmQ$IUO,5:cO%[QUO7+&vO$GwQ$IUO,5:ZO$HUQ$IUO,5:gO$H`Q$IUO,5:iOOQ(CY7+&|7+&|OOQO1G1n1G1nOOQO1G1o1G1oO$HjQ#tO,5<VO!*SQUO,5<UOOQO-E<d-E<dOOQ(CY7+'U7+'UOOOO7+'a7+'aOOOO1G1x1G1xO$HuQSO1G1xOOQ(CY1G1z1G1zO$HzQ`O,59iOOOO-E<W-E<WOOQ(CY1G/R1G/RO$IRQ(CjO7+'gOOQ(CY,5?U,5?UO$IuQ`O,5?UOOQ(CY1G2`1G2`P!&^Q,UO'#IjPOQ(CY-E<h-E<hO$JeQ,UO1G2lO$KWQ,UO1G2nO$KbQ`O1G2pOOQ(CY1G2X1G2XO$KiQSO'#IiO$KwQSO,5@iO$KwQSO,5@iO$LPQSO,5@iO$L[QSO,5@iOOQO1G2Z1G2ZO$LjQ,UO1G2YO!'vQ,UO1G2YO$LzQMhO'#IkO$M[QSO,5@jO!&^Q,UO,5@jO$MdQ`O,5@jOOQ(CY1G2^1G2^OOQ(CW,5<w,5<wOOQ(CW,5<x,5<xO$$XQSO,5<xOCXQSO,5<xO!@eQWO,5<wOOQO'#G`'#G`O$MnQSO,5<yOOQ(CW,5<{,5<{O$$XQSO,5=OOOQO,5?W,5?WOOQO-E<j-E<jOOQ(CY1G2b1G2bO!3{QWO,5<wO$MvQSO,5<xO#MuQSO,5<yO!3{QWO,5<xO$NRQ,UO1G5eO$N]Q,UO1G5eOOQO,5?X,5?XOOQO-E<k-E<kOOQO1G.x1G.xO!7cQWO,59qO%[QUO,59qO$NjQSO1G2TO!'vQ,UO1G2[O$NoQ(CjO7+'hOOQ(CY7+'h7+'hO!$ZQUO7+'hO% cQSO,5;YOOQ(CW,5?Z,5?ZOOQ(CW-E<m-E<mOOQ(CY7+%a7+%aO% hQ`O'#KPO#$}QSO7+(^O% rQbO7+(^O$<YQSO7+(^O% yQ(ChO'#CgO%!^Q(ChO,5<|O%#OQSO,5<|OOQ(CW1G5b1G5bOOQQ7+$_7+$_O!@YQ(C[O7+$_O!@eQWO7+$_O!$ZQUO7+&ZO%#TQSO'#ItO%#iQSO,5@rOOQO1G3`1G3`O9ZQSO,5@rO%#iQSO,5@rO%#qQSO,5@rOOQO,5?a,5?aOOQO-E<s-E<sOOQ(CY7+'O7+'OO%#vQSO7+(yO9eQ(C[O7+(yO9ZQSO7+(yO@[QSO7+(yOOQQ7+(i7+(iO%#{Q(ChO7+(fO!&^Q,UO7+(fO%$VQ`O7+(gOOQQ7+(g7+(gO!&^Q,UO7+(gO%$^QSO'#KTO%$iQSO,5=eOOQO,5?],5?]OOQO-E<o-E<oOOQQ7+(l7+(lO%%xQWO'#HSOOQQ1G3X1G3XO!&^Q,UO1G3XO%[QUO1G3XO%&PQSO1G3XO%&[Q,UO1G3XO9eQ(C[O1G3ZO#MzQSO1G3ZO9OQSO1G3ZO!@eQWO1G3ZO!@mQ,UO1G3ZO%&jQSO'#IsO%&uQSO,5@pO%&}QWO,5@pOOQ(CW1G3[1G3[OOQQ7+$T7+$TO@[QSO7+$TO9eQ(C[O7+$TO%'YQSO7+$TO%[QUO1G6_O%[QUO1G6`O%'_Q(C[O1G6_O%'iQUO1G3cO%'pQSO1G3cO%'uQUO1G3cOOQQ7+({7+({O9eQ(C[O7+)VO`QUO7+)XOOQQ'#KZ'#KZOOQQ'#Iv'#IvO%'|QUO,5>WOOQQ,5>W,5>WO%[QUO'#HmO%(ZQSO'#HoOOQQ,5>^,5>^O9TQSO,5>^OOQQ,5>`,5>`OOQQ7+)b7+)bOOQQ7+)h7+)hOOQQ7+)l7+)lOOQQ7+)n7+)nO%(`QWO1G5oO%(tQ$IUO1G0tO%)OQSO1G0tOOQO1G/n1G/nO%)ZQ$IUO1G/nO>jQSO1G/nO!*SQUO'#DhOOQO,5>w,5>wOOQO-E<Z-E<ZOOQO,5>},5>}OOQO-E<a-E<aO!@eQWO1G/nOOQO-E<^-E<^OOQ(CY1G0Y1G0YOOQ(CY7+%r7+%rO#$}QSO7+%rOOQ(CY7+&Y7+&YO>jQSO7+&YO!@eQWO7+&YOOQO7+%u7+%uO$9`Q(CjO7+&ROOQO7+&R7+&RO%[QUO7+&RO%)eQ(C[O7+&RO!@YQ(C[O7+%uO!@eQWO7+%uO%)pQ(C[O7+&RO%*OQ(CjO7++dO%[QUO7++dO%*`QSO7++cO%*`QSO7++cOOQO1G4k1G4kO9TQSO1G4kO%*hQSO1G4kOOQO7+%z7+%zO#$}QSO<<KxO% rQbO<<KxO%*vQSO<<KxOOQQ<<Kx<<KxO!&^Q,UO<<KxO%[QUO<<KxO%+OQSO<<KxO%+ZQ(CjO1G2lO%-fQ(CjO1G2nO%/qQ(CjO1G2YO%2SQ,UO,5>xOOQO-E<[-E<[O%2^QbO,5>yO%[QUO,5>yOOQO-E<]-E<]O%2hQSO1G5qOOQ(CY<<JO<<JOO%2pQ$IUO1G0oO%4zQ$IUO1G0yO%5RQ$IUO1G0yO%7VQ$IUO1G0yO%7^Q$IUO1G0yO%9RQ$IUO1G0yO%9iQ$IUO1G0yO%;|Q$IUO1G0yO%<TQ$IUO1G0yO%>XQ$IUO1G0yO%>`Q$IUO1G0yO%@WQ$IUO1G0yO%@kQ(CjO<<JbO%ApQ$IUO1G0yO%CfQ$IUO'#J`O%EiQ$IUO1G1_O%EvQ$IUO1G0RO!*SQUO'#FmOOQO'#J{'#J{OOQO1G1q1G1qO%FQQSO1G1pO%FVQ$IUO,5?SOOOO7+'d7+'dOOOO1G/T1G/TOOQ(CY1G4p1G4pO!'vQ,UO7+([O%FaQSO,5?TO9ZQSO,5?TOOQO-E<g-E<gO%FoQSO1G6TO%FoQSO1G6TO%FwQSO1G6TO%GSQ,UO7+'tO%GdQ`O,5?VO%GnQSO,5?VO!&^Q,UO,5?VOOQO-E<i-E<iO%GsQ`O1G6UO%G}QSO1G6UOOQ(CW1G2d1G2dO$$XQSO1G2dOOQ(CW1G2c1G2cO%HVQSO1G2eO!&^Q,UO1G2eOOQ(CW1G2j1G2jO!@eQWO1G2cOCXQSO1G2dO%H[QSO1G2eO%HdQSO1G2dO!'vQ,UO7++POOQ(CY1G/]1G/]O%HoQSO1G/]OOQ(CY7+'o7+'oO%HtQ,UO7+'vO%IUQ(CjO<<KSOOQ(CY<<KS<<KSO%IxQSO1G0tO!&^Q,UO'#InO%I}QSO,5@kO!&^Q,UO1G2hOOQQ<<Gy<<GyO!@YQ(C[O<<GyO%JVQ(CjO<<IuOOQ(CY<<Iu<<IuOOQO,5?`,5?`O%JyQSO,5?`O$(sQSO,5?`OOQO-E<r-E<rO%KOQSO1G6^O%KOQSO1G6^O9ZQSO1G6^O@[QSO<<LeOOQQ<<Le<<LeO%KWQSO<<LeO9eQ(C[O<<LeOOQQ<<LQ<<LQO%#{Q(ChO<<LQOOQQ<<LR<<LRO%$VQ`O<<LRO%K]QWO'#IpO%KhQSO,5@oO!*SQUO,5@oOOQQ1G3P1G3PO%KpQUO'#JiOOQO'#Ir'#IrO9eQ(C[O'#IrO%KzQWO,5=nOOQQ,5=n,5=nO%LRQWO'#EaO%LgQSO7+(sO%LlQSO7+(sOOQQ7+(s7+(sO!&^Q,UO7+(sO%[QUO7+(sO%LtQSO7+(sOOQQ7+(u7+(uO9eQ(C[O7+(uO#MzQSO7+(uO9OQSO7+(uO!@eQWO7+(uO%MPQSO,5?_OOQO-E<q-E<qOOQO'#HV'#HVO%M[QSO1G6[O9eQ(C[O<<GoOOQQ<<Go<<GoO@[QSO<<GoO%MdQSO7++yO%MiQSO7++zO%[QUO7++yO%[QUO7++zOOQQ7+(}7+(}O%MnQSO7+(}O%MsQUO7+(}O%MzQSO7+(}OOQQ<<Lq<<LqOOQQ<<Ls<<LsOOQQ-E<t-E<tOOQQ1G3r1G3rO%NPQSO,5>XOOQQ,5>Z,5>ZO%NUQSO1G3xO9TQSO7+&`O!*SQUO7+&`OOQO7+%Y7+%YO%NZQ$IUO1G5{O>jQSO7+%YOOQ(CY<<I^<<I^OOQ(CY<<It<<ItO>jQSO<<ItOOQO<<Im<<ImO$9`Q(CjO<<ImO%[QUO<<ImOOQO<<Ia<<IaO!@YQ(C[O<<IaO%NeQ(C[O<<ImO%NpQ(CjO<= OO& QQSO<<N}OOQO7+*V7+*VO9TQSO7+*VOOQQANAdANAdO& YQSOANAdO!&^Q,UOANAdO#$}QSOANAdO% rQbOANAdO%[QUOANAdO& bQ(CjO7+'tO&#sQ(CjO7+'vO&&UQbO1G4eO&&`Q$IUO7+&ZO&&mQ$IUO,59oO&(pQ$IUO,5<eO&*sQ$IUO,5<gO&,vQ$IUO,5<uO&.lQ$IUO7+'gO&.yQ$IUO7+'hO&/WQSO,5<XOOQO7+'[7+'[O&/]Q,UO<<KvOOQO1G4o1G4oO&/dQSO1G4oO&/oQSO1G4oO&/}QSO7++oO&/}QSO7++oO!&^Q,UO1G4qO&0VQ`O1G4qO&0aQSO7++pOOQ(CW7+(O7+(OO$$XQSO7+(PO&0iQ`O7+(POOQ(CW7+'}7+'}O$$XQSO7+(OO&0pQSO7+(PO!&^Q,UO7+(POCXQSO7+(OO&0uQ,UO<<NkOOQ(CY7+$w7+$wO&1PQ`O,5?YOOQO-E<l-E<lO&1ZQ(ChO7+(SOOQQAN=eAN=eO9ZQSO1G4zOOQO1G4z1G4zO&1kQSO1G4zO&1pQSO7++xO&1pQSO7++xO9eQ(C[OANBPO@[QSOANBPOOQQANBPANBPOOQQANAlANAlOOQQANAmANAmO&1xQSO,5?[OOQO-E<n-E<nO&2TQ$IUO1G6ZO&4eQbO'#CgOOQO,5?^,5?^OOQO-E<p-E<pOOQQ1G3Y1G3YO%KpQUO,5<yOOQQ<<L_<<L_O!&^Q,UO<<L_O%LgQSO<<L_O&4oQSO<<L_O%[QUO<<L_OOQQ<<La<<LaO9eQ(C[O<<LaO#MzQSO<<LaO9OQSO<<LaO&4wQWO1G4yO&5SQSO7++vOOQQAN=ZAN=ZO9eQ(C[OAN=ZOOQQ<= e<= eOOQQ<= f<= fO&5[QSO<= eO&5aQSO<= fOOQQ<<Li<<LiO&5fQSO<<LiO&5kQUO<<LiOOQQ1G3s1G3sO>jQSO7+)dO&5rQSO<<IzO&5}Q$IUO<<IzOOQO<<Ht<<HtOOQ(CYAN?`AN?`OOQOAN?XAN?XO$9`Q(CjOAN?XOOQOAN>{AN>{O%[QUOAN?XOOQO<<Mq<<MqOOQQG27OG27OO!&^Q,UOG27OO#$}QSOG27OO&6XQSOG27OO% rQbOG27OO&6aQ$IUO<<JbO&6nQ$IUO1G2YO&8dQ$IUO1G2lO&:gQ$IUO1G2nO&<jQ$IUO<<KSO&<wQ$IUO<<IuOOQO1G1s1G1sO!'vQ,UOANAbOOQO7+*Z7+*ZO&=UQSO7+*ZO&=aQSO<= ZO&=iQ`O7+*]OOQ(CW<<Kk<<KkO$$XQSO<<KkOOQ(CW<<Kj<<KjO&=sQ`O<<KkO$$XQSO<<KjOOQO7+*f7+*fO9ZQSO7+*fO&=zQSO<= dOOQQG27kG27kO9eQ(C[OG27kO!*SQUO1G4vO&>SQSO7++uO%LgQSOANAyOOQQANAyANAyO!&^Q,UOANAyO&>[QSOANAyOOQQANA{ANA{O9eQ(C[OANA{O#MzQSOANA{OOQO'#HW'#HWOOQO7+*e7+*eOOQQG22uG22uOOQQANEPANEPOOQQANEQANEQOOQQANBTANBTO&>dQSOANBTOOQQ<<MO<<MOO!*SQUOAN?fOOQOG24sG24sO$9`Q(CjOG24sO#$}QSOLD,jOOQQLD,jLD,jO!&^Q,UOLD,jO&>iQSOLD,jO&>qQ$IUO7+'tO&@gQ$IUO7+'vO&B]Q,UOG26|OOQO<<Mu<<MuOOQ(CWANAVANAVO$$XQSOANAVOOQ(CWANAUANAUOOQO<<NQ<<NQOOQQLD-VLD-VO&BmQ$IUO7+*bOOQQG27eG27eO%LgQSOG27eO!&^Q,UOG27eOOQQG27gG27gO9eQ(C[OG27gOOQQG27oG27oO&BwQ$IUOG25QOOQOLD*_LD*_OOQQ!$(!U!$(!UO#$}QSO!$(!UO!&^Q,UO!$(!UO&CRQ(CjOG26|OOQ(CWG26qG26qOOQQLD-PLD-PO%LgQSOLD-POOQQLD-RLD-ROOQQ!)9Ep!)9EpO#$}QSO!)9EpOOQQ!$(!k!$(!kOOQQ!.K;[!.K;[O&EdQ$IUOG26|O!*SQUO'#DwO1PQSO'#EUO&GYQbO'#JeO!*SQUO'#DoO&GaQUO'#D{O&GhQbO'#CgO&JOQbO'#CgO!*SQUO'#D}O&J`QUO,5;TO!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO'#IhO&LcQSO,5<dO&LkQ,UO,5;_O&NOQ,UO,5;_O!*SQUO,5;sO1SQSO'#DTO1SQSO'#DTO!&^Q,UO'#FyO&LkQ,UO'#FyO!&^Q,UO'#F{O&LkQ,UO'#F{O!&^Q,UO'#GZO&LkQ,UO'#GZO!*SQUO,5:gO!*SQUO,5@aO&J`QUO1G0oO&NVQ$IUO'#CgO!*SQUO1G1{O!&^Q,UO,5=QO&LkQ,UO,5=QO!&^Q,UO,5=SO&LkQ,UO,5=SO!&^Q,UO,5<nO&LkQ,UO,5<nO&J`QUO1G1|O!*SQUO7+&vO!&^Q,UO1G2YO&LkQ,UO1G2YO!&^Q,UO1G2[O&LkQ,UO1G2[O&J`QUO7+'hO&J`QUO7+&ZO!&^Q,UOANAbO&LkQ,UOANAbO&NaQSO'#EiO&NfQSO'#EiO&NnQSO'#FXO&NsQSO'#EsO&NxQSO'#JuO' TQSO'#JsO' `QSO,5;TO' eQ,UO,5<aO' lQSO'#GSO' qQSO'#GSO' vQSO,5<bO'!OQSO,5;TO'!WQ$IUO1G1[O'!_QSO,5<nO'!dQSO,5<nO'!iQSO,5<pO'!nQSO,5<pO'!sQSO1G1|O'!xQSO1G0oO'!}Q,UO<<KvO'#UQ,UO<<KvO7hQ,UO'#FwO9OQSO'#FvOAVQSO'#EhO!*SQUO,5;pO!2|QSO'#GSO!2|QSO'#GSO!2|QSO'#GUO!2|QSO'#GUO!'vQ,UO7+([O!'vQ,UO7+([O$KbQ`O1G2pO$KbQ`O1G2pO!&^Q,UO,5=UO!&^Q,UO,5=U",stateData:"'$_~O'oOS'pOSROS'qRQ~OPYOQYOW!VO_qObzOcyOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!YXO!duO!iZO!lYO!mYO!nYO!pvO!rwO!uxO!y]O#q!PO$R|O$VfO%a}O%c!QO%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO%r!UO&O!WO&U!XO&W!YO&Y!ZO&[![O&_!]O&e!^O&k!_O&m!`O&o!aO&q!bO&s!cO'vSO'xTO'{UO(TVO(c[O(piO~OUtO~P`OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~O_!vOm!nO}!oO!]!xO!^!uO!_!uO!y9rO!}!pO#O!pO#P!wO#Q!pO#R!pO#U!yO#V!yO'w!lO'xTO'{UO(W!mO(c!sO~O'q!zO~OPZXYZX_ZXlZXzZX{ZX}ZX!WZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX'mZX(TZX(dZX(kZX(lZX~O!b${X~P(qO]!|O'x#OO'y!|O'z#OO~O]#PO'z#OO'{#OO'|#PO~Or#RO!P#SO(U#SO(V#UO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v9vO'xTO'{UO(TVO(c[O(piO~O!V#YO!W#VO!T(ZP!T(hP~P+}O!X#bO~P`OPYOQYOb!jOc!iOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'xTO'{UO(TVO(c[O(piO~Oj#lO!V#hO!y]O#c#kO#d#hO'v9wO!h(eP~P.iO!i#nO'v#mO~O!u#rO!y]O%a#sO~O#e#tO~O!b#uO#e#tO~OP$]OY$dOl$QOz#yO{#zO}#{O!W$aO!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O_(XX'm(XX'k(XX!h(XX!T(XX!Y(XX%b(XX!b(XX~P1qO#Y$eO#|$eOP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#p(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX!Y(YX%b(YX~O_(YX!g(YX'm(YX'k(YX!T(YX!h(YXp(YX!b(YX~P4XO#Y$eO~O$X$gO$Z$fO$b$lO~O!Y$mO$VfO$e$nO$g$pO~Oj%SOl$tOm$sOn$sOt%TOv%UOx%VO}${O!Y$|O!d%[O!i$xO#d%]O$R%YO$n%WO$p%XO$s%ZO'v$rO'xTO'{UO(P%RO(T$uOe(QP~O!i%^O~O}%aO!Y%bO'v%`O~O!b%fO~O_%gO'm%gO~O'w!lO~P%[O%g%nO~P%[O!i%^O'v%`O'w!lO(P%RO~Oc%uO!i%^O'v%`O~O#p$SO~Oz%zO!Y%wO!i%yO%c%}O'v%`O'w!lO'xTO'{UO^(yP~O!u#rO~O%l&PO}(uX!Y(uX'v(uX~O'v&QO~O!r&VO#q!PO%c!QO%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO~Ob&[Oc&ZO!u&XO%a&YO%t&WO~P;rOb&_OcyO!Y&^O!r&VO!uxO!y]O#q!PO%a}O%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO%r!UO~O`&bO#Y&eO%c&`O'w!lO~P<wO!i&fO!r&jO~O!i#nO~O!YXO~O_%gO'l&rO'm%gO~O_%gO'l&uO'm%gO~O_%gO'l&wO'm%gO~O'kZX!TZXpZX!hZX&SZX!YZX%bZX!bZX~P(qO!]'UO!^&}O!_&}O'w!lO'xTO'{UO~Om&{O}&zO!V'OO(W&yO!X([P!X(jP~P@OOh'XO!Y'VO'v%`O~Oc'^O!i%^O'v%`O~Oz%zO!i%yO~Om!nO}!oO!y9rO!}!pO#O!pO#Q!pO#R!pO'w!lO'xTO'{UO(W!mO(c!sO~O!]'dO!^'cO!_'cO#P!pO#U'eO#V'eO~PAjO_%gO!b#uO!i%^O'm%gO(P%RO(d'gO~O!m'kO#Y'iO~PBxOm!nO}!oO'xTO'{UO(W!mO(c!sO~O!YXOm(aX}(aX!](aX!^(aX!_(aX!y(aX!}(aX#O(aX#P(aX#Q(aX#R(aX#U(aX#V(aX'w(aX'x(aX'{(aX(W(aX(c(aX~O!^'cO!_'cO'w!lO~PChO'r'oO's'oO't'qO~O]!|O'x'sO'y!|O'z'sO~O]#PO'z'sO'{'sO'|#PO~Or#RO!P#SO(U#SO(V'wO~O!V'yO!T'OX!T'UX!W'OX!W'UX~P+}O!W'{O!T(ZX~OP$]OY$dOl$QOz#yO{#zO}#{O!W'{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O!T(ZX~PG[O!T(QO~O!T(gX!W(gX!b(gX!h(gX(d(gX~O#Y(gX#e#^X!X(gX~PIbO#Y(RO!T(iX!W(iX~O!W(SO!T(hX~O!T(VO~O#Y$eO~PIbO!X(WO~P`Oz#yO{#zO}#{O!g#wO!i#xO(TVOP!kaY!kal!ka!W!ka!f!ka!m!ka#h!ka#i!ka#j!ka#k!ka#l!ka#m!ka#n!ka#o!ka#p!ka#r!ka#t!ka#v!ka#w!ka(d!ka(k!ka(l!ka~O_!ka'm!ka'k!ka!T!ka!h!kap!ka!Y!ka%b!ka!b!ka~PJxO!h(XO~O!b#uO#Y(YO(d'gO!W(fX_(fX'm(fX~O!h(fX~PMhO}%aO!Y%bO!y]O#c(_O#d(^O'v%`O~O!W(`O!h(eX~O!h(bO~O}%aO!Y%bO#d(^O'v%`O~OP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!g(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#p(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX~O!b#uO!h(YX~P! UOz(cO{(dO!g#wO!i#xO!y!xa}!xa~O!u!xa%a!xa!Y!xa#c!xa#d!xa'v!xa~P!#YO!u(hO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!YXO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~Oj%SOl$tOm$sOn$sOt%TOv%UOx:[O}${O!Y$|O!d;fO!i$xO#d:bO$R%YO$n:^O$p:`O$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~O#e(nO~Oj%SOl$tOm$sOn$sOt%TOv%UOx%VO}${O!Y$|O!d%[O!i$xO#d%]O$R%YO$n%WO$p%XO$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~Oe(^P~P!'vO!V(rO!h(_P~P%[O(W(tO(c[O~O}(vO!i#xO(W(tO(c[O~OP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!Y!eO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'v)UO'xTO'{UO(TVO(c[O(p;`O~O{)XO!i#xO~O!W$aO_$la'm$la'k$la!h$la!T$la!Y$la%b$la!b$la~O#q)]O~P!&^Oz)`O!b)_O!Y$YX$U$YX$X$YX$Z$YX$b$YX~O!b)_O!Y(mX$U(mX$X(mX$Z(mX$b(mX~Oz)`O~P!-lOz)`O!Y(mX$U(mX$X(mX$Z(mX$b(mX~O!Y)bO$U)fO$X)aO$Z)aO$b)gO~O!V)jO~P!*SO$X$gO$Z$fO$b)nO~Oh$tXz$tX}$tX!g$tX(k$tX(l$tX~OegXe$tXhgX!WgX#YgX~P!/bOm)pO~Or)qO(U)rO(V)tO~Oh)}Oz)vO})wO(k)yO(l){O~Oe)uO~P!0kOe*OO~Oj%SOl$tOm$sOn$sOt%TOv%UOx:[O}${O!Y$|O!d;fO!i$xO#d:bO$R%YO$n:^O$p:`O$s%ZO'xTO'{UO(P%RO(T$uO~O!V*SO'v*PO!h(qP~P!1YO#e*UO~O!i*VO~O!V*[O'v*XO!T(rP~P!1YOl*hO}*`O!]*fO!^*_O!_*_O!i*VO#U*gO%X*bO'w!lO(W!mO~O!X*eO~P!3`O!g#wOh(SXz(SX}(SX(k(SX(l(SX!W(SX#Y(SX~Oe(SX#z(SX~P!4XOh*kO#Y*jOe(RX!W(RX~O!W*lOe(QX~O'v&QOe(QP~O!i*sO~O'v(lO~Oj*wO}%aO!V#hO!Y%bO!y]O#c#kO#d#hO'v%`O!h(eP~O!b#uO#e*xO~O}%aO!V*zO!W(SO!Y%bO'v%`O!T(hP~Om'RO}*|O!V*{O'xTO'{UO(W(tO~O!X(jP~P!7SO!W*}O_(vX'm(vX~OP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O_!ca!W!ca'm!ca'k!ca!T!ca!h!cap!ca!Y!ca%b!ca!b!ca~P!7zOz#yO{#zO}#{O!g#wO!i#xO(TVOP!oaY!oal!oa!W!oa!f!oa!m!oa#h!oa#i!oa#j!oa#k!oa#l!oa#m!oa#n!oa#o!oa#p!oa#r!oa#t!oa#v!oa#w!oa(d!oa(k!oa(l!oa~O_!oa'm!oa'k!oa!T!oa!h!oap!oa!Y!oa%b!oa!b!oa~P!:eOz#yO{#zO}#{O!g#wO!i#xO(TVOP!qaY!qal!qa!W!qa!f!qa!m!qa#h!qa#i!qa#j!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#r!qa#t!qa#v!qa#w!qa(d!qa(k!qa(l!qa~O_!qa'm!qa'k!qa!T!qa!h!qap!qa!Y!qa%b!qa!b!qa~P!=OOh+WO!Y'VO%b+VO(P%RO~O!b+YO_(OX!Y(OX'm(OX!W(OX~O_%gO!YXO'm%gO~O!i%^O(P%RO~O!i%^O'v%`O(P%RO~O!b#uO#e(nO~O%c+fO'v+bO'xTO'{UO!X(zP~O!W+gO^(yX~OY+kO~O^+lO~O!Y%wO'v%`O'w!lO^(yP~O#Y+qO(P%RO~Oh+tO!Y$|O(P%RO~O!Y+vO~Oz+xO!YXO~O%g%nO~O!u+}O~Oc,SO~O'v#mO!X(xP~Oc%uO~O%c!QO'v&QO~P<wOY,YO^,XO~OPYOQYObzOcyOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!duO!iZO!lYO!mYO!nYO!pvO!uxO!y]O$VfO%a}O'xTO'{UO(TVO(c[O(piO~O!Y!eO!r!gO$R!kO'v!dO~P!CuO^,XO_%gO'm%gO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~O_,_O!rwO#q!OO%e!OO%f!OO%g!OO~P!F_O!i&fO~O&U,eO~O!Y,gO~O&g,iO&i,jOP&daQ&daW&da_&dab&dac&daj&dal&dam&dan&dat&dav&dax&da}&da!R&da!S&da!Y&da!d&da!i&da!l&da!m&da!n&da!p&da!r&da!u&da!y&da#q&da$R&da$V&da%a&da%c&da%e&da%f&da%g&da%j&da%l&da%o&da%p&da%r&da&O&da&U&da&W&da&Y&da&[&da&_&da&e&da&k&da&m&da&o&da&q&da&s&da'k&da'v&da'x&da'{&da(T&da(c&da(p&da!X&da&]&da`&da&b&da~O'v,oO~O!W|X!W!`X!X|X!X!`X!b|X!b!`X!i!`X#Y|X(P!`X~O!b,tO#Y,sO!W#bX!W(]X!X#bX!X(]X!b(]X!i(]X(P(]X~O!b,vO!i%^O(P%RO!W![X!X![X~Om!nO}!oO'xTO'{UO(W!mO~OP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!Y!eO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'xTO'{UO(TVO(c[O(p;`O~O'v:gO~P# eO!W,zO!X([X~O!X,|O~O!b,tO#Y,sO!W#bX!X#bX~O!W,}O!X(jX~O!X-PO~O!^-QO!_-QO'w!lO~P# SO!X-TO~P'_Oh-WO!Y'VO~O!T-]O~Om!xa!]!xa!^!xa!_!xa!}!xa#O!xa#P!xa#Q!xa#R!xa#U!xa#V!xa'w!xa'x!xa'{!xa(W!xa(c!xa~P!#YO!m-bO#Y-`O~PBxO!^-dO!_-dO'w!lO~PChO_%gO#Y-`O'm%gO~O_%gO!b#uO#Y-`O'm%gO~O_%gO!b#uO!m-bO#Y-`O'm%gO(d'gO~O'r'oO's'oO't-iO~Op-jO~O!T'Oa!W'Oa~P!7zO!V-nO!T'OX!W'OX~P%[O!W'{O!T(Za~O!T(Za~PG[O!W(SO!T(ha~O}%aO!V-rO!Y%bO'v%`O!T'UX!W'UX~O#Y-tO!W(fa!h(fa_(fa'm(fa~O!b#uO~P#)kO!W(`O!h(ea~O}%aO!Y%bO#d-xO'v%`O~Oj-}O}%aO!V-zO!Y%bO!y]O#c-|O#d-zO'v%`O!W'XX!h'XX~O{.RO!i#xO~Oh.UO!Y'VO%b.TO(P%RO~O_#]i!W#]i'm#]i'k#]i!T#]i!h#]ip#]i!Y#]i%b#]i!b#]i~P!7zOh;lOz)vO})wO(k)yO(l){O~O#e#Xa_#Xa#Y#Xa'm#Xa!W#Xa!h#Xa!Y#Xa!T#Xa~P#,gO#e(SXP(SXY(SX_(SXl(SX{(SX!f(SX!i(SX!m(SX#h(SX#i(SX#j(SX#k(SX#l(SX#m(SX#n(SX#o(SX#p(SX#r(SX#t(SX#v(SX#w(SX'm(SX(T(SX(d(SX!h(SX!T(SX'k(SXp(SX!Y(SX%b(SX!b(SX~P!4XO!W._Oe(^X~P!0kOe.aO~O!W.bO!h(_X~P!7zO!h.eO~O!T.gO~OP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O(TVOY#gi_#gil#gi!W#gi!f#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O#h#gi~P#0cO#h$OO~P#0cOP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO(TVOY#gi_#gi!W#gi!f#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~Ol#gi~P#3TOl$QO~P#3TOP$]Ol$QOz#yO{#zO}#{O!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO(TVO_#gi!W#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~OY#gi!f#gi#m#gi#n#gi#o#gi#p#gi~P#5uOY$dO!f$SO#m$SO#n$SO#o$cO#p$SO~P#5uOP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO(TVO_#gi!W#gi#t#gi#v#gi#w#gi'm#gi(d#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O(k#gi~P#8vO(k#|O~P#8vOP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO(TVO(k#|O_#gi!W#gi#v#gi#w#gi'm#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O(l#gi~P#;hO(l#}O~P#;hOP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO(TVO(k#|O(l#}O~O_#gi!W#gi#w#gi'm#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~P#>YOPZXYZXlZXzZX{ZX}ZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX!WZX!XZX~O#zZX~P#@sOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO#v:TO#w:UO(TVO(d$ZO(k#|O(l#}O~O#z.iO~P#CQO#Y:ZO#|:ZO#z(YX!X(YX~P! UO_'[a!W'[a'm'[a'k'[a!h'[a!T'[ap'[a!Y'[a%b'[a!b'[a~P!7zOP#giY#gi_#gil#gi{#gi!W#gi!f#gi!g#gi!i#gi!m#gi#h#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(T#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~P#,gO_#{i!W#{i'm#{i'k#{i!T#{i!h#{ip#{i!Y#{i%b#{i!b#{i~P!7zO$X.nO$Z.nO~O$X.oO$Z.oO~O!b)_O#Y.pO!Y$_X$U$_X$X$_X$Z$_X$b$_X~O!V.qO~O!Y)bO$U.sO$X)aO$Z)aO$b.tO~O!W:VO!X(XX~P#CQO!X.uO~O!b)_O$b(mX~O$b.wO~Or)qO(U)rO(V.zO~O!T/OO~P!&^O!WdX!bdX!hdX!h$tX(ddX~P!/bO!h/UO~P#,gO!W/VO!b#uO(d'gO!h(qX~O!h/[O~O!V*SO'v%`O!h(qP~O#e/^O~O!T$tX!W$tX!b${X~P!/bO!W/_O!T(rX~P#,gO!b/aO~O!T/cO~Ol/gO!b#uO!i%^O(P%RO(d'gO~O'v/iO~O!b+YO~O_%gO!W/mO'm%gO~O!X/oO~P!3`O!^/pO!_/pO'w!lO(W!mO~O}/rO(W!mO~O#U/sO~O'v&QOe'aX!W'aX~O!W*lOe(Qa~Oe/xO~Oz/yO{/yO}/zOhwa(kwa(lwa!Wwa#Ywa~Oewa#zwa~P$ hOz)vO})wOh$ma(k$ma(l$ma!W$ma#Y$ma~Oe$ma#z$ma~P$!^Oz)vO})wOh$oa(k$oa(l$oa!W$oa#Y$oa~Oe$oa#z$oa~P$#PO#e/|O~Oe$}a!W$}a#Y$}a#z$}a~P!0kO!b#uO~O#e0PO~O!W*}O_(va'm(va~Oz#yO{#zO}#{O!g#wO!i#xO(TVOP!oiY!oil!oi!W!oi!f!oi!m!oi#h!oi#i!oi#j!oi#k!oi#l!oi#m!oi#n!oi#o!oi#p!oi#r!oi#t!oi#v!oi#w!oi(d!oi(k!oi(l!oi~O_!oi'm!oi'k!oi!T!oi!h!oip!oi!Y!oi%b!oi!b!oi~P$$nOh.UO!Y'VO%b.TO~Oj0ZO'v0YO~P!1]O!b+YO_(Oa!Y(Oa'm(Oa!W(Oa~O#e0aO~OYZX!WdX!XdX~O!W0bO!X(zX~O!X0dO~OY0eO~O'v+bO'xTO'{UO~O!Y%wO'v%`O^'iX!W'iX~O!W+gO^(ya~O!h0jO~P!7zOY0mO~O^0nO~O#Y0qO~Oh0tO!Y$|O~O(W(tO!X(wP~Oh0}O!Y0zO%b0|O(P%RO~OY1XO!W1VO!X(xX~O!X1YO~O^1[O_%gO'm%gO~O'v#mO'xTO'{UO~O#Y$eO#|$eOP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX~O#p1_O&S1`O_(YX!g(YX~P$+dO#Y$eO#p1_O&S1`O~O_1bO~P%[O_1dO~O&]1gOP&ZiQ&ZiW&Zi_&Zib&Zic&Zij&Zil&Zim&Zin&Zit&Ziv&Zix&Zi}&Zi!R&Zi!S&Zi!Y&Zi!d&Zi!i&Zi!l&Zi!m&Zi!n&Zi!p&Zi!r&Zi!u&Zi!y&Zi#q&Zi$R&Zi$V&Zi%a&Zi%c&Zi%e&Zi%f&Zi%g&Zi%j&Zi%l&Zi%o&Zi%p&Zi%r&Zi&O&Zi&U&Zi&W&Zi&Y&Zi&[&Zi&_&Zi&e&Zi&k&Zi&m&Zi&o&Zi&q&Zi&s&Zi'k&Zi'v&Zi'x&Zi'{&Zi(T&Zi(c&Zi(p&Zi!X&Zi`&Zi&b&Zi~O`1mO!X1kO&b1lO~P`O!YXO!i1oO~O&i,jOP&diQ&diW&di_&dib&dic&dij&dil&dim&din&dit&div&dix&di}&di!R&di!S&di!Y&di!d&di!i&di!l&di!m&di!n&di!p&di!r&di!u&di!y&di#q&di$R&di$V&di%a&di%c&di%e&di%f&di%g&di%j&di%l&di%o&di%p&di%r&di&O&di&U&di&W&di&Y&di&[&di&_&di&e&di&k&di&m&di&o&di&q&di&s&di'k&di'v&di'x&di'{&di(T&di(c&di(p&di!X&di&]&di`&di&b&di~O!T1uO~O!W![a!X![a~P#CQOm!nO}!oO!V1{O(W!mO!W'PX!X'PX~P@OO!W,zO!X([a~O!W'VX!X'VX~P!7SO!W,}O!X(ja~O!X2SO~P'_O_%gO#Y2]O'm%gO~O_%gO!b#uO#Y2]O'm%gO~O_%gO!b#uO!m2aO#Y2]O'm%gO(d'gO~O_%gO'm%gO~P!7zO!W$aOp$la~O!T'Oi!W'Oi~P!7zO!W'{O!T(Zi~O!W(SO!T(hi~O!T(ii!W(ii~P!7zO!W(fi!h(fi_(fi'm(fi~P!7zO#Y2cO!W(fi!h(fi_(fi'm(fi~O!W(`O!h(ei~O}%aO!Y%bO!y]O#c2hO#d2gO'v%`O~O}%aO!Y%bO#d2gO'v%`O~Oh2oO!Y'VO%b2nO~Oh2oO!Y'VO%b2nO(P%RO~O#ewaPwaYwa_walwa!fwa!gwa!iwa!mwa#hwa#iwa#jwa#kwa#lwa#mwa#nwa#owa#pwa#rwa#twa#vwa#wwa'mwa(Twa(dwa!hwa!Twa'kwapwa!Ywa%bwa!bwa~P$ hO#e$maP$maY$ma_$mal$ma{$ma!f$ma!g$ma!i$ma!m$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#o$ma#p$ma#r$ma#t$ma#v$ma#w$ma'm$ma(T$ma(d$ma!h$ma!T$ma'k$map$ma!Y$ma%b$ma!b$ma~P$!^O#e$oaP$oaY$oa_$oal$oa{$oa!f$oa!g$oa!i$oa!m$oa#h$oa#i$oa#j$oa#k$oa#l$oa#m$oa#n$oa#o$oa#p$oa#r$oa#t$oa#v$oa#w$oa'm$oa(T$oa(d$oa!h$oa!T$oa'k$oap$oa!Y$oa%b$oa!b$oa~P$#PO#e$}aP$}aY$}a_$}al$}a{$}a!W$}a!f$}a!g$}a!i$}a!m$}a#h$}a#i$}a#j$}a#k$}a#l$}a#m$}a#n$}a#o$}a#p$}a#r$}a#t$}a#v$}a#w$}a'm$}a(T$}a(d$}a!h$}a!T$}a'k$}a#Y$}ap$}a!Y$}a%b$}a!b$}a~P#,gO_#]q!W#]q'm#]q'k#]q!T#]q!h#]qp#]q!Y#]q%b#]q!b#]q~P!7zOe'QX!W'QX~P!'vO!W._Oe(^a~O!V2wO!W'RX!h'RX~P%[O!W.bO!h(_a~O!W.bO!h(_a~P!7zO!T2zO~O#z!ka!X!ka~PJxO#z!ca!W!ca!X!ca~P#CQO#z!oa!X!oa~P!:eO#z!qa!X!qa~P!=OO!Y3^O$VfO$`3_O~O!X3cO~Op3dO~P#,gO_$iq!W$iq'm$iq'k$iq!T$iq!h$iqp$iq!Y$iq%b$iq!b$iq~P!7zO!T3eO~P#,gOz)vO})wO(l){Oh%Yi(k%Yi!W%Yi#Y%Yi~Oe%Yi#z%Yi~P$I|Oz)vO})wOh%[i(k%[i(l%[i!W%[i#Y%[i~Oe%[i#z%[i~P$JoO(d$ZO~P#,gO!V3hO'v%`O!W']X!h']X~O!W/VO!h(qa~O!W/VO!b#uO!h(qa~O!W/VO!b#uO(d'gO!h(qa~Oe$vi!W$vi#Y$vi#z$vi~P!0kO!V3pO'v*XO!T'_X!W'_X~P!1YO!W/_O!T(ra~O!W/_O!T(ra~P#,gO!b#uO#p3xO~Ol3{O!b#uO(d'gO~Oe(Ri!W(Ri~P!0kO#Y4OOe(Ri!W(Ri~P!0kO!h4RO~O_$jq!W$jq'm$jq'k$jq!T$jq!h$jqp$jq!Y$jq%b$jq!b$jq~P!7zO!T4VO~O!W4WO!Y(sX~P#,gO!g#wO~P4XO_$tX!Y$tX%VZX'm$tX!W$tX~P!/bO%V4YO_iXhiXziX}iX!YiX'miX(kiX(liX!WiX~O%V4YO~O%c4aO'v+bO'xTO'{UO!W'hX!X'hX~O!W0bO!X(za~OY4eO~O^4fO~O_%gO'm%gO~P#,gO!Y$|O~P#,gO!W4nO#Y4pO!X(wX~O!X4qO~Om!nO}4rO!]!xO!^!uO!_!uO!y9rO!}!pO#O!pO#P!pO#Q!pO#R!pO#U4wO#V!yO'w!lO'xTO'{UO(W!mO(c!sO~O!X4vO~P%$nOh4|O!Y0zO%b4{O~Oh4|O!Y0zO%b4{O(P%RO~O'v#mO!W'gX!X'gX~O!W1VO!X(xa~O'xTO'{UO(W5VO~O^5ZO~O#p5^O&S5_O~PMhO!h5`O~P%[O_5bO~O_5bO~P%[O`1mO!X5gO&b1lO~P`O!b5iO~O!b5kO!W(]i!X(]i!b(]i!i(]i(P(]i~O!W#bi!X#bi~P#CQO#Y5lO!W#bi!X#bi~O!W![i!X![i~P#CQO_%gO#Y5uO'm%gO~O_%gO!b#uO#Y5uO'm%gO~O!W(fq!h(fq_(fq'm(fq~P!7zO!W(`O!h(eq~O}%aO!Y%bO#d5|O'v%`O~O!Y'VO%b6PO~Oh6SO!Y'VO%b6PO~O#e%YiP%YiY%Yi_%Yil%Yi{%Yi!f%Yi!g%Yi!i%Yi!m%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#o%Yi#p%Yi#r%Yi#t%Yi#v%Yi#w%Yi'm%Yi(T%Yi(d%Yi!h%Yi!T%Yi'k%Yip%Yi!Y%Yi%b%Yi!b%Yi~P$I|O#e%[iP%[iY%[i_%[il%[i{%[i!f%[i!g%[i!i%[i!m%[i#h%[i#i%[i#j%[i#k%[i#l%[i#m%[i#n%[i#o%[i#p%[i#r%[i#t%[i#v%[i#w%[i'm%[i(T%[i(d%[i!h%[i!T%[i'k%[ip%[i!Y%[i%b%[i!b%[i~P$JoO#e$viP$viY$vi_$vil$vi{$vi!W$vi!f$vi!g$vi!i$vi!m$vi#h$vi#i$vi#j$vi#k$vi#l$vi#m$vi#n$vi#o$vi#p$vi#r$vi#t$vi#v$vi#w$vi'm$vi(T$vi(d$vi!h$vi!T$vi'k$vi#Y$vip$vi!Y$vi%b$vi!b$vi~P#,gOe'Qa!W'Qa~P!0kO!W'Ra!h'Ra~P!7zO!W.bO!h(_i~O#z#]i!W#]i!X#]i~P#CQOP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O(TVOY#gil#gi!f#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~O#h#gi~P%2}O#h9zO~P%2}OP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O(TVOY#gi!f#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~Ol#gi~P%5YOl9|O~P%5YOP$]Ol9|Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O(TVO#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~OY#gi!f#gi#m#gi#n#gi#o#gi#p#gi~P%7eOY:YO!f:OO#m:OO#n:OO#o:XO#p:OO~P%7eOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO(TVO#t#gi#v#gi#w#gi#z#gi(d#gi(l#gi!W#gi!X#gi~O(k#gi~P%:PO(k#|O~P%:POP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO(TVO(k#|O#v#gi#w#gi#z#gi(d#gi!W#gi!X#gi~O(l#gi~P%<[O(l#}O~P%<[OP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO#v:TO(TVO(k#|O(l#}O~O#w#gi#z#gi(d#gi!W#gi!X#gi~P%>gO_#xy!W#xy'm#xy'k#xy!T#xy!h#xyp#xy!Y#xy%b#xy!b#xy~P!7zOh;mOz)vO})wO(k)yO(l){O~OP#giY#gil#gi{#gi!f#gi!g#gi!i#gi!m#gi#h#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(T#gi(d#gi!W#gi!X#gi~P%A_O!g#wOP(SXY(SXh(SXl(SXz(SX{(SX}(SX!f(SX!i(SX!m(SX#h(SX#i(SX#j(SX#k(SX#l(SX#m(SX#n(SX#o(SX#p(SX#r(SX#t(SX#v(SX#w(SX#z(SX(T(SX(d(SX(k(SX(l(SX!W(SX!X(SX~O#z#{i!W#{i!X#{i~P#CQO#z!oi!X!oi~P$$nO!X6`O~O!W'[a!X'[a~P#CQO!b#uO(d'gO!W']a!h']a~O!W/VO!h(qi~O!W/VO!b#uO!h(qi~Oe$vq!W$vq#Y$vq#z$vq~P!0kO!T'_a!W'_a~P#,gO!b6gO~O!W/_O!T(ri~P#,gO!W/_O!T(ri~O!T6kO~O!b#uO#p6pO~Ol6qO!b#uO(d'gO~O!T6sO~Oe$xq!W$xq#Y$xq#z$xq~P!0kO_$jy!W$jy'm$jy'k$jy!T$jy!h$jyp$jy!Y$jy%b$jy!b$jy~P!7zO!b5kO~O!W4WO!Y(sa~O_#]y!W#]y'm#]y'k#]y!T#]y!h#]yp#]y!Y#]y%b#]y!b#]y~P!7zOY6xO~O!W0bO!X(zi~O^7OO~O(W(tO!W'dX!X'dX~O!W4nO!X(wa~OjkO'v7VO~P.iO!X7YO~P%$nOm!nO}7ZO'xTO'{UO(W!mO(c!sO~O!Y0zO~O!Y0zO%b7]O~Oh7`O!Y0zO%b7]O~OY7eO!W'ga!X'ga~O!W1VO!X(xi~O!h7iO~O!h7jO~O!h7mO~O!h7mO~P%[O_7oO~O!b7pO~O!h7qO~O!W(ii!X(ii~P#CQO_%gO#Y7yO'm%gO~O!W(fy!h(fy_(fy'm(fy~P!7zO!W(`O!h(ey~O!Y'VO%b7|O~O#e$vqP$vqY$vq_$vql$vq{$vq!W$vq!f$vq!g$vq!i$vq!m$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#o$vq#p$vq#r$vq#t$vq#v$vq#w$vq'm$vq(T$vq(d$vq!h$vq!T$vq'k$vq#Y$vqp$vq!Y$vq%b$vq!b$vq~P#,gO#e$xqP$xqY$xq_$xql$xq{$xq!W$xq!f$xq!g$xq!i$xq!m$xq#h$xq#i$xq#j$xq#k$xq#l$xq#m$xq#n$xq#o$xq#p$xq#r$xq#t$xq#v$xq#w$xq'm$xq(T$xq(d$xq!h$xq!T$xq'k$xq#Y$xqp$xq!Y$xq%b$xq!b$xq~P#,gO!W'Ri!h'Ri~P!7zO#z#]q!W#]q!X#]q~P#CQOz/yO{/yO}/zOPwaYwahwalwa!fwa!gwa!iwa!mwa#hwa#iwa#jwa#kwa#lwa#mwa#nwa#owa#pwa#rwa#twa#vwa#wwa#zwa(Twa(dwa(kwa(lwa!Wwa!Xwa~Oz)vO})wOP$maY$mah$mal$ma{$ma!f$ma!g$ma!i$ma!m$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#o$ma#p$ma#r$ma#t$ma#v$ma#w$ma#z$ma(T$ma(d$ma(k$ma(l$ma!W$ma!X$ma~Oz)vO})wOP$oaY$oah$oal$oa{$oa!f$oa!g$oa!i$oa!m$oa#h$oa#i$oa#j$oa#k$oa#l$oa#m$oa#n$oa#o$oa#p$oa#r$oa#t$oa#v$oa#w$oa#z$oa(T$oa(d$oa(k$oa(l$oa!W$oa!X$oa~OP$}aY$}al$}a{$}a!f$}a!g$}a!i$}a!m$}a#h$}a#i$}a#j$}a#k$}a#l$}a#m$}a#n$}a#o$}a#p$}a#r$}a#t$}a#v$}a#w$}a#z$}a(T$}a(d$}a!W$}a!X$}a~P%A_O#z$iq!W$iq!X$iq~P#CQO#z$jq!W$jq!X$jq~P#CQO!X8WO~O#z8XO~P!0kO!b#uO!W']i!h']i~O!b#uO(d'gO!W']i!h']i~O!W/VO!h(qq~O!T'_i!W'_i~P#,gO!W/_O!T(rq~O!T8_O~P#,gO!T8_O~Oe(Ry!W(Ry~P!0kO!W'ba!Y'ba~P#,gO_%Uq!Y%Uq'm%Uq!W%Uq~P#,gOY8dO~O!W0bO!X(zq~O#Y8hO!W'da!X'da~O!W4nO!X(wi~P#CQOPZXYZXlZXzZX{ZX}ZX!TZX!WZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX~O!b%SX#p%SX~P&2_O!Y0zO%b8lO~O'xTO'{UO(W8qO~O!W1VO!X(xq~O!h8tO~O!h8uO~O!h8vO~O!h8vO~P%[O#Y8yO!W#by!X#by~O!W#by!X#by~P#CQO!Y'VO%b9OO~O#z#xy!W#xy!X#xy~P#CQOP$viY$vil$vi{$vi!f$vi!g$vi!i$vi!m$vi#h$vi#i$vi#j$vi#k$vi#l$vi#m$vi#n$vi#o$vi#p$vi#r$vi#t$vi#v$vi#w$vi#z$vi(T$vi(d$vi!W$vi!X$vi~P%A_Oz)vO})wO(l){OP%YiY%Yih%Yil%Yi{%Yi!f%Yi!g%Yi!i%Yi!m%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#o%Yi#p%Yi#r%Yi#t%Yi#v%Yi#w%Yi#z%Yi(T%Yi(d%Yi(k%Yi!W%Yi!X%Yi~Oz)vO})wOP%[iY%[ih%[il%[i{%[i!f%[i!g%[i!i%[i!m%[i#h%[i#i%[i#j%[i#k%[i#l%[i#m%[i#n%[i#o%[i#p%[i#r%[i#t%[i#v%[i#w%[i#z%[i(T%[i(d%[i(k%[i(l%[i!W%[i!X%[i~O#z$jy!W$jy!X$jy~P#CQO#z#]y!W#]y!X#]y~P#CQO!b#uO!W']q!h']q~O!W/VO!h(qy~O!T'_q!W'_q~P#,gO!T9VO~P#,gO!W0bO!X(zy~O!W4nO!X(wq~O!Y0zO%b9^O~O!h9aO~O!Y'VO%b9fO~OP$vqY$vql$vq{$vq!f$vq!g$vq!i$vq!m$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#o$vq#p$vq#r$vq#t$vq#v$vq#w$vq#z$vq(T$vq(d$vq!W$vq!X$vq~P%A_OP$xqY$xql$xq{$xq!f$xq!g$xq!i$xq!m$xq#h$xq#i$xq#j$xq#k$xq#l$xq#m$xq#n$xq#o$xq#p$xq#r$xq#t$xq#v$xq#w$xq#z$xq(T$xq(d$xq!W$xq!X$xq~P%A_Oe%^!Z!W%^!Z#Y%^!Z#z%^!Z~P!0kO!W'dq!X'dq~P#CQO!W#b!Z!X#b!Z~P#CQO#e%^!ZP%^!ZY%^!Z_%^!Zl%^!Z{%^!Z!W%^!Z!f%^!Z!g%^!Z!i%^!Z!m%^!Z#h%^!Z#i%^!Z#j%^!Z#k%^!Z#l%^!Z#m%^!Z#n%^!Z#o%^!Z#p%^!Z#r%^!Z#t%^!Z#v%^!Z#w%^!Z'm%^!Z(T%^!Z(d%^!Z!h%^!Z!T%^!Z'k%^!Z#Y%^!Zp%^!Z!Y%^!Z%b%^!Z!b%^!Z~P#,gOP%^!ZY%^!Zl%^!Z{%^!Z!f%^!Z!g%^!Z!i%^!Z!m%^!Z#h%^!Z#i%^!Z#j%^!Z#k%^!Z#l%^!Z#m%^!Z#n%^!Z#o%^!Z#p%^!Z#r%^!Z#t%^!Z#v%^!Z#w%^!Z#z%^!Z(T%^!Z(d%^!Z!W%^!Z!X%^!Z~P%A_Op(XX~P1qO'w!lO~P!*SO!TdX!WdX#YdX~P&2_OPZXYZXlZXzZX{ZX}ZX!WZX!WdX!fZX!gZX!iZX!mZX#YZX#YdX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX~O!bdX!hZX!hdX(ddX~P&GuOP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!YXO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'v)UO'xTO'{UO(TVO(c[O(p;`O~O!W:VO!X$la~Oj%SOl$tOm$sOn$sOt%TOv%UOx:]O}${O!Y$|O!d;gO!i$xO#d:cO$R%YO$n:_O$p:aO$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~O#q)]O~P&LkO!XZX!XdX~P&GuO#e9yO~O!b#uO#e9yO~O#Y:ZO~O#p:OO~O#Y:eO!W(iX!X(iX~O#Y:ZO!W(gX!X(gX~O#e:fO~Oe:hO~P!0kO#e:mO~O#e:nO~O!b#uO#e:oO~O!b#uO#e:fO~O#z:pO~P#CQO#e:qO~O#e:rO~O#e:sO~O#e:tO~O#e:uO~O#e:vO~O#z:wO~P!0kO#z:xO~P!0kO$V~!g!}#O#Q#R#U#c#d#o(p$n$p$s%V%a%b%c%j%l%o%p%r%t~'qR$V(p#i!S'o'w#jm#h#klz'p(W'p'v$X$Z$X~",goto:"$'R)OPPPP)PPP)SP)eP*t.xPPPP5YPP5pP;l>sP?WP?WPPP?WP@xP?WP?WP?WP@|PPARPAlPFdPPPFhPPPPFhIiPPPIoJjPFhPLxPPPP! WFhPPPFhPFhP!#fFhP!&z!'|!(VP!(y!(}!(yPPPPP!,Y!'|PP!,v!-pP!0dFhFh!0i!3s!8Y!8Y!<OPPP!<VFhPPPPPPPPPPP!?dP!@uPPFh!BSPFhPFhFhFhFhPFh!CfPP!FnP!IrP!Iv!JQ!JU!JUP!FkP!JY!JYP!M^P!MbFhFh!Mh#!k?WP?WP?W?WP##v?W?W#%r?W#(R?W#)w?W?W#*f#,d#,d#,h#,p#,d#,xP#,dP?W#-b?W#.k?W?W5YPPP#/wPPP#0b#0bP#0bP#0x#0bPP#1OP#0uP#0u#1c#0u#1}#2T5V)S#2W)SP#2_#2_#2_P)SP)SP)SP)SPP)SP#2e#2hP#2h)SP#2lP#2oP)SP)SP)SP)SP)SP)S)SPP#2u#2{#3W#3^#3d#3j#3p#4O#4U#4[#4f#4l#4v#5V#5]#5}#6a#6g#6m#6{#7b#8s#9R#9X#9_#9e#9k#9u#9{#:R#:]#:o#:uPPPPPPPPPP#:{PPPPPPP#;p#>wP#@W#@_#@gPPPP#Du#Gl#NT#NW#NZ$ S$ V$ Y$ a$ iPP$ o$ s$!k$#j$#n$$SPP$$W$$^$$bP$$e$$i$$l$%b$%y$&b$&f$&i$&l$&r$&u$&y$&}R!{RoqOXst!Z#c%f&i&k&l&n,b,g1g1jY!uQ'V-S0z4uQ%lvQ%tyQ%{|Q&a!VS&}!e,zQ']!iS'c!r!xS*_$|*dQ+`%uQ+m%}Q,R&ZQ-Q'UQ-['^Q-d'dQ/p*fQ1U,SR:d9u%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|,_,b,g-W-`-n-t.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2w4r4|5^5_5b5u7Z7`7o7yS#p]9r!r)W$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ*o%VQ+e%wQ,T&^Q,[&fQ.X:[Q0W+WQ0[+YQ0g+fQ1^,YQ2k.UQ4`0bQ5T1VQ6R2oQ6X:]Q6z4aR8P6S&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;ct!nQ!r!u!x!y&}'U'V'c'd'e,z-Q-S-d0z4u4w$^$si#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mQ&O|Q&{!eS'R%b,}Q+e%wQ/{*sQ0g+fQ0l+lQ1],XQ1^,YQ4`0bQ4i0nQ5W1XQ5X1[Q6z4aQ6}4fQ7h5ZQ8g7OR8r7ernOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jR,V&b&v^OPXYstuvwz!Z!`!g!j!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'X'i'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;b;c[#[WZ#V#Y'O'y!S%cm#g#h#k%^%a(S(^(_(`*z*{*},^,t-r-x-y-z-|1o2g2h5k5|Q%oxQ%syS%x|%}Q&U!TQ'Y!hQ'[!iQ(g#rS*R$x*VS+_%t%uQ+c%wQ+|&XQ,Q&ZS-Z']'^Q.W(hQ/Z*SQ0`+`Q0f+fQ0h+gQ0k+kQ1P+}S1T,R,SQ2X-[Q3g/VQ4_0bQ4c0eQ4h0mQ5S1UQ6d3hQ6y4aQ6|4eQ8c6xR9X8dv$zi#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i!S%qy!i!t%s%t%u&|'[']'^'b'l*^+_+`,w-Z-[-c/h0`2Q2X2`3zQ+X%oQ+r&RQ+u&SQ,P&ZQ.V(gQ1O+|U1S,Q,R,SQ2p.WQ4}1PS5R1T1UQ7d5S#O;d#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mg;e:X:Y:_:a:c:j:l:n:r:t:xW%Pi%R*l;`S&R!Q&`Q&S!RQ&T!SR+p&P$_%Oi#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mT)r$u)sV*p%V:[:]U'R!e%b,}S(u#y#zQ+j%zS.P(c(dQ0u+vQ4P/yR7S4n&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;c$i$`c#X#d%j%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.j.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VT#SV#T&}kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ'P!eR1|,zv!nQ!e!r!u!x!y&}'U'V'c'd'e,z-Q-S-d0z4u4wS*^$|*dS/h*_*fQ/q*gQ0w+xQ3z/pR3}/snqOXst!Z#c%f&i&k&l&n,b,g1g1jQ&p!^Q'm!wS(i#t9yQ+]%rQ+z&UQ+{&WQ-X'ZQ-f'fS.](n:fS0O*x:oQ0^+^Q0y+yQ1n,iQ1p,jQ1x,uQ2V-YQ2Y-^S4U0P:uQ4Z0_S4^0a:vQ5m1zQ5q2WQ5v2_Q6w4[Q7t5oQ7u5rQ7x5wR8x7q$d$_c#X#d%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VS(f#o'`U*i$}(m3ZS+S%j.jQ2l0WQ6O2kQ8O6RR9P8P$d$^c#X#d%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VS(e#o'`S(w#z$_S+R%j.jS.Q(d(fQ.m)XQ0T+SR2i.R&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cS#p]9rQ&k!XQ&l!YQ&n![Q&o!]R1f,eQ'W!hQ+U%oQ-V'YS.S(g+XQ2T-UW2m.V.W0V0XQ5p2UU5}2j2l2pS7{6O6QS8}7}8OS9d8|9PQ9l9eR9o9mU!vQ'V-ST4s0z4u!Q_OXZ`st!V!Z#c#g%^%f&`&b&i&k&l&n(`,b,g-y1g1j]!pQ!r'V-S0z4uT#p]9r%Y{OPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yS(u#y#zS.P(c(d!s:|$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cY!tQ'V-S0z4uQ'b!rS'l!u!xS'n!y4wS-c'c'dQ-e'eR2`-dQ'k!tS([#f1aS-b'b'nQ/Y*RQ/f*^Q2a-eQ3l/ZS3u/g/qQ6c3gS6n3{3}Q8Z6dR8b6qQ#vbQ'j!tS(Z#f1aS(]#l*wQ*y%_Q+Z%pQ+a%vU-a'b'k'nQ-u([Q/X*RQ/e*^Q/k*aQ0]+[Q1Q,OS2^-b-eQ2f-}S3k/Y/ZS3t/f/qQ3w/jQ3y/lQ5P1RQ5x2aQ6b3gQ6f3lS6j3u3}Q6o3|Q7b5QS8Y6c6dQ8^6kQ8`6nQ8o7cQ9T8ZQ9U8_Q9W8bQ9`8pQ9h9VQ;P:zQ;[;TR;];UV!vQ'V-S%YaOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yS#vz!j!r:y$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cR;P;b%YbOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yQ%_j!S%py!i!t%s%t%u&|'[']'^'b'l*^+_+`,w-Z-[-c/h0`2Q2X2`3zS%vz!jQ+[%qQ,O&ZW1R,P,Q,R,SU5Q1S1T1US7c5R5SQ8p7d!r:z$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ;T;aR;U;b$|eOPXYstuvw!Z!`!g!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yY#aWZ#V#Y'y!S%cm#g#h#k%^%a(S(^(_(`*z*{*},^,t-r-x-y-z-|1o2g2h5k5|Q,]&f!p:{$[$m)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cR;O'OS'S!e%bR2O,}%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|,_,b,g-W-`-n-t.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2w4r4|5^5_5b5u7Z7`7o7y!r)W$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ,[&fQ0W+WQ2k.UQ6R2oR8P6S!f$Uc#X%j'x(O(j(q)Q)R)S)T)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9s!T:Q)V)h,x.j1v1y2{3T3U3V3W3[3b5n6W6]6^7U7s8Q8U8V9Z9b;V!b$Wc#X%j'x(O(j(q)S)T)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9s!P:S)V)h,x.j1v1y2{3V3W3[3b5n6W6]6^7U7s8Q8U8V9Z9b;V!^$[c#X%j'x(O(j(q)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9sQ3f/Tz;c)V)h,x.j1v1y2{3[3b5n6W6]6^7U7s8Q8U8V9Z9b;VQ;h;jR;i;k&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cS$nh$oR3_.p'TgOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.p.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cT$jf$pQ$hfS)a$k)eR)m$pT$if$pT)c$k)e'ThOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.p.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cT$nh$oQ$qhR)l$o%YjOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7y!s;a$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;c#clOPXZst!Z!`!o#R#c#n#{$m%f&b&e&f&i&k&l&n&r&z'X(v)j*|+W,_,b,g-W.U.q/z0}1_1`1b1d1g1j1l2o3^4r4|5^5_5b6S7Z7`7ov$}i#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i#O(m#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mQ*t%ZQ.|)vg3Z:X:Y:_:a:c:j:l:n:r:t:xv$yi#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;iQ*W$zS*a$|*dQ*u%[Q/l*b#O;R#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mf;S:X:Y:_:a:c:j:l:n:r:t:xQ;W;dQ;X;eQ;Y;fR;Z;gv$}i#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i#O(m#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mg3Z:X:Y:_:a:c:j:l:n:r:t:xnoOXst!Z#c%f&i&k&l&n,b,g1g1jQ*Z${Q,p&uQ,q&wR3o/_$^%Oi#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mQ+s&SQ0s+uQ4l0rR7R4mT*c$|*dS*c$|*dT4t0z4uS/j*`4rT3|/r7ZQ+Z%pQ/k*aQ0]+[Q1Q,OQ5P1RQ7b5QQ8o7cR9`8pn)z$v(o*v/]/t/u2t3m4S6a6r9S;Q;^;_!Y:i(k)[*Q*Y.[.x.}/T/b0U0p0r2s3n3r4k4m6T6U6h6l6t6v8]8a9g;j;k]:j3Y6[8R9Q9R9pp)|$v(o*v/R/]/t/u2t3m4S6a6r9S;Q;^;_![:k(k)[*Q*Y.[.x.}/T/b0U0p0r2q2s3n3r4k4m6T6U6h6l6t6v8]8a9g;j;k_:l3Y6[8R8S9Q9R9prnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jQ&]!UR,_&frnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jR&]!UQ+w&TR0o+psnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jQ0{+|S4z1O1PU7[4x4y4}S8k7^7_S9[8j8mQ9i9]R9n9jQ&d!VR,W&`R5W1XS%x|%}R0h+gQ&i!WR,b&jR,h&oT1h,g1jR,l&pQ,k&pR1q,lQ'p!zR-h'pSsOtQ#cXT%is#cQ!}TR'r!}Q#QUR't#QQ)s$uR.y)sQ#TVR'v#TQ#WWU'|#W'}-oQ'}#XR-o(OQ,{'PR1},{Q.`(oR2u.`Q.c(qS2x.c2yR2y.dQ-S'VR2R-SY!rQ'V-S0z4uR'a!rS#^W%aU(T#^(U-pQ(U#_R-p(PQ-O'SR2P-Ot`OXst!V!Z#c%f&`&b&i&k&l&n,b,g1g1jS#gZ%^U#q`#g-yR-y(`Q(a#iQ-v(]W.O(a-v2d5zQ2d-wR5z2eQ)e$kR.r)eQ$ohR)k$oQ$bcU)Z$b-k:WQ-k9sR:W)hQ/W*RW3i/W3j6e8[U3j/X/Y/ZS6e3k3lR8[6f#o)x$v(k(o)[*Q*Y*q*r*v.Y.Z.[.x.}/R/S/T/]/b/t/u0U0p0r2q2r2s2t3Y3m3n3r4S4k4m6T6U6Y6Z6[6a6h6l6r6t6v8R8S8T8]8a9Q9R9S9g9p;Q;^;_;j;kQ/`*YU3q/`3s6iQ3s/bR6i3rQ*d$|R/n*dQ*m%QR/w*mQ4X0UR6u4XQ+O%dR0S+OQ4o0uS7T4o8iR8i7UQ+y&UR0x+yQ4u0zR7X4uQ1W,TS5U1W7fR7f5WQ0c+cW4b0c4d6{8eQ4d0fQ6{4cR8e6|Q+h%xR0i+hQ1j,gR5f1jYrOXst#cQ&m!ZQ+Q%fQ,a&iQ,c&kQ,d&lQ,f&nQ1e,bS1h,g1jR5e1gQ%hpQ&q!_Q&t!aQ&v!bQ&x!cQ'h!tQ+P%eQ+]%rQ+o&OQ,V&dQ,n&sW-_'b'j'k'nQ-f'fQ/m*cQ0^+^S1Z,W,ZQ1r,mQ1s,pQ1t,qQ2Y-^W2[-a-b-e-gQ4Z0_Q4g0lQ4j0pQ5O1QQ5Y1]Q5d1fU5s2Z2^2aQ5v2_Q6w4[Q7P4iQ7Q4kQ7W4tQ7a5PQ7g5XS7v5t5xQ7x5wQ8f6}Q8n7bQ8s7hQ8z7wQ9Y8gQ9_8oQ9c8{R9k9`Q%ryQ'Z!iQ'f!tU+^%s%t%uQ,u&|U-Y'[']'^S-^'b'lQ/d*^S0_+_+`Q1z,wS2W-Z-[Q2_-cQ3v/hQ4[0`Q5o2QQ5r2XQ5w2`R6m3zS$wi;`R*n%RU%Qi%R;`R/v*lQ$viS(k#u+YQ(o#wS)[$c$dQ*Q$xQ*Y${Q*q%WQ*r%XQ*v%]Q.Y:^Q.Z:`Q.[:bQ.x)qS.})w/PQ/R)zQ/S)|Q/T)}Q/]*UQ/b*[Q/t*jQ/u*kh0U+V.T0|2n4{6P7]7|8l9O9^9fQ0p+qQ0r+tQ2q:iQ2r:kQ2s:mQ2t._S3Y:X:YQ3m/^Q3n/_Q3r/aQ4S/|Q4k0qQ4m0tQ6T:qQ6U:sQ6Y:_Q6Z:aQ6[:cQ6a3fQ6h3pQ6l3xQ6r4OQ6t4WQ6v4YQ8R:nQ8S:jQ8T:lQ8]6gQ8a6pQ9Q:rQ9R:tQ9S8XQ9g:wQ9p:xQ;Q;`Q;^;hQ;_;iQ;j;lR;k;mnpOXst!Z#c%f&i&k&l&n,b,g1g1jQ!fPS#eZ#nQ&s!`U'_!o4r7ZQ'u#RQ(x#{Q)i$mS,Z&b&eQ,`&fQ,m&rQ,r&zQ-U'XQ.f(vQ.v)jQ0Q*|Q0X+WQ1c,_Q2U-WQ2l.UQ3a.qQ4Q/zQ4y0}Q5[1_Q5]1`Q5a1bQ5c1dQ5h1lQ6O2oQ6_3^Q7_4|Q7k5^Q7l5_Q7n5bQ8O6SQ8m7`R8w7o#WcOPXZst!Z!`!o#c#n#{%f&b&e&f&i&k&l&n&r&z'X(v*|+W,_,b,g-W.U/z0}1_1`1b1d1g1j1l2o4r4|5^5_5b6S7Z7`7oQ#XWQ#dYQ%juQ%kvS%mw!gS'x#V'{Q(O#YQ(j#tQ(q#xQ(y$OQ(z$PQ({$QQ(|$RQ(}$SQ)O$TQ)P$UQ)Q$VQ)R$WQ)S$XQ)T$YQ)V$[Q)Y$aQ)^$eW)h$m)j.q3^Q+T%lQ+i%yS,x'O1{Q-g'iS-l'y-nQ-q(RQ-s(YQ.^(nQ.d(rQ.h9qQ.j9tQ.k9uQ.l9xQ.{)uQ/}*xQ1v,sQ1y,vQ2Z-`Q2b-tQ2v.bQ2{9yQ2|9zQ2}9{Q3O9|Q3P9}Q3Q:OQ3R:PQ3S:QQ3T:RQ3U:SQ3V:TQ3W:UQ3X.iQ3[:ZQ3]:dQ3b:VQ4T0PQ4]0aQ5n:eQ5t2]Q5y2cQ6V2wQ6W:fQ6]:hQ6^:oQ7U4pQ7s5lQ7w5uQ8Q:pQ8U:uQ8V:vQ8{7yQ9Z8hQ9b8yQ9s#RR;V;cR#ZWR'Q!eY!tQ'V-S0z4uS&|!e,zQ'b!rS'l!u!xS'n!y4wS,w&}'US-c'c'dQ-e'eQ2Q-QR2`-dR(p#wR(s#xQ!fQT-R'V-S]!qQ!r'V-S0z4uQ#o]R'`9rT#jZ%^S#iZ%^S%dm,^U(]#g#h#kS-w(^(_Q-{(`Q0R*}Q2e-xU2f-y-z-|S5{2g2hR7z5|`#]W#V#Y%a'y(S*z-rr#fZm#g#h#k%^(^(_(`*}-x-y-z-|2g2h5|Q1a,^Q1w,tQ5j1oQ7r5kT:}'O*{T#`W%aS#_W%aS'z#V(SS(P#Y*zS,y'O*{T-m'y-rT'T!e%bQ$kfR)o$pT)d$k)eR3`.pT*T$x*VR*]${Q0V+VQ2j.TQ4x0|Q6Q2nQ7^4{Q7}6PQ8j7]Q8|7|Q9]8lQ9e9OQ9j9^R9m9fnqOXst!Z#c%f&i&k&l&n,b,g1g1jQ&c!VR,V&`tmOXst!U!V!Z#c%f&`&i&k&l&n,b,g1g1jR,^&fT%em,^R0v+vR,U&^Q%||R+n%}R+d%wT&g!W&jT&h!W&jT1i,g1j",nodeNames:"⚠ ArithOp ArithOp LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:367,context:gR,nodeProps:[["group",-26,7,15,17,63,200,204,208,209,211,214,217,227,229,235,237,239,241,244,250,256,258,260,262,264,266,267,"Statement",-32,11,12,26,29,30,36,46,49,50,52,57,65,73,77,79,81,82,104,105,114,115,132,135,137,138,139,140,142,143,163,164,166,"Expression",-23,25,27,31,35,37,39,167,169,171,172,174,175,176,178,179,180,182,183,184,194,196,198,199,"Type",-3,85,97,103,"ClassItem"],["openedBy",32,"InterpolationStart",51,"[",55,"{",70,"(",144,"JSXStartTag",156,"JSXStartTag JSXStartCloseTag"],["closedBy",34,"InterpolationEnd",45,"]",56,"}",71,")",145,"JSXSelfCloseEndTag JSXEndTag",161,"JSXEndTag"]],propSources:[vR],skippedNodes:[0,3,4,270],repeatNodeCount:33,tokenData:"$Fl(CSR!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#8g!R![#:v![!]#Gv!]!^#IS!^!_#J^!_!`#Nu!`!a$#a!a!b$(n!b!c$,m!c!}Er!}#O$-w#O#P$/R#P#Q$4j#Q#R$5t#R#SEr#S#T$7R#T#o$8]#o#p$<m#p#q$=c#q#r$>s#r#s$@P#s$f%Z$f$g+g$g#BYEr#BY#BZ$AZ#BZ$ISEr$IS$I_$AZ$I_$I|Er$I|$I}$Df$I}$JO$Df$JO$JTEr$JT$JU$AZ$JU$KVEr$KV$KW$AZ$KW&FUEr&FU&FV$AZ&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AZ?HUOEr(n%d_$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$e&j'|!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU'|!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$e&j'ypOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU'ypOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z(CS+rq$e&j'yp'|!b'o(;dOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z(CS.ST'z#S$e&j'p(;dO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c(CS.n_$e&j'yp'|!b'p(;dOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`/x`$e&j!m$Ip'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S1V`#r$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S2d_#r$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b3l_'x$(n$e&j'|!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k*r4r_$e&j'|!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k)`5vX$e&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q)`6jT$`#t$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#t6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y#t7bO$`#t#t7eP;=`<%l6y)`7kP;=`<%l5q*r7w]$`#t$e&j'|!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}%W8uZ'|!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p%W9oU$`#t'|!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}%W:UP;=`<%l8p*r:[P;=`<%l4k#%|:hh$e&j'yp'|!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__US$e&j'yp'|!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]US$e&j'|!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXUS$e&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSUSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWUS'|!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]US$e&j'ypOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWUS'ypOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYUS'yp'|!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S#%|C}i$e&j(c!L^'yp'|!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr#%|EoP;=`<%lCr(CSFRk$e&j'yp'|!b(W!LY'v&;d$X#tOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$e&j'yp'|!b$X#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv(CSJPP;=`<%lEr%#SJ_`$e&j'yp'|!b#j$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SKl_$e&j#|$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%DfLva(l%<v$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SNW`$e&j#v$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b! c_'{$)`$e&j'ypOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b*Q!!i_$e&j'ypOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b)`!#mX$e&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h#t!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y#t!$oP;=`<%l!$Y)`!$uP;=`<%l!#h*Q!%R]$`#t$e&j'ypOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r$f!&PZ'ypOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z$f!&yU$`#t'ypOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r$f!'`P;=`<%l!%z*Q!'fP;=`<%l!!b(*Q!'t_!i(!b$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'l!)O_!hM|$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h!*[b$e&j'yp'|!b'w#)d#k$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!+o`$e&j'yp'|!b#h$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&-O!,|`$e&j'yp'|!bl&%`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&C[!.Z_!W&;l$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!/ec$e&j'yp'|!bz'<nOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!0ya$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!2Z_!VMt$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!3eg$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!5Vg$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!6wc$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!8_c$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!9uf$e&j'yp'|!b#i$IdOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpxz!;Zz{#,f{!P!;Z!P!Q#-{!Q!^!;Z!^!_#'Z!_!`#5k!`!a#7Q!a!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(r!;fb$e&j'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(Q!<w`$e&j'|!b!SSOY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eb!Q!^!<n!^!_!GY!_!}!<n!}#O!Ja#O#P!Dj#P#o!<n#o#p!GY#p;'S!<n;'S;=`!Kj<%lO!<n&n!>Q^$e&j!SSOY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@Y!_!}!=y!}#O!Bw#O#P!Dj#P#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!?Ta$e&j!SSO!^&c!_#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&cS!@_X!SSOY!@YZ!P!@Y!P!Q!@z!Q!}!@Y!}#O!Ac#O#P!Bb#P;'S!@Y;'S;=`!Bq<%lO!@YS!APU!SS#Z#[!@z#]#^!@z#a#b!@z#g#h!@z#i#j!@z#m#n!@zS!AfVOY!AcZ#O!Ac#O#P!A{#P#Q!@Y#Q;'S!Ac;'S;=`!B[<%lO!AcS!BOSOY!AcZ;'S!Ac;'S;=`!B[<%lO!AcS!B_P;=`<%l!AcS!BeSOY!@YZ;'S!@Y;'S;=`!Bq<%lO!@YS!BtP;=`<%l!@Y&n!B|[$e&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#O!Bw#O#P!Cr#P#Q!=y#Q#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!CwX$e&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!DgP;=`<%l!Bw&n!DoX$e&jOY!=yYZ&cZ!^!=y!^!_!@Y!_#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!E_P;=`<%l!=y(Q!Eki$e&j'|!b!SSOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#Z&}#Z#[!Eb#[#]&}#]#^!Eb#^#a&}#a#b!Eb#b#g&}#g#h!Eb#h#i&}#i#j!Eb#j#m&}#m#n!Eb#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!f!GaZ'|!b!SSOY!GYZw!GYwx!@Yx!P!GY!P!Q!HS!Q!}!GY!}#O!Ic#O#P!Bb#P;'S!GY;'S;=`!JZ<%lO!GY!f!HZb'|!b!SSOY'}Zw'}x#O'}#P#Z'}#Z#[!HS#[#]'}#]#^!HS#^#a'}#a#b!HS#b#g'}#g#h!HS#h#i'}#i#j!HS#j#m'}#m#n!HS#n;'S'};'S;=`(f<%lO'}!f!IhX'|!bOY!IcZw!Icwx!Acx#O!Ic#O#P!A{#P#Q!GY#Q;'S!Ic;'S;=`!JT<%lO!Ic!f!JWP;=`<%l!Ic!f!J^P;=`<%l!GY(Q!Jh^$e&j'|!bOY!JaYZ&cZw!Jawx!Bwx!^!Ja!^!_!Ic!_#O!Ja#O#P!Cr#P#Q!<n#Q#o!Ja#o#p!Ic#p;'S!Ja;'S;=`!Kd<%lO!Ja(Q!KgP;=`<%l!Ja(Q!KmP;=`<%l!<n'`!Ky`$e&j'yp!SSOY!KpYZ&cZr!Kprs!=ys!P!Kp!P!Q!L{!Q!^!Kp!^!_!Ns!_!}!Kp!}#O##z#O#P!Dj#P#o!Kp#o#p!Ns#p;'S!Kp;'S;=`#%T<%lO!Kp'`!MUi$e&j'yp!SSOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#Z(r#Z#[!L{#[#](r#]#^!L{#^#a(r#a#b!L{#b#g(r#g#h!L{#h#i(r#i#j!L{#j#m(r#m#n!L{#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rt!NzZ'yp!SSOY!NsZr!Nsrs!@Ys!P!Ns!P!Q# m!Q!}!Ns!}#O#!|#O#P!Bb#P;'S!Ns;'S;=`##t<%lO!Nst# tb'yp!SSOY)rZr)rs#O)r#P#Z)r#Z#[# m#[#])r#]#^# m#^#a)r#a#b# m#b#g)r#g#h# m#h#i)r#i#j# m#j#m)r#m#n# m#n;'S)r;'S;=`*Z<%lO)rt##RX'ypOY#!|Zr#!|rs!Acs#O#!|#O#P!A{#P#Q!Ns#Q;'S#!|;'S;=`##n<%lO#!|t##qP;=`<%l#!|t##wP;=`<%l!Ns'`#$R^$e&j'ypOY##zYZ&cZr##zrs!Bws!^##z!^!_#!|!_#O##z#O#P!Cr#P#Q!Kp#Q#o##z#o#p#!|#p;'S##z;'S;=`#$}<%lO##z'`#%QP;=`<%l##z'`#%WP;=`<%l!Kp(r#%fk$e&j'yp'|!b!SSOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#Z%Z#Z#[#%Z#[#]%Z#]#^#%Z#^#a%Z#a#b#%Z#b#g%Z#g#h#%Z#h#i%Z#i#j#%Z#j#m%Z#m#n#%Z#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#W#'d]'yp'|!b!SSOY#'ZZr#'Zrs!GYsw#'Zwx!Nsx!P#'Z!P!Q#(]!Q!}#'Z!}#O#)w#O#P!Bb#P;'S#'Z;'S;=`#*w<%lO#'Z#W#(fe'yp'|!b!SSOY*gZr*grs'}sw*gwx)rx#O*g#P#Z*g#Z#[#(]#[#]*g#]#^#(]#^#a*g#a#b#(]#b#g*g#g#h#(]#h#i*g#i#j#(]#j#m*g#m#n#(]#n;'S*g;'S;=`+Z<%lO*g#W#*OZ'yp'|!bOY#)wZr#)wrs!Icsw#)wwx#!|x#O#)w#O#P!A{#P#Q#'Z#Q;'S#)w;'S;=`#*q<%lO#)w#W#*tP;=`<%l#)w#W#*zP;=`<%l#'Z(r#+W`$e&j'yp'|!bOY#*}YZ&cZr#*}rs!Jasw#*}wx##zx!^#*}!^!_#)w!_#O#*}#O#P!Cr#P#Q!;Z#Q#o#*}#o#p#)w#p;'S#*};'S;=`#,Y<%lO#*}(r#,]P;=`<%l#*}(r#,cP;=`<%l!;Z(CS#,sb$e&j'yp'|!b'q(;d!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(CS#.W_$e&j'yp'|!bR(;dOY#-{YZ&cZr#-{rs#/Vsw#-{wx#2gx!^#-{!^!_#4f!_#O#-{#O#P#0X#P#o#-{#o#p#4f#p;'S#-{;'S;=`#5e<%lO#-{(Bb#/`]$e&j'|!bR(;dOY#/VYZ&cZw#/Vwx#0Xx!^#/V!^!_#1j!_#O#/V#O#P#0X#P#o#/V#o#p#1j#p;'S#/V;'S;=`#2a<%lO#/V(AO#0`X$e&jR(;dOY#0XYZ&cZ!^#0X!^!_#0{!_#o#0X#o#p#0{#p;'S#0X;'S;=`#1d<%lO#0X(;d#1QSR(;dOY#0{Z;'S#0{;'S;=`#1^<%lO#0{(;d#1aP;=`<%l#0{(AO#1gP;=`<%l#0X(<v#1qW'|!bR(;dOY#1jZw#1jwx#0{x#O#1j#O#P#0{#P;'S#1j;'S;=`#2Z<%lO#1j(<v#2^P;=`<%l#1j(Bb#2dP;=`<%l#/V(Ap#2p]$e&j'ypR(;dOY#2gYZ&cZr#2grs#0Xs!^#2g!^!_#3i!_#O#2g#O#P#0X#P#o#2g#o#p#3i#p;'S#2g;'S;=`#4`<%lO#2g(<U#3pW'ypR(;dOY#3iZr#3irs#0{s#O#3i#O#P#0{#P;'S#3i;'S;=`#4Y<%lO#3i(<U#4]P;=`<%l#3i(Ap#4cP;=`<%l#2g(=h#4oY'yp'|!bR(;dOY#4fZr#4frs#1jsw#4fwx#3ix#O#4f#O#P#0{#P;'S#4f;'S;=`#5_<%lO#4f(=h#5bP;=`<%l#4f(CS#5hP;=`<%l#-{%#W#5xb$e&j#|$Id'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z+h#7_b$U#t$e&j'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z$/l#8rp$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#U%Z#U#V#>Q#V#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#d#AY#d#l%Z#l#m#D[#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#;Rk$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#=R_$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#>Zd$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#?tf$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Acc$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Bye$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Deg$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#FXi$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#HT_!b$b$e&j#z%<f'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#I___l$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS#Jm^(P!*v!f'.r'yp'|!b$V)d(pSOY*gZr*grs'}sw*gwx)rx!P*g!P!Q#Ki!Q!^*g!^!_#L_!_!`#NP!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#KrX$g&j'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#LhZ#l$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#MZ!`#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#MdX#|$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#NYX#m$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Gh$ Qa#Y%?x$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$!V!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#W$!b_#e$Ih$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh$#paeBf#m$Id$b#|$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$$u!`!a$&P!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$%Q_#m$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$&[a#l$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$'a!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$'l`#l$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h$(yc(d$Ip$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P$*U!P!^%Z!^!_*g!_!a%Z!a!b$+`!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+`$*a_{'#p$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$+k`$e&j#w$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&^$,x_!y!Ln$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^$.S_}(8n$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/WZ$e&jO!^$/y!^!_$0a!_#i$/y#i#j$0f#j#l$/y#l#m$2X#m#o$/y#o#p$0a#p;'S$/y;'S;=`$4d<%lO$/y(n$0QT]#S$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0fO]#S(n$0k[$e&jO!Q&c!Q![$1a![!^&c!_!c&c!c!i$1a!i#T&c#T#Z$1a#Z#o&c#o#p$3w#p;'S&c;'S;=`&w<%lO&c(n$1fZ$e&jO!Q&c!Q![$2X![!^&c!_!c&c!c!i$2X!i#T&c#T#Z$2X#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2^Z$e&jO!Q&c!Q![$3P![!^&c!_!c&c!c!i$3P!i#T&c#T#Z$3P#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3UZ$e&jO!Q&c!Q![$/y![!^&c!_!c&c!c!i$/y!i#T&c#T#Z$/y#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$3zR!Q![$4T!c!i$4T#T#Z$4T#S$4WS!Q![$4T!c!i$4T#T#Z$4T#q#r$0a(n$4gP;=`<%l$/y!2r$4u_!T!+S$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$6P`#t$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&,v$7^_$e&j'yp'|!b(T&%WOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$8lk$e&j'yp'|!b(W!LY'v&;d$Z#tOY%ZYZ&cZr%Zrs&}st%Ztu$8]uw%Zwx(rx}%Z}!O$:a!O!Q%Z!Q![$8]![!^%Z!^!_*g!_!c%Z!c!}$8]!}#O%Z#O#P&c#P#R%Z#R#S$8]#S#T%Z#T#o$8]#o#p*g#p$g%Z$g;'S$8];'S;=`$<g<%lO$8]+d$:lk$e&j'yp'|!b$Z#tOY%ZYZ&cZr%Zrs&}st%Ztu$:auw%Zwx(rx}%Z}!O$:a!O!Q%Z!Q![$:a![!^%Z!^!_*g!_!c%Z!c!}$:a!}#O%Z#O#P&c#P#R%Z#R#S$:a#S#T%Z#T#o$:a#o#p*g#p$g%Z$g;'S$:a;'S;=`$<a<%lO$:a+d$<dP;=`<%l$:a(CS$<jP;=`<%l$8]!5p$<vX!Y!3l'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Df$=na(k%<v$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+`#q;'S%Z;'S;=`+a<%lO%Z%#`$?Q_!X$I`p`$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(r$@[_!nS$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$Al|$e&j'yp'|!b'o(;d(W!LY'v&;d$X#tOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$AZ#BZ$ISEr$IS$I_$AZ$I_$JTEr$JT$JU$AZ$JU$KVEr$KV$KW$AZ$KW&FUEr&FU&FV$AZ&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AZ?HUOEr(CS$Dwk$e&j'yp'|!b'p(;d(W!LY'v&;d$X#tOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[OR,bR,2,3,4,5,6,7,8,9,10,11,12,13,mR,new Tu("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOr~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!P~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(V~~",141,328),new Tu("j~RQYZXz{^~^O's~~aP!P!Qd~iO't~~",25,310)],topRules:{Script:[0,5],SingleExpression:[1,268],SingleClassItem:[2,269]},dialects:{jsx:12801,ts:12803},dynamicPrecedences:{67:1,77:1,79:1,164:1,192:1},specialized:[{term:314,get:t=>yR[t]||-1},{term:330,get:t=>xR[t]||-1},{term:68,get:t=>SR[t]||-1}],tokenPrec:12827}),Kb=[jt("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),jt("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),jt("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),jt("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),jt("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),jt(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),jt("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),jt(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),jt(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),jt('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),jt('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],kR=Kb.concat([jt("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),jt("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),jt("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),Ig=new nQ,Jb=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Rs(t){return(e,i)=>{let n=e.node.getChild("VariableDefinition");return n&&i(n,t),!0}}const CR=["FunctionDeclaration"],$R={FunctionDeclaration:Rs("function"),ClassDeclaration:Rs("class"),ClassExpression:()=>!0,EnumDeclaration:Rs("constant"),TypeAliasDeclaration:Rs("type"),NamespaceDeclaration:Rs("namespace"),VariableDefinition(t,e){t.matchContext(CR)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function ev(t,e){let i=Ig.get(e);if(i)return i;let n=[],r=!0;function s(o,a){let l=t.sliceString(o.from,o.to);n.push({label:l,type:a})}return e.cursor(lt.IncludeAnonymous).iterate(o=>{if(r)r=!1;else if(o.name){let a=$R[o.name];if(a&&a(o,s)||Jb.has(o.name))return!1}else if(o.to-o.from>8192){for(let a of ev(t,o.node))n.push(a);return!1}}),Ig.set(e,n),n}const Zg=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,tv=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function _R(t){let e=ut(t.state).resolveInner(t.pos,-1);if(tv.indexOf(e.name)>-1)return null;let i=e.name=="VariableName"||e.to-e.from<20&&Zg.test(t.state.sliceDoc(e.from,e.to));if(!i&&!t.explicit)return null;let n=[];for(let r=e;r;r=r.parent)Jb.has(r.name)&&(n=n.concat(ev(t.state.doc,r)));return{options:n,from:i?e.from:t.pos,validFor:Zg}}const hr=yl.define({name:"javascript",parser:wR.configure({props:[$1.add({IfStatement:Hc({except:/^\s*({|else\b)/}),TryStatement:Hc({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:kQ,SwitchBody:t=>{let e=t.textAfter,i=/^\s*\}/.test(e),n=/^\s*(case|default)\b/.test(e);return t.baseIndent+(i?0:n?1:2)*t.unit},Block:wQ({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":Hc({except:/^{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),T1.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":PQ,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),iv={test:t=>/^JSX/.test(t.name),facet:k1({commentTokens:{block:{open:"{/*",close:"*/}"}}})},PR=hr.configure({dialect:"ts"},"typescript"),TR=hr.configure({dialect:"jsx",props:[kf.add(t=>t.isTop?[iv]:void 0)]}),QR=hr.configure({dialect:"jsx ts",props:[kf.add(t=>t.isTop?[iv]:void 0)]},"typescript");let nv=t=>({label:t,type:"keyword"});const rv="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(nv),AR=rv.concat(["declare","implements","private","protected","public"].map(nv));function ER(t={}){let e=t.jsx?t.typescript?QR:TR:t.typescript?PR:hr,i=t.typescript?kR.concat(AR):Kb.concat(rv);return new gQ(e,[hr.data.of({autocomplete:VE(tv,Ab(i))}),hr.data.of({autocomplete:_R}),t.jsx?ZR:[]])}function RR(t){for(;;){if(t.name=="JSXOpenTag"||t.name=="JSXSelfClosingTag"||t.name=="JSXFragmentTag")return t;if(t.name=="JSXEscape"||!t.parent)return null;t=t.parent}}function Mg(t,e,i=t.length){for(let n=e==null?void 0:e.firstChild;n;n=n.nextSibling)if(n.name=="JSXIdentifier"||n.name=="JSXBuiltin"||n.name=="JSXNamespacedName"||n.name=="JSXMemberExpression")return t.sliceString(n.from,Math.min(n.to,i));return""}const IR=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),ZR=F.inputHandler.of((t,e,i,n,r)=>{if((IR?t.composing:t.compositionStarted)||t.state.readOnly||e!=i||n!=">"&&n!="/"||!hr.isActiveAt(t.state,e,-1))return!1;let s=r(),{state:o}=s,a=o.changeByRange(l=>{var c;let{head:h}=l,u=ut(o).resolveInner(h-1,-1),f;if(u.name=="JSXStartTag"&&(u=u.parent),!(o.doc.sliceString(h-1,h)!=n||u.name=="JSXAttributeValue"&&u.to>h)){if(n==">"&&u.name=="JSXFragmentTag")return{range:l,changes:{from:h,insert:"</>"}};if(n=="/"&&u.name=="JSXStartCloseTag"){let d=u.parent,p=d.parent;if(p&&d.from==h-2&&((f=Mg(o.doc,p.firstChild,h))||((c=p.firstChild)===null||c===void 0?void 0:c.name)=="JSXFragmentTag")){let g=`${f}>`;return{range:Q.cursor(h+g.length,-1),changes:{from:h,insert:g}}}}else if(n==">"){let d=RR(u);if(d&&!/^\/?>|^<\//.test(o.doc.sliceString(h,h+2))&&(f=Mg(o.doc,d,h)))return{range:l,changes:{from:h,insert:`</${f}>`}}}}return{range:l}});return a.changes.empty?!1:(t.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});/*!
* VueCodemirror v6.1.1
* Copyright (c) Surmon. All rights reserved.
* Released under the MIT License.
* Surmon
*/var MR=Object.freeze({autofocus:!1,disabled:!1,indentWithTab:!0,tabSize:2,placeholder:"",autoDestroy:!0,extensions:[qb]}),sv=Symbol("vue-codemirror-global-config"),Et,DR=function(t){var e=t.onUpdate,i=t.onChange,n=t.onFocus,r=t.onBlur,s=function(o,a){var l={};for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&a.indexOf(c)<0&&(l[c]=o[c]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function"){var h=0;for(c=Object.getOwnPropertySymbols(o);h<c.length;h++)a.indexOf(c[h])<0&&Object.prototype.propertyIsEnumerable.call(o,c[h])&&(l[c[h]]=o[c[h]])}return l}(t,["onUpdate","onChange","onFocus","onBlur"]);return Ce.create({doc:s.doc,selection:s.selection,extensions:(Array.isArray(s.extensions)?s.extensions:[s.extensions]).concat([F.updateListener.of(function(o){e(o),o.docChanged&&i(o.state.doc.toString(),o),o.focusChanged&&(o.view.hasFocus?n(o):r(o))})])})},Er=function(t){var e=new Lo;return{compartment:e,run:function(i){e.get(t.state)?t.dispatch({effects:e.reconfigure(i)}):t.dispatch({effects:be.appendConfig.of(e.of(i))})}}},Dg=function(t,e){var i=Er(t),n=i.compartment,r=i.run;return function(s){var o=n.get(t.state);r(s??o!==e?e:[])}},Ta={type:Boolean,default:void 0},LR={autofocus:Ta,disabled:Ta,indentWithTab:Ta,tabSize:Number,placeholder:String,style:Object,autoDestroy:Ta,phrases:Object,root:Object,extensions:Array,selection:Object},jR={modelValue:{type:String,default:""}},NR=Object.assign(Object.assign({},LR),jR);(function(t){t.Change="change",t.Update="update",t.Focus="focus",t.Blur="blur",t.Ready="ready",t.ModelUpdate="update:modelValue"})(Et||(Et={}));var ir={};ir[Et.Change]=function(t,e){return!0},ir[Et.Update]=function(t){return!0},ir[Et.Focus]=function(t){return!0},ir[Et.Blur]=function(t){return!0},ir[Et.Ready]=function(t){return!0};var ov={};ov[Et.ModelUpdate]=ir[Et.Change];var YR=Object.assign(Object.assign({},ir),ov),qa=me({name:"VueCodemirror",props:Object.assign({},NR),emits:Object.assign({},YR),setup:function(t,e){var i=Fs(),n=Fs(),r=Fs(),s=Object.assign(Object.assign({},MR),Mn(sv,{})),o=Ue(function(){var a={};return Object.keys(Ih(t)).forEach(function(l){var c;l!=="modelValue"&&(a[l]=(c=t[l])!==null&&c!==void 0?c:s[l])}),a});return vr(function(){var a;n.value=DR({doc:t.modelValue,selection:o.value.selection,extensions:(a=s.extensions)!==null&&a!==void 0?a:[],onFocus:function(c){return e.emit(Et.Focus,c)},onBlur:function(c){return e.emit(Et.Blur,c)},onUpdate:function(c){return e.emit(Et.Update,c)},onChange:function(c,h){c!==t.modelValue&&(e.emit(Et.Change,c,h),e.emit(Et.ModelUpdate,c,h))}}),r.value=function(c){return new F(Object.assign({},c))}({state:n.value,parent:i.value,root:o.value.root});var l=function(c){var h=function(){return c.state.doc.toString()},u=Er(c).run,f=Dg(c,[F.editable.of(!1),Ce.readOnly.of(!0)]),d=Dg(c,Yo.of([pE])),p=Er(c).run,g=Er(c).run,m=Er(c).run,b=Er(c).run;return{focus:function(){return c.focus()},getDoc:h,setDoc:function(v){v!==h()&&c.dispatch({changes:{from:0,to:c.state.doc.length,insert:v}})},reExtensions:u,toggleDisabled:f,toggleIndentWithTab:d,setTabSize:function(v){p([Ce.tabSize.of(v),Vo.of(" ".repeat(v))])},setPhrases:function(v){g([Ce.phrases.of(v)])},setPlaceholder:function(v){m($T(v))},setStyle:function(v){v===void 0&&(v={}),b(F.theme({"&":Object.assign({},v)}))}}}(r.value);tt(function(){return t.modelValue},function(c){c!==l.getDoc()&&l.setDoc(c)}),tt(function(){return t.extensions},function(c){return l.reExtensions(c||[])},{immediate:!0}),tt(function(){return o.value.disabled},function(c){return l.toggleDisabled(c)},{immediate:!0}),tt(function(){return o.value.indentWithTab},function(c){return l.toggleIndentWithTab(c)},{immediate:!0}),tt(function(){return o.value.tabSize},function(c){return l.setTabSize(c)},{immediate:!0}),tt(function(){return o.value.phrases},function(c){return l.setPhrases(c||{})},{immediate:!0}),tt(function(){return o.value.placeholder},function(c){return l.setPlaceholder(c)},{immediate:!0}),tt(function(){return o.value.style},function(c){return l.setStyle(c)},{immediate:!0}),o.value.autofocus&&l.focus(),e.emit(Et.Ready,{state:n.value,view:r.value,container:i.value})}),nc(function(){o.value.autoDestroy&&r.value&&function(a){a.destroy()}(r.value)}),function(){return ni("div",{class:"v-codemirror",style:{display:"contents"},ref:i})}}}),BR=qa,VR=function(t,e){t.component(qa.name,qa),t.component("Codemirror",qa),function(i,n){i.provide(sv,n)}(t,e)},XR={Codemirror:BR,install:VR};const wr=(t,e)=>{const i=t.__vccOpts||t;for(const[n,r]of e)i[n]=r;return i},WR={};function UR(t,e){const i=rl("router-view");return R(),gt(i,null,{default:vt(({Component:n})=>[(R(),gt(sf(n)))]),_:1})}const FR=wr(WR,[["render",UR]]);/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Rr=typeof window<"u";function zR(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Re=Object.assign;function ah(t,e){const i={};for(const n in e){const r=e[n];i[n]=wi(r)?r.map(t):t(r)}return i}const Js=()=>{},wi=Array.isArray,qR=/\/$/,GR=t=>t.replace(qR,"");function lh(t,e,i="/"){let n,r={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),r=t(s)),a>-1&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=e4(n??e,i),{fullPath:n+(s&&"?")+s+o,path:n,query:r,hash:o}}function HR(t,e){const i=e.query?t(e.query):"";return e.path+(i&&"?")+i+(e.hash||"")}function Lg(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function KR(t,e,i){const n=e.matched.length-1,r=i.matched.length-1;return n>-1&&n===r&&Jr(e.matched[n],i.matched[r])&&av(e.params,i.params)&&t(e.query)===t(i.query)&&e.hash===i.hash}function Jr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function av(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(!JR(t[i],e[i]))return!1;return!0}function JR(t,e){return wi(t)?jg(t,e):wi(e)?jg(e,t):t===e}function jg(t,e){return wi(e)?t.length===e.length&&t.every((i,n)=>i===e[n]):t.length===1&&t[0]===e}function e4(t,e){if(t.startsWith("/"))return t;if(!t)return e;const i=e.split("/"),n=t.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let s=i.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")s>1&&s--;else break;return i.slice(0,s).join("/")+"/"+n.slice(o-(o===n.length?1:0)).join("/")}var ko;(function(t){t.pop="pop",t.push="push"})(ko||(ko={}));var eo;(function(t){t.back="back",t.forward="forward",t.unknown=""})(eo||(eo={}));function t4(t){if(!t)if(Rr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),GR(t)}const i4=/^[^#]+#/;function n4(t,e){return t.replace(i4,"#")+e}function r4(t,e){const i=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-i.left-(e.left||0),top:n.top-i.top-(e.top||0)}}const vc=()=>({left:window.pageXOffset,top:window.pageYOffset});function s4(t){let e;if("el"in t){const i=t.el,n=typeof i=="string"&&i.startsWith("#"),r=typeof i=="string"?n?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!r)return;e=r4(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Ng(t,e){return(history.state?history.state.position-e:-1)+t}const Qu=new Map;function o4(t,e){Qu.set(t,e)}function a4(t){const e=Qu.get(t);return Qu.delete(t),e}let l4=()=>location.protocol+"//"+location.host;function lv(t,e){const{pathname:i,search:n,hash:r}=e,s=t.indexOf("#");if(s>-1){let a=r.includes(t.slice(s))?t.slice(s).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Lg(l,"")}return Lg(i,t)+n+r}function c4(t,e,i,n){let r=[],s=[],o=null;const a=({state:f})=>{const d=lv(t,location),p=i.value,g=e.value;let m=0;if(f){if(i.value=d,e.value=f,o&&o===p){o=null;return}m=g?f.position-g.position:0}else n(d);r.forEach(b=>{b(i.value,p,{delta:m,type:ko.pop,direction:m?m>0?eo.forward:eo.back:eo.unknown})})};function l(){o=i.value}function c(f){r.push(f);const d=()=>{const p=r.indexOf(f);p>-1&&r.splice(p,1)};return s.push(d),d}function h(){const{history:f}=window;f.state&&f.replaceState(Re({},f.state,{scroll:vc()}),"")}function u(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:l,listen:c,destroy:u}}function Yg(t,e,i,n=!1,r=!1){return{back:t,current:e,forward:i,replaced:n,position:window.history.length,scroll:r?vc():null}}function h4(t){const{history:e,location:i}=window,n={value:lv(t,i)},r={value:e.state};r.value||s(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,h){const u=t.indexOf("#"),f=u>-1?(i.host&&document.querySelector("base")?t:t.slice(u))+l:l4()+t+l;try{e[h?"replaceState":"pushState"](c,"",f),r.value=c}catch(d){console.error(d),i[h?"replace":"assign"](f)}}function o(l,c){const h=Re({},e.state,Yg(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});s(l,h,!0),n.value=l}function a(l,c){const h=Re({},r.value,e.state,{forward:l,scroll:vc()});s(h.current,h,!0);const u=Re({},Yg(n.value,l,null),{position:h.position+1},c);s(l,u,!1),n.value=l}return{location:n,state:r,push:a,replace:o}}function u4(t){t=t4(t);const e=h4(t),i=c4(t,e.state,e.location,e.replace);function n(s,o=!0){o||i.pauseListeners(),history.go(s)}const r=Re({location:"",base:t,go:n,createHref:n4.bind(null,t)},e,i);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function f4(t){return typeof t=="string"||t&&typeof t=="object"}function cv(t){return typeof t=="string"||typeof t=="symbol"}const Sn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},hv=Symbol("");var Bg;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Bg||(Bg={}));function es(t,e){return Re(new Error,{type:t,[hv]:!0},e)}function qi(t,e){return t instanceof Error&&hv in t&&(e==null||!!(t.type&e))}const Vg="[^/]+?",d4={sensitive:!1,strict:!1,start:!0,end:!0},p4=/[.+*?^${}()[\]/\\]/g;function g4(t,e){const i=Re({},d4,e),n=[];let r=i.start?"^":"";const s=[];for(const c of t){const h=c.length?[]:[90];i.strict&&!c.length&&(r+="/");for(let u=0;u<c.length;u++){const f=c[u];let d=40+(i.sensitive?.25:0);if(f.type===0)u||(r+="/"),r+=f.value.replace(p4,"\\$&"),d+=40;else if(f.type===1){const{value:p,repeatable:g,optional:m,regexp:b}=f;s.push({name:p,repeatable:g,optional:m});const v=b||Vg;if(v!==Vg){d+=10;try{new RegExp(`(${v})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${p}" (${v}): `+S.message)}}let x=g?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;u||(x=m&&c.length<2?`(?:/${x})`:"/"+x),m&&(x+="?"),r+=x,d+=20,m&&(d+=-8),g&&(d+=-20),v===".*"&&(d+=-50)}h.push(d)}n.push(h)}if(i.strict&&i.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}i.strict||(r+="/?"),i.end?r+="$":i.strict&&(r+="(?:/|$)");const o=new RegExp(r,i.sensitive?"":"i");function a(c){const h=c.match(o),u={};if(!h)return null;for(let f=1;f<h.length;f++){const d=h[f]||"",p=s[f-1];u[p.name]=d&&p.repeatable?d.split("/"):d}return u}function l(c){let h="",u=!1;for(const f of t){(!u||!h.endsWith("/"))&&(h+="/"),u=!1;for(const d of f)if(d.type===0)h+=d.value;else if(d.type===1){const{value:p,repeatable:g,optional:m}=d,b=p in c?c[p]:"";if(wi(b)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const v=wi(b)?b.join("/"):b;if(!v)if(m)f.length<2&&(h.endsWith("/")?h=h.slice(0,-1):u=!0);else throw new Error(`Missing required param "${p}"`);h+=v}}return h||"/"}return{re:o,score:n,keys:s,parse:a,stringify:l}}function m4(t,e){let i=0;for(;i<t.length&&i<e.length;){const n=e[i]-t[i];if(n)return n;i++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function O4(t,e){let i=0;const n=t.score,r=e.score;for(;i<n.length&&i<r.length;){const s=m4(n[i],r[i]);if(s)return s;i++}if(Math.abs(r.length-n.length)===1){if(Xg(n))return 1;if(Xg(r))return-1}return r.length-n.length}function Xg(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const b4={type:0,value:""},v4=/[a-zA-Z0-9_]/;function y4(t){if(!t)return[[]];if(t==="/")return[[b4]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${i})/"${c}": ${d}`)}let i=0,n=i;const r=[];let s;function o(){s&&r.push(s),s=[]}let a=0,l,c="",h="";function u(){c&&(i===0?s.push({type:0,value:c}):i===1||i===2||i===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&i!==2){n=i,i=4;continue}switch(i){case 0:l==="/"?(c&&u(),o()):l===":"?(u(),i=1):f();break;case 4:f(),i=n;break;case 1:l==="("?i=2:v4.test(l)?f():(u(),i=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:i=3:h+=l;break;case 3:u(),i=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,h="";break;default:e("Unknown state");break}}return i===2&&e(`Unfinished custom RegExp for param "${c}"`),u(),o(),r}function x4(t,e,i){const n=g4(y4(t.path),i),r=Re(n,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function S4(t,e){const i=[],n=new Map;e=Fg({strict:!1,end:!0,sensitive:!1},e);function r(h){return n.get(h)}function s(h,u,f){const d=!f,p=w4(h);p.aliasOf=f&&f.record;const g=Fg(e,h),m=[p];if("alias"in h){const x=typeof h.alias=="string"?[h.alias]:h.alias;for(const S of x)m.push(Re({},p,{components:f?f.record.components:p.components,path:S,aliasOf:f?f.record:p}))}let b,v;for(const x of m){const{path:S}=x;if(u&&S[0]!=="/"){const y=u.record.path,$=y[y.length-1]==="/"?"":"/";x.path=u.record.path+(S&&$+S)}if(b=x4(x,u,g),f?f.alias.push(b):(v=v||b,v!==b&&v.alias.push(b),d&&h.name&&!Ug(b)&&o(h.name)),p.children){const y=p.children;for(let $=0;$<y.length;$++)s(y[$],b,f&&f.children[$])}f=f||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&l(b)}return v?()=>{o(v)}:Js}function o(h){if(cv(h)){const u=n.get(h);u&&(n.delete(h),i.splice(i.indexOf(u),1),u.children.forEach(o),u.alias.forEach(o))}else{const u=i.indexOf(h);u>-1&&(i.splice(u,1),h.record.name&&n.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return i}function l(h){let u=0;for(;u<i.length&&O4(h,i[u])>=0&&(h.record.path!==i[u].record.path||!uv(h,i[u]));)u++;i.splice(u,0,h),h.record.name&&!Ug(h)&&n.set(h.record.name,h)}function c(h,u){let f,d={},p,g;if("name"in h&&h.name){if(f=n.get(h.name),!f)throw es(1,{location:h});g=f.record.name,d=Re(Wg(u.params,f.keys.filter(v=>!v.optional).map(v=>v.name)),h.params&&Wg(h.params,f.keys.map(v=>v.name))),p=f.stringify(d)}else if("path"in h)p=h.path,f=i.find(v=>v.re.test(p)),f&&(d=f.parse(p),g=f.record.name);else{if(f=u.name?n.get(u.name):i.find(v=>v.re.test(u.path)),!f)throw es(1,{location:h,currentLocation:u});g=f.record.name,d=Re({},u.params,h.params),p=f.stringify(d)}const m=[];let b=f;for(;b;)m.unshift(b.record),b=b.parent;return{name:g,path:p,params:d,matched:m,meta:C4(m)}}return t.forEach(h=>s(h)),{addRoute:s,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function Wg(t,e){const i={};for(const n of e)n in t&&(i[n]=t[n]);return i}function w4(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:k4(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function k4(t){const e={},i=t.props||!1;if("component"in t)e.default=i;else for(const n in t.components)e[n]=typeof i=="object"?i[n]:i;return e}function Ug(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function C4(t){return t.reduce((e,i)=>Re(e,i.meta),{})}function Fg(t,e){const i={};for(const n in t)i[n]=n in e?e[n]:t[n];return i}function uv(t,e){return e.children.some(i=>i===t||uv(t,i))}const fv=/#/g,$4=/&/g,_4=/\//g,P4=/=/g,T4=/\?/g,dv=/\+/g,Q4=/%5B/g,A4=/%5D/g,pv=/%5E/g,E4=/%60/g,gv=/%7B/g,R4=/%7C/g,mv=/%7D/g,I4=/%20/g;function Bf(t){return encodeURI(""+t).replace(R4,"|").replace(Q4,"[").replace(A4,"]")}function Z4(t){return Bf(t).replace(gv,"{").replace(mv,"}").replace(pv,"^")}function Au(t){return Bf(t).replace(dv,"%2B").replace(I4,"+").replace(fv,"%23").replace($4,"%26").replace(E4,"`").replace(gv,"{").replace(mv,"}").replace(pv,"^")}function M4(t){return Au(t).replace(P4,"%3D")}function D4(t){return Bf(t).replace(fv,"%23").replace(T4,"%3F")}function L4(t){return t==null?"":D4(t).replace(_4,"%2F")}function Zl(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function j4(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const s=n[r].replace(dv," "),o=s.indexOf("="),a=Zl(o<0?s:s.slice(0,o)),l=o<0?null:Zl(s.slice(o+1));if(a in e){let c=e[a];wi(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function zg(t){let e="";for(let i in t){const n=t[i];if(i=M4(i),n==null){n!==void 0&&(e+=(e.length?"&":"")+i);continue}(wi(n)?n.map(s=>s&&Au(s)):[n&&Au(n)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+i,s!=null&&(e+="="+s))})}return e}function N4(t){const e={};for(const i in t){const n=t[i];n!==void 0&&(e[i]=wi(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return e}const Y4=Symbol(""),qg=Symbol(""),Vf=Symbol(""),Xf=Symbol(""),Eu=Symbol("");function Is(){let t=[];function e(n){return t.push(n),()=>{const r=t.indexOf(n);r>-1&&t.splice(r,1)}}function i(){t=[]}return{add:e,list:()=>t.slice(),reset:i}}function $n(t,e,i,n,r){const s=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const l=u=>{u===!1?a(es(4,{from:i,to:e})):u instanceof Error?a(u):f4(u)?a(es(2,{from:e,to:u})):(s&&n.enterCallbacks[r]===s&&typeof u=="function"&&s.push(u),o())},c=t.call(n&&n.instances[r],e,i,l);let h=Promise.resolve(c);t.length<3&&(h=h.then(l)),h.catch(u=>a(u))})}function ch(t,e,i,n){const r=[];for(const s of t)for(const o in s.components){let a=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(B4(a)){const c=(a.__vccOpts||a)[e];c&&r.push($n(c,i,n,s,o))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const h=zR(c)?c.default:c;s.components[o]=h;const f=(h.__vccOpts||h)[e];return f&&$n(f,i,n,s,o)()}))}}return r}function B4(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Gg(t){const e=Mn(Vf),i=Mn(Xf),n=Ue(()=>e.resolve(G(t.to))),r=Ue(()=>{const{matched:l}=n.value,{length:c}=l,h=l[c-1],u=i.matched;if(!h||!u.length)return-1;const f=u.findIndex(Jr.bind(null,h));if(f>-1)return f;const d=Hg(l[c-2]);return c>1&&Hg(h)===d&&u[u.length-1].path!==d?u.findIndex(Jr.bind(null,l[c-2])):f}),s=Ue(()=>r.value>-1&&U4(i.params,n.value.params)),o=Ue(()=>r.value>-1&&r.value===i.matched.length-1&&av(i.params,n.value.params));function a(l={}){return W4(l)?e[G(t.replace)?"replace":"push"](G(t.to)).catch(Js):Promise.resolve()}return{route:n,href:Ue(()=>n.value.href),isActive:s,isExactActive:o,navigate:a}}const V4=me({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Gg,setup(t,{slots:e}){const i=$t(Gg(t)),{options:n}=Mn(Vf),r=Ue(()=>({[Kg(t.activeClass,n.linkActiveClass,"router-link-active")]:i.isActive,[Kg(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const s=e.default&&e.default(i);return t.custom?s:ni("a",{"aria-current":i.isExactActive?t.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:r.value},s)}}}),X4=V4;function W4(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function U4(t,e){for(const i in e){const n=e[i],r=t[i];if(typeof n=="string"){if(n!==r)return!1}else if(!wi(r)||r.length!==n.length||n.some((s,o)=>s!==r[o]))return!1}return!0}function Hg(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Kg=(t,e,i)=>t??e??i,F4=me({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:i}){const n=Mn(Eu),r=Ue(()=>t.route||n.value),s=Mn(qg,0),o=Ue(()=>{let c=G(s);const{matched:h}=r.value;let u;for(;(u=h[c])&&!u.components;)c++;return c}),a=Ue(()=>r.value.matched[o.value]);La(qg,Ue(()=>o.value+1)),La(Y4,a),La(Eu,r);const l=we();return tt(()=>[l.value,a.value,t.name],([c,h,u],[f,d,p])=>{h&&(h.instances[u]=c,d&&d!==h&&c&&c===f&&(h.leaveGuards.size||(h.leaveGuards=d.leaveGuards),h.updateGuards.size||(h.updateGuards=d.updateGuards))),c&&h&&(!d||!Jr(h,d)||!f)&&(h.enterCallbacks[u]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=r.value,h=t.name,u=a.value,f=u&&u.components[h];if(!f)return Jg(i.default,{Component:f,route:c});const d=u.props[h],p=d?d===!0?c.params:typeof d=="function"?d(c):d:null,m=ni(f,Re({},p,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(u.instances[h]=null)},ref:l}));return Jg(i.default,{Component:m,route:c})||m}}});function Jg(t,e){if(!t)return null;const i=t(e);return i.length===1?i[0]:i}const z4=F4;function q4(t){const e=S4(t.routes,t),i=t.parseQuery||j4,n=t.stringifyQuery||zg,r=t.history,s=Is(),o=Is(),a=Is(),l=Fs(Sn);let c=Sn;Rr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=ah.bind(null,w=>""+w),u=ah.bind(null,L4),f=ah.bind(null,Zl);function d(w,V){let B,se;return cv(w)?(B=e.getRecordMatcher(w),se=V):se=w,e.addRoute(se,B)}function p(w){const V=e.getRecordMatcher(w);V&&e.removeRoute(V)}function g(){return e.getRoutes().map(w=>w.record)}function m(w){return!!e.getRecordMatcher(w)}function b(w,V){if(V=Re({},V||l.value),typeof w=="string"){const de=lh(i,w,V.path),Ke=e.resolve({path:de.path},V),yn=r.createHref(de.fullPath);return Re(de,Ke,{params:f(Ke.params),hash:Zl(de.hash),redirectedFrom:void 0,href:yn})}let B;if("path"in w)B=Re({},w,{path:lh(i,w.path,V.path).path});else{const de=Re({},w.params);for(const Ke in de)de[Ke]==null&&delete de[Ke];B=Re({},w,{params:u(de)}),V.params=u(V.params)}const se=e.resolve(B,V),Ae=w.hash||"";se.params=h(f(se.params));const Xe=HR(n,Re({},w,{hash:Z4(Ae),path:se.path})),ke=r.createHref(Xe);return Re({fullPath:Xe,hash:Ae,query:n===zg?N4(w.query):w.query||{}},se,{redirectedFrom:void 0,href:ke})}function v(w){return typeof w=="string"?lh(i,w,l.value.path):Re({},w)}function x(w,V){if(c!==w)return es(8,{from:V,to:w})}function S(w){return k(w)}function y(w){return S(Re(v(w),{replace:!0}))}function $(w){const V=w.matched[w.matched.length-1];if(V&&V.redirect){const{redirect:B}=V;let se=typeof B=="function"?B(w):B;return typeof se=="string"&&(se=se.includes("?")||se.includes("#")?se=v(se):{path:se},se.params={}),Re({query:w.query,hash:w.hash,params:"path"in se?{}:w.params},se)}}function k(w,V){const B=c=b(w),se=l.value,Ae=w.state,Xe=w.force,ke=w.replace===!0,de=$(B);if(de)return k(Re(v(de),{state:typeof de=="object"?Re({},Ae,de.state):Ae,force:Xe,replace:ke}),V||B);const Ke=B;Ke.redirectedFrom=V;let yn;return!Xe&&KR(n,se,B)&&(yn=es(16,{to:Ke,from:se}),ye(se,se,!0,!1)),(yn?Promise.resolve(yn):A(Ke,se)).catch(dt=>qi(dt)?qi(dt,2)?dt:ae(dt):oe(dt,Ke,se)).then(dt=>{if(dt){if(qi(dt,2))return k(Re({replace:ke},v(dt.to),{state:typeof dt.to=="object"?Re({},Ae,dt.to.state):Ae,force:Xe}),V||Ke)}else dt=ie(Ke,se,!0,ke,Ae);return I(Ke,se,dt),dt})}function T(w,V){const B=x(w,V);return B?Promise.reject(B):Promise.resolve()}function P(w){const V=N.values().next().value;return V&&typeof V.runWithContext=="function"?V.runWithContext(w):w()}function A(w,V){let B;const[se,Ae,Xe]=G4(w,V);B=ch(se.reverse(),"beforeRouteLeave",w,V);for(const de of se)de.leaveGuards.forEach(Ke=>{B.push($n(Ke,w,V))});const ke=T.bind(null,w,V);return B.push(ke),ce(B).then(()=>{B=[];for(const de of s.list())B.push($n(de,w,V));return B.push(ke),ce(B)}).then(()=>{B=ch(Ae,"beforeRouteUpdate",w,V);for(const de of Ae)de.updateGuards.forEach(Ke=>{B.push($n(Ke,w,V))});return B.push(ke),ce(B)}).then(()=>{B=[];for(const de of Xe)if(de.beforeEnter)if(wi(de.beforeEnter))for(const Ke of de.beforeEnter)B.push($n(Ke,w,V));else B.push($n(de.beforeEnter,w,V));return B.push(ke),ce(B)}).then(()=>(w.matched.forEach(de=>de.enterCallbacks={}),B=ch(Xe,"beforeRouteEnter",w,V),B.push(ke),ce(B))).then(()=>{B=[];for(const de of o.list())B.push($n(de,w,V));return B.push(ke),ce(B)}).catch(de=>qi(de,8)?de:Promise.reject(de))}function I(w,V,B){a.list().forEach(se=>P(()=>se(w,V,B)))}function ie(w,V,B,se,Ae){const Xe=x(w,V);if(Xe)return Xe;const ke=V===Sn,de=Rr?history.state:{};B&&(se||ke?r.replace(w.fullPath,Re({scroll:ke&&de&&de.scroll},Ae)):r.push(w.fullPath,Ae)),l.value=w,ye(w,V,B,ke),ae()}let he;function D(){he||(he=r.listen((w,V,B)=>{if(!le.listening)return;const se=b(w),Ae=$(se);if(Ae){k(Re(Ae,{replace:!0}),se).catch(Js);return}c=se;const Xe=l.value;Rr&&o4(Ng(Xe.fullPath,B.delta),vc()),A(se,Xe).catch(ke=>qi(ke,12)?ke:qi(ke,2)?(k(ke.to,se).then(de=>{qi(de,20)&&!B.delta&&B.type===ko.pop&&r.go(-1,!1)}).catch(Js),Promise.reject()):(B.delta&&r.go(-B.delta,!1),oe(ke,se,Xe))).then(ke=>{ke=ke||ie(se,Xe,!1),ke&&(B.delta&&!qi(ke,8)?r.go(-B.delta,!1):B.type===ko.pop&&qi(ke,20)&&r.go(-1,!1)),I(se,Xe,ke)}).catch(Js)}))}let L=Is(),W=Is(),J;function oe(w,V,B){ae(w);const se=W.list();return se.length?se.forEach(Ae=>Ae(w,V,B)):console.error(w),Promise.reject(w)}function z(){return J&&l.value!==Sn?Promise.resolve():new Promise((w,V)=>{L.add([w,V])})}function ae(w){return J||(J=!w,D(),L.list().forEach(([V,B])=>w?B(w):V()),L.reset()),w}function ye(w,V,B,se){const{scrollBehavior:Ae}=t;if(!Rr||!Ae)return Promise.resolve();const Xe=!B&&a4(Ng(w.fullPath,0))||(se||!B)&&history.state&&history.state.scroll||null;return Da().then(()=>Ae(w,V,Xe)).then(ke=>ke&&s4(ke)).catch(ke=>oe(ke,w,V))}const ne=w=>r.go(w);let U;const N=new Set,le={currentRoute:l,listening:!0,addRoute:d,removeRoute:p,hasRoute:m,getRoutes:g,resolve:b,options:t,push:S,replace:y,go:ne,back:()=>ne(-1),forward:()=>ne(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:W.add,isReady:z,install(w){const V=this;w.component("RouterLink",X4),w.component("RouterView",z4),w.config.globalProperties.$router=V,Object.defineProperty(w.config.globalProperties,"$route",{enumerable:!0,get:()=>G(l)}),Rr&&!U&&l.value===Sn&&(U=!0,S(r.location).catch(Ae=>{}));const B={};for(const Ae in Sn)Object.defineProperty(B,Ae,{get:()=>l.value[Ae],enumerable:!0});w.provide(Vf,V),w.provide(Xf,aS(B)),w.provide(Eu,l);const se=w.unmount;N.add(w),w.unmount=function(){N.delete(w),N.size<1&&(c=Sn,he&&he(),he=null,l.value=Sn,U=!1,J=!1),se()}}};function ce(w){return w.reduce((V,B)=>V.then(()=>P(B)),Promise.resolve())}return le}function G4(t,e){const i=[],n=[],r=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(c=>Jr(c,a))?n.push(a):i.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Jr(c,l))||r.push(l))}return[i,n,r]}function H4(){return Mn(Xf)}const K4="modulepreload",J4=function(t){return"/"+t},em={},Ov=function(e,i,n){if(!i||i.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(i.map(s=>{if(s=J4(s),s in em)return;em[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let h=r.length-1;h>=0;h--){const u=r[h];if(u.href===s&&(!o||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":K4,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((h,u)=>{c.addEventListener("load",h),c.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var eI=typeof global=="object"&&global&&global.Object===Object&&global;const bv=eI;var tI=typeof self=="object"&&self&&self.Object===Object&&self,iI=bv||tI||Function("return this")();const Ui=iI;var nI=Ui.Symbol;const ts=nI;var vv=Object.prototype,rI=vv.hasOwnProperty,sI=vv.toString,Zs=ts?ts.toStringTag:void 0;function oI(t){var e=rI.call(t,Zs),i=t[Zs];try{t[Zs]=void 0;var n=!0}catch{}var r=sI.call(t);return n&&(e?t[Zs]=i:delete t[Zs]),r}var aI=Object.prototype,lI=aI.toString;function cI(t){return lI.call(t)}var hI="[object Null]",uI="[object Undefined]",tm=ts?ts.toStringTag:void 0;function Fo(t){return t==null?t===void 0?uI:hI:tm&&tm in Object(t)?oI(t):cI(t)}function zo(t){return t!=null&&typeof t=="object"}var fI=Array.isArray;const Wf=fI;function qo(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var dI="[object AsyncFunction]",pI="[object Function]",gI="[object GeneratorFunction]",mI="[object Proxy]";function yv(t){if(!qo(t))return!1;var e=Fo(t);return e==pI||e==gI||e==dI||e==mI}var OI=Ui["__core-js_shared__"];const hh=OI;var im=function(){var t=/[^.]+$/.exec(hh&&hh.keys&&hh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function bI(t){return!!im&&im in t}var vI=Function.prototype,yI=vI.toString;function kr(t){if(t!=null){try{return yI.call(t)}catch{}try{return t+""}catch{}}return""}var xI=/[\\^$.*+?()[\]{}|]/g,SI=/^\[object .+?Constructor\]$/,wI=Function.prototype,kI=Object.prototype,CI=wI.toString,$I=kI.hasOwnProperty,_I=RegExp("^"+CI.call($I).replace(xI,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function PI(t){if(!qo(t)||bI(t))return!1;var e=yv(t)?_I:SI;return e.test(kr(t))}function TI(t,e){return t==null?void 0:t[e]}function Cr(t,e){var i=TI(t,e);return PI(i)?i:void 0}var QI=Cr(Ui,"WeakMap");const Ru=QI;var nm=Object.create,AI=function(){function t(){}return function(e){if(!qo(e))return{};if(nm)return nm(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();const EI=AI;function RI(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e}var II=function(){try{var t=Cr(Object,"defineProperty");return t({},"",{}),t}catch{}}();const rm=II;function ZI(t,e){for(var i=-1,n=t==null?0:t.length;++i<n&&e(t[i],i,t)!==!1;);return t}var MI=9007199254740991,DI=/^(?:0|[1-9]\d*)$/;function LI(t,e){var i=typeof t;return e=e??MI,!!e&&(i=="number"||i!="symbol"&&DI.test(t))&&t>-1&&t%1==0&&t<e}function xv(t,e,i){e=="__proto__"&&rm?rm(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function Sv(t,e){return t===e||t!==t&&e!==e}var jI=Object.prototype,NI=jI.hasOwnProperty;function wv(t,e,i){var n=t[e];(!(NI.call(t,e)&&Sv(n,i))||i===void 0&&!(e in t))&&xv(t,e,i)}function yc(t,e,i,n){var r=!i;i||(i={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=n?n(i[a],t[a],a,i,t):void 0;l===void 0&&(l=t[a]),r?xv(i,a,l):wv(i,a,l)}return i}var YI=9007199254740991;function kv(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=YI}function Cv(t){return t!=null&&kv(t.length)&&!yv(t)}var BI=Object.prototype;function Uf(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||BI;return t===i}function VI(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}var XI="[object Arguments]";function sm(t){return zo(t)&&Fo(t)==XI}var $v=Object.prototype,WI=$v.hasOwnProperty,UI=$v.propertyIsEnumerable,FI=sm(function(){return arguments}())?sm:function(t){return zo(t)&&WI.call(t,"callee")&&!UI.call(t,"callee")};const zI=FI;function qI(){return!1}var _v=typeof ti=="object"&&ti&&!ti.nodeType&&ti,om=_v&&typeof ii=="object"&&ii&&!ii.nodeType&&ii,GI=om&&om.exports===_v,am=GI?Ui.Buffer:void 0,HI=am?am.isBuffer:void 0,KI=HI||qI;const Pv=KI;var JI="[object Arguments]",e9="[object Array]",t9="[object Boolean]",i9="[object Date]",n9="[object Error]",r9="[object Function]",s9="[object Map]",o9="[object Number]",a9="[object Object]",l9="[object RegExp]",c9="[object Set]",h9="[object String]",u9="[object WeakMap]",f9="[object ArrayBuffer]",d9="[object DataView]",p9="[object Float32Array]",g9="[object Float64Array]",m9="[object Int8Array]",O9="[object Int16Array]",b9="[object Int32Array]",v9="[object Uint8Array]",y9="[object Uint8ClampedArray]",x9="[object Uint16Array]",S9="[object Uint32Array]",Ye={};Ye[p9]=Ye[g9]=Ye[m9]=Ye[O9]=Ye[b9]=Ye[v9]=Ye[y9]=Ye[x9]=Ye[S9]=!0;Ye[JI]=Ye[e9]=Ye[f9]=Ye[t9]=Ye[d9]=Ye[i9]=Ye[n9]=Ye[r9]=Ye[s9]=Ye[o9]=Ye[a9]=Ye[l9]=Ye[c9]=Ye[h9]=Ye[u9]=!1;function w9(t){return zo(t)&&kv(t.length)&&!!Ye[Fo(t)]}function Ff(t){return function(e){return t(e)}}var Tv=typeof ti=="object"&&ti&&!ti.nodeType&&ti,to=Tv&&typeof ii=="object"&&ii&&!ii.nodeType&&ii,k9=to&&to.exports===Tv,uh=k9&&bv.process,C9=function(){try{var t=to&&to.require&&to.require("util").types;return t||uh&&uh.binding&&uh.binding("util")}catch{}}();const is=C9;var lm=is&&is.isTypedArray,$9=lm?Ff(lm):w9;const _9=$9;var P9=Object.prototype,T9=P9.hasOwnProperty;function Qv(t,e){var i=Wf(t),n=!i&&zI(t),r=!i&&!n&&Pv(t),s=!i&&!n&&!r&&_9(t),o=i||n||r||s,a=o?VI(t.length,String):[],l=a.length;for(var c in t)(e||T9.call(t,c))&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||LI(c,l)))&&a.push(c);return a}function Av(t,e){return function(i){return t(e(i))}}var Q9=Av(Object.keys,Object);const A9=Q9;var E9=Object.prototype,R9=E9.hasOwnProperty;function I9(t){if(!Uf(t))return A9(t);var e=[];for(var i in Object(t))R9.call(t,i)&&i!="constructor"&&e.push(i);return e}function zf(t){return Cv(t)?Qv(t):I9(t)}function Z9(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}var M9=Object.prototype,D9=M9.hasOwnProperty;function L9(t){if(!qo(t))return Z9(t);var e=Uf(t),i=[];for(var n in t)n=="constructor"&&(e||!D9.call(t,n))||i.push(n);return i}function qf(t){return Cv(t)?Qv(t,!0):L9(t)}var j9=Cr(Object,"create");const Co=j9;function N9(){this.__data__=Co?Co(null):{},this.size=0}function Y9(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var B9="__lodash_hash_undefined__",V9=Object.prototype,X9=V9.hasOwnProperty;function W9(t){var e=this.__data__;if(Co){var i=e[t];return i===B9?void 0:i}return X9.call(e,t)?e[t]:void 0}var U9=Object.prototype,F9=U9.hasOwnProperty;function z9(t){var e=this.__data__;return Co?e[t]!==void 0:F9.call(e,t)}var q9="__lodash_hash_undefined__";function G9(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Co&&e===void 0?q9:e,this}function pr(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}pr.prototype.clear=N9;pr.prototype.delete=Y9;pr.prototype.get=W9;pr.prototype.has=z9;pr.prototype.set=G9;function H9(){this.__data__=[],this.size=0}function xc(t,e){for(var i=t.length;i--;)if(Sv(t[i][0],e))return i;return-1}var K9=Array.prototype,J9=K9.splice;function e6(t){var e=this.__data__,i=xc(e,t);if(i<0)return!1;var n=e.length-1;return i==n?e.pop():J9.call(e,i,1),--this.size,!0}function t6(t){var e=this.__data__,i=xc(e,t);return i<0?void 0:e[i][1]}function i6(t){return xc(this.__data__,t)>-1}function n6(t,e){var i=this.__data__,n=xc(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this}function gn(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}gn.prototype.clear=H9;gn.prototype.delete=e6;gn.prototype.get=t6;gn.prototype.has=i6;gn.prototype.set=n6;var r6=Cr(Ui,"Map");const $o=r6;function s6(){this.size=0,this.__data__={hash:new pr,map:new($o||gn),string:new pr}}function o6(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Sc(t,e){var i=t.__data__;return o6(e)?i[typeof e=="string"?"string":"hash"]:i.map}function a6(t){var e=Sc(this,t).delete(t);return this.size-=e?1:0,e}function l6(t){return Sc(this,t).get(t)}function c6(t){return Sc(this,t).has(t)}function h6(t,e){var i=Sc(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this}function Os(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}Os.prototype.clear=s6;Os.prototype.delete=a6;Os.prototype.get=l6;Os.prototype.has=c6;Os.prototype.set=h6;function Ev(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t}var u6=Av(Object.getPrototypeOf,Object);const Rv=u6;function f6(){this.__data__=new gn,this.size=0}function d6(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}function p6(t){return this.__data__.get(t)}function g6(t){return this.__data__.has(t)}var m6=200;function O6(t,e){var i=this.__data__;if(i instanceof gn){var n=i.__data__;if(!$o||n.length<m6-1)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new Os(n)}return i.set(t,e),this.size=i.size,this}function bs(t){var e=this.__data__=new gn(t);this.size=e.size}bs.prototype.clear=f6;bs.prototype.delete=d6;bs.prototype.get=p6;bs.prototype.has=g6;bs.prototype.set=O6;function b6(t,e){return t&&yc(e,zf(e),t)}function v6(t,e){return t&&yc(e,qf(e),t)}var Iv=typeof ti=="object"&&ti&&!ti.nodeType&&ti,cm=Iv&&typeof ii=="object"&&ii&&!ii.nodeType&&ii,y6=cm&&cm.exports===Iv,hm=y6?Ui.Buffer:void 0,um=hm?hm.allocUnsafe:void 0;function x6(t,e){if(e)return t.slice();var i=t.length,n=um?um(i):new t.constructor(i);return t.copy(n),n}function S6(t,e){for(var i=-1,n=t==null?0:t.length,r=0,s=[];++i<n;){var o=t[i];e(o,i,t)&&(s[r++]=o)}return s}function Zv(){return[]}var w6=Object.prototype,k6=w6.propertyIsEnumerable,fm=Object.getOwnPropertySymbols,C6=fm?function(t){return t==null?[]:(t=Object(t),S6(fm(t),function(e){return k6.call(t,e)}))}:Zv;const Gf=C6;function $6(t,e){return yc(t,Gf(t),e)}var _6=Object.getOwnPropertySymbols,P6=_6?function(t){for(var e=[];t;)Ev(e,Gf(t)),t=Rv(t);return e}:Zv;const Mv=P6;function T6(t,e){return yc(t,Mv(t),e)}function Dv(t,e,i){var n=e(t);return Wf(t)?n:Ev(n,i(t))}function Q6(t){return Dv(t,zf,Gf)}function A6(t){return Dv(t,qf,Mv)}var E6=Cr(Ui,"DataView");const Iu=E6;var R6=Cr(Ui,"Promise");const Zu=R6;var I6=Cr(Ui,"Set");const Mu=I6;var dm="[object Map]",Z6="[object Object]",pm="[object Promise]",gm="[object Set]",mm="[object WeakMap]",Om="[object DataView]",M6=kr(Iu),D6=kr($o),L6=kr(Zu),j6=kr(Mu),N6=kr(Ru),Kn=Fo;(Iu&&Kn(new Iu(new ArrayBuffer(1)))!=Om||$o&&Kn(new $o)!=dm||Zu&&Kn(Zu.resolve())!=pm||Mu&&Kn(new Mu)!=gm||Ru&&Kn(new Ru)!=mm)&&(Kn=function(t){var e=Fo(t),i=e==Z6?t.constructor:void 0,n=i?kr(i):"";if(n)switch(n){case M6:return Om;case D6:return dm;case L6:return pm;case j6:return gm;case N6:return mm}return e});const Hf=Kn;var Y6=Object.prototype,B6=Y6.hasOwnProperty;function V6(t){var e=t.length,i=new t.constructor(e);return e&&typeof t[0]=="string"&&B6.call(t,"index")&&(i.index=t.index,i.input=t.input),i}var X6=Ui.Uint8Array;const bm=X6;function Kf(t){var e=new t.constructor(t.byteLength);return new bm(e).set(new bm(t)),e}function W6(t,e){var i=e?Kf(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}var U6=/\w*$/;function F6(t){var e=new t.constructor(t.source,U6.exec(t));return e.lastIndex=t.lastIndex,e}var vm=ts?ts.prototype:void 0,ym=vm?vm.valueOf:void 0;function z6(t){return ym?Object(ym.call(t)):{}}function q6(t,e){var i=e?Kf(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}var G6="[object Boolean]",H6="[object Date]",K6="[object Map]",J6="[object Number]",e8="[object RegExp]",t8="[object Set]",i8="[object String]",n8="[object Symbol]",r8="[object ArrayBuffer]",s8="[object DataView]",o8="[object Float32Array]",a8="[object Float64Array]",l8="[object Int8Array]",c8="[object Int16Array]",h8="[object Int32Array]",u8="[object Uint8Array]",f8="[object Uint8ClampedArray]",d8="[object Uint16Array]",p8="[object Uint32Array]";function g8(t,e,i){var n=t.constructor;switch(e){case r8:return Kf(t);case G6:case H6:return new n(+t);case s8:return W6(t,i);case o8:case a8:case l8:case c8:case h8:case u8:case f8:case d8:case p8:return q6(t,i);case K6:return new n;case J6:case i8:return new n(t);case e8:return F6(t);case t8:return new n;case n8:return z6(t)}}function m8(t){return typeof t.constructor=="function"&&!Uf(t)?EI(Rv(t)):{}}var O8="[object Map]";function b8(t){return zo(t)&&Hf(t)==O8}var xm=is&&is.isMap,v8=xm?Ff(xm):b8;const y8=v8;var x8="[object Set]";function S8(t){return zo(t)&&Hf(t)==x8}var Sm=is&&is.isSet,w8=Sm?Ff(Sm):S8;const k8=w8;var C8=1,$8=2,_8=4,Lv="[object Arguments]",P8="[object Array]",T8="[object Boolean]",Q8="[object Date]",A8="[object Error]",jv="[object Function]",E8="[object GeneratorFunction]",R8="[object Map]",I8="[object Number]",Nv="[object Object]",Z8="[object RegExp]",M8="[object Set]",D8="[object String]",L8="[object Symbol]",j8="[object WeakMap]",N8="[object ArrayBuffer]",Y8="[object DataView]",B8="[object Float32Array]",V8="[object Float64Array]",X8="[object Int8Array]",W8="[object Int16Array]",U8="[object Int32Array]",F8="[object Uint8Array]",z8="[object Uint8ClampedArray]",q8="[object Uint16Array]",G8="[object Uint32Array]",De={};De[Lv]=De[P8]=De[N8]=De[Y8]=De[T8]=De[Q8]=De[B8]=De[V8]=De[X8]=De[W8]=De[U8]=De[R8]=De[I8]=De[Nv]=De[Z8]=De[M8]=De[D8]=De[L8]=De[F8]=De[z8]=De[q8]=De[G8]=!0;De[A8]=De[jv]=De[j8]=!1;function Ga(t,e,i,n,r,s){var o,a=e&C8,l=e&$8,c=e&_8;if(i&&(o=r?i(t,n,r,s):i(t)),o!==void 0)return o;if(!qo(t))return t;var h=Wf(t);if(h){if(o=V6(t),!a)return RI(t,o)}else{var u=Hf(t),f=u==jv||u==E8;if(Pv(t))return x6(t,a);if(u==Nv||u==Lv||f&&!r){if(o=l||f?{}:m8(t),!a)return l?T6(t,v6(o,t)):$6(t,b6(o,t))}else{if(!De[u])return r?t:{};o=g8(t,u,a)}}s||(s=new bs);var d=s.get(t);if(d)return d;s.set(t,o),k8(t)?t.forEach(function(m){o.add(Ga(m,e,i,m,t,s))}):y8(t)&&t.forEach(function(m,b){o.set(b,Ga(m,e,i,b,t,s))});var p=c?l?A6:Q6:l?qf:zf,g=h?void 0:p(t);return ZI(g||t,function(m,b){g&&(b=m,m=t[b]),wv(o,b,Ga(m,e,i,b,t,s))}),o}var H8=1,K8=4;function J8(t){return Ga(t,H8|K8)}const ji=()=>new Map,Du=t=>{const e=ji();return t.forEach((i,n)=>{e.set(n,i)}),e},vs=(t,e,i)=>{let n=t.get(e);return n===void 0&&t.set(e,n=i()),n},eZ=(t,e)=>{const i=[];for(const[n,r]of t)i.push(e(r,n));return i},tZ=(t,e)=>{for(const[i,n]of t)if(e(n,i))return!0;return!1},ns=()=>new Set,fh=t=>t[t.length-1],iZ=(t,e)=>{for(let i=0;i<e.length;i++)t.push(e[i])},rs=Array.from,nZ=(t,e)=>{for(let i=0;i<t.length;i++)if(e(t[i],i,t))return!0;return!1},Lu=Array.isArray;class Yv{constructor(){this._observers=ji()}on(e,i){vs(this._observers,e,ns).add(i)}once(e,i){const n=(...r)=>{this.off(e,n),i(...r)};this.on(e,n)}off(e,i){const n=this._observers.get(e);n!==void 0&&(n.delete(i),n.size===0&&this._observers.delete(e))}emit(e,i){return rs((this._observers.get(e)||ji()).values()).forEach(n=>n(...i))}destroy(){this._observers=ji()}}const gr=Math.floor,Ha=Math.abs,Bv=(t,e)=>t<e?t:e,ys=(t,e)=>t>e?t:e,rZ=t=>t!==0?t<0:1/t<0,sZ=t=>t.toLowerCase(),oZ=/^\s*/g,aZ=t=>t.replace(oZ,""),lZ=/([A-Z])/g,wm=(t,e)=>aZ(t.replace(lZ,i=>`${e}${sZ(i)}`)),cZ=t=>{const e=unescape(encodeURIComponent(t)),i=e.length,n=new Uint8Array(i);for(let r=0;r<i;r++)n[r]=e.codePointAt(r);return n},_o=typeof TextEncoder<"u"?new TextEncoder:null,hZ=t=>_o.encode(t),uZ=_o?hZ:cZ;let dh=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});dh&&dh.decode(new Uint8Array).length===1&&(dh=null);const km=t=>t===void 0?null:t;class fZ{constructor(){this.map=new Map}setItem(e,i){this.map.set(e,i)}getItem(e){return this.map.get(e)}}let Vv=new fZ,dZ=!0;try{typeof localStorage<"u"&&(Vv=localStorage,dZ=!1)}catch{}const pZ=Vv,gZ=Object.assign,mZ=Object.keys,OZ=(t,e)=>{for(const i in t)e(t[i],i)},Cm=t=>mZ(t).length,bZ=t=>{for(const e in t)return!1;return!0},vZ=(t,e)=>{for(const i in t)if(!e(t[i],i))return!1;return!0},yZ=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),xZ=(t,e)=>t===e||Cm(t)===Cm(e)&&vZ(t,(i,n)=>(i!==void 0||yZ(e,n))&&e[n]===i),Jf=(t,e,i=0)=>{try{for(;i<t.length;i++)t[i](...e)}finally{i<t.length&&Jf(t,e,i+1)}},SZ=(t,e)=>e.includes(t),Po=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name);let Pi;const wZ=()=>{if(Pi===void 0)if(Po){Pi=ji();const t=process.argv;let e=null;for(let i=0;i<t.length;i++){const n=t[i];n[0]==="-"?(e!==null&&Pi.set(e,""),e=n):e!==null&&(Pi.set(e,n),e=null)}e!==null&&Pi.set(e,"")}else typeof location=="object"?(Pi=ji(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,i]=t.split("=");Pi.set(`--${wm(e,"-")}`,i),Pi.set(`-${wm(e,"-")}`,i)}})):Pi=ji();return Pi},ju=t=>wZ().has(t),Nu=t=>km(Po?process.env[t.toUpperCase()]:pZ.getItem(t)),kZ=t=>ju("--"+t)||Nu(t)!==null;kZ("production");const $m=Po&&SZ({}.FORCE_COLOR,["true","1","2"]),CZ=!ju("no-colors")&&(!Po||process.stdout.isTTY||$m)&&(!Po||ju("color")||$m||Nu("COLORTERM")!==null||(Nu("TERM")||"").includes("color")),_m=1,Pm=2,ph=4,gh=8,$Z=32,Xv=64,Ml=128,_Z=31,Tm=63,io=127,PZ=2147483647,TZ=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&gr(t)===t),ss=t=>new Error(t),Ni=()=>{throw ss("Method unimplemented")},mr=()=>{throw ss("Unexpected case")},Wv=(t,e,i)=>new Uint8Array(t,e,i);class Go{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const ed=()=>new Go,QZ=t=>{let e=t.cpos;for(let i=0;i<t.bufs.length;i++)e+=t.bufs[i].length;return e},rn=t=>{const e=new Uint8Array(QZ(t));let i=0;for(let n=0;n<t.bufs.length;n++){const r=t.bufs[n];e.set(r,i),i+=r.length}return e.set(Wv(t.cbuf.buffer,0,t.cpos),i),e},AZ=(t,e)=>{const i=t.cbuf.length;i-t.cpos<e&&(t.bufs.push(Wv(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(ys(i,e)*2),t.cpos=0)},pt=(t,e)=>{const i=t.cbuf.length;t.cpos===i&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(i*2),t.cpos=0),t.cbuf[t.cpos++]=e},Yu=pt,Me=(t,e)=>{for(;e>io;)pt(t,Ml|io&e),e=gr(e/128);pt(t,io&e)},td=(t,e)=>{const i=rZ(e);for(i&&(e=-e),pt(t,(e>Tm?Ml:0)|(i?Xv:0)|Tm&e),e=gr(e/64);e>0;)pt(t,(e>io?Ml:0)|io&e),e=gr(e/128)},Bu=new Uint8Array(3e4),EZ=Bu.length/3,RZ=(t,e)=>{if(e.length<EZ){const i=_o.encodeInto(e,Bu).written||0;Me(t,i);for(let n=0;n<i;n++)pt(t,Bu[n])}else qt(t,uZ(e))},IZ=(t,e)=>{const i=unescape(encodeURIComponent(e)),n=i.length;Me(t,n);for(let r=0;r<n;r++)pt(t,i.codePointAt(r))},Wr=_o&&_o.encodeInto?RZ:IZ,id=(t,e)=>{const i=t.cbuf.length,n=t.cpos,r=Bv(i-n,e.length),s=e.length-r;t.cbuf.set(e.subarray(0,r),n),t.cpos+=r,s>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(ys(i*2,s)),t.cbuf.set(e.subarray(r)),t.cpos=s)},qt=(t,e)=>{Me(t,e.byteLength),id(t,e)},nd=(t,e)=>{AZ(t,e);const i=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,i},ZZ=(t,e)=>nd(t,4).setFloat32(0,e,!1),MZ=(t,e)=>nd(t,8).setFloat64(0,e,!1),DZ=(t,e)=>nd(t,8).setBigInt64(0,e,!1),Qm=new DataView(new ArrayBuffer(4)),LZ=t=>(Qm.setFloat32(0,t),Qm.getFloat32(0)===t),To=(t,e)=>{switch(typeof e){case"string":pt(t,119),Wr(t,e);break;case"number":TZ(e)&&Ha(e)<=PZ?(pt(t,125),td(t,e)):LZ(e)?(pt(t,124),ZZ(t,e)):(pt(t,123),MZ(t,e));break;case"bigint":pt(t,122),DZ(t,e);break;case"object":if(e===null)pt(t,126);else if(Lu(e)){pt(t,117),Me(t,e.length);for(let i=0;i<e.length;i++)To(t,e[i])}else if(e instanceof Uint8Array)pt(t,116),qt(t,e);else{pt(t,118);const i=Object.keys(e);Me(t,i.length);for(let n=0;n<i.length;n++){const r=i[n];Wr(t,r),To(t,e[r])}}break;case"boolean":pt(t,e?120:121);break;default:pt(t,127)}};class Am extends Go{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&Me(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const Em=t=>{t.count>0&&(td(t.encoder,t.count===1?t.s:-t.s),t.count>1&&Me(t.encoder,t.count-2))};class Ka{constructor(){this.encoder=new Go,this.s=0,this.count=0}write(e){this.s===e?this.count++:(Em(this),this.count=1,this.s=e)}toUint8Array(){return Em(this),rn(this.encoder)}}const Rm=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);td(t.encoder,e),t.count>1&&Me(t.encoder,t.count-2)}};class mh{constructor(){this.encoder=new Go,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(Rm(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return Rm(this),rn(this.encoder)}}class jZ{constructor(){this.sarr=[],this.s="",this.lensE=new Ka}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new Go;return this.sarr.push(this.s),this.s="",Wr(e,this.sarr.join("")),id(e,this.lensE.toUint8Array()),rn(e)}}const NZ=crypto.getRandomValues.bind(crypto),Uv=()=>NZ(new Uint32Array(1))[0],YZ=[1e7]+-1e3+-4e3+-8e3+-1e11,BZ=()=>YZ.replace(/[018]/g,t=>(t^Uv()&15>>t/4).toString(16)),VZ=Date.now,Im=t=>new Promise(t);Promise.all.bind(Promise);class XZ{constructor(e,i){this.left=e,this.right=i}}const Gi=(t,e)=>new XZ(t,e);typeof DOMParser<"u"&&new DOMParser;const WZ=t=>eZ(t,(e,i)=>`${i}:${e};`).join(""),mn=Symbol,Fv=mn(),zv=mn(),UZ=mn(),FZ=mn(),zZ=mn(),qv=mn(),qZ=mn(),Gv=mn(),GZ=mn(),HZ=t=>{const e=[];let i=0;for(;i<t.length;i++){const n=t[i];n.constructor===String||n.constructor===Number||n.constructor===Object&&e.push(JSON.stringify(n))}return e},KZ={[Fv]:Gi("font-weight","bold"),[zv]:Gi("font-weight","normal"),[UZ]:Gi("color","blue"),[zZ]:Gi("color","green"),[FZ]:Gi("color","grey"),[qv]:Gi("color","red"),[qZ]:Gi("color","purple"),[Gv]:Gi("color","orange"),[GZ]:Gi("color","black")},JZ=t=>{const e=[],i=[],n=ji();let r=[],s=0;for(;s<t.length;s++){const o=t[s],a=KZ[o];if(a!==void 0)n.set(a.left,a.right);else if(o.constructor===String||o.constructor===Number){const l=WZ(n);s>0||l.length>0?(e.push("%c"+o),i.push(l)):e.push(o)}else break}for(s>0&&(r=i,r.unshift(e.join("")));s<t.length;s++){const o=t[s];o instanceof Symbol||r.push(o)}return r},e7=CZ?JZ:HZ,t7=(...t)=>{console.log(...e7(t)),i7.forEach(e=>e.print(t))},i7=ns(),Hv=t=>({[Symbol.iterator](){return this},next:t}),n7=(t,e)=>Hv(()=>{let i;do i=t.next();while(!i.done&&!e(i.value));return i}),Oh=(t,e)=>Hv(()=>{const{done:i,value:n}=t.next();return{done:i,value:i?void 0:e(n)}});class r7{constructor(e,i){this.clock=e,this.len=i}}class rd{constructor(){this.clients=new Map}}const os=(t,e,i)=>e.clients.forEach((n,r)=>{const s=t.doc.store.clients.get(r);for(let o=0;o<n.length;o++){const a=n[o];ty(t,s,a.clock,a.len,i)}}),s7=(t,e)=>{let i=0,n=t.length-1;for(;i<=n;){const r=gr((i+n)/2),s=t[r],o=s.clock;if(o<=e){if(e<o+s.len)return r;i=r+1}else n=r-1}return null},Ho=(t,e)=>{const i=t.clients.get(e.client);return i!==void 0&&s7(i,e.clock)!==null},sd=t=>{t.clients.forEach(e=>{e.sort((r,s)=>r.clock-s.clock);let i,n;for(i=1,n=1;i<e.length;i++){const r=e[n-1],s=e[i];r.clock+r.len>=s.clock?r.len=ys(r.len,s.clock+s.len-r.clock):(n<i&&(e[n]=s),n++)}e.length=n})},Zm=t=>{const e=new rd;for(let i=0;i<t.length;i++)t[i].clients.forEach((n,r)=>{if(!e.clients.has(r)){const s=n.slice();for(let o=i+1;o<t.length;o++)iZ(s,t[o].clients.get(r)||[]);e.clients.set(r,s)}});return sd(e),e},od=(t,e,i,n)=>{vs(t.clients,e,()=>[]).push(new r7(i,n))},o7=(t,e)=>{Me(t.restEncoder,e.clients.size),rs(e.clients.entries()).sort((i,n)=>n[0]-i[0]).forEach(([i,n])=>{t.resetDsCurVal(),Me(t.restEncoder,i);const r=n.length;Me(t.restEncoder,r);for(let s=0;s<r;s++){const o=n[s];t.writeDsClock(o.clock),t.writeDsLen(o.len)}})},Kv=Uv;class $r extends Yv{constructor({guid:e=BZ(),collectionid:i=null,gc:n=!0,gcFilter:r=()=>!0,meta:s=null,autoLoad:o=!1,shouldLoad:a=!0}={}){super(),this.gc=n,this.gcFilter=r,this.clientID=Kv(),this.guid=e,this.collectionid=i,this.share=new Map,this.store=new m7,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=a,this.autoLoad=o,this.meta=s,this.isLoaded=!1,this.isSynced=!1,this.whenLoaded=Im(c=>{this.on("load",()=>{this.isLoaded=!0,c(this)})});const l=()=>Im(c=>{const h=u=>{(u===void 0||u===!0)&&(this.off("sync",h),c())};this.on("sync",h)});this.on("sync",c=>{c===!1&&this.isSynced&&(this.whenSynced=l()),this.isSynced=c===void 0||c===!0,this.isLoaded||this.emit("load",[])}),this.whenSynced=l()}load(){const e=this._item;e!==null&&!this.shouldLoad&&je(e.parent.doc,i=>{i.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(rs(this.subdocs).map(e=>e.guid))}transact(e,i=null){return je(this,e,i)}get(e,i=wt){const n=vs(this.share,e,()=>{const s=new i;return s._integrate(this,null),s}),r=n.constructor;if(i!==wt&&r!==i)if(r===wt){const s=new i;s._map=n._map,n._map.forEach(o=>{for(;o!==null;o=o.left)o.parent=s}),s._start=n._start;for(let o=s._start;o!==null;o=o.right)o.parent=s;return s._length=n._length,this.share.set(e,s),s._integrate(this,null),s}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return n}getArray(e=""){return this.get(e,Ur)}getText(e=""){return this.get(e,Nl)}getMap(e=""){return this.get(e,Eo)}getXmlFragment(e=""){return this.get(e,as)}toJSON(){const e={};return this.share.forEach((i,n)=>{e[n]=i.toJSON()}),e}destroy(){rs(this.subdocs).forEach(i=>i.destroy());const e=this._item;if(e!==null){this._item=null;const i=e.content;i.doc=new $r({guid:this.guid,...i.opts,shouldLoad:!1}),i.doc._item=e,je(e.parent.doc,n=>{const r=i.doc;e.deleted||n.subdocsAdded.add(r),n.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(e,i){super.on(e,i)}off(e,i){super.off(e,i)}}class a7{constructor(){this.restEncoder=ed()}toUint8Array(){return rn(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){Me(this.restEncoder,e)}writeDsLen(e){Me(this.restEncoder,e)}}class l7 extends a7{writeLeftID(e){Me(this.restEncoder,e.client),Me(this.restEncoder,e.clock)}writeRightID(e){Me(this.restEncoder,e.client),Me(this.restEncoder,e.clock)}writeClient(e){Me(this.restEncoder,e)}writeInfo(e){Yu(this.restEncoder,e)}writeString(e){Wr(this.restEncoder,e)}writeParentInfo(e){Me(this.restEncoder,e?1:0)}writeTypeRef(e){Me(this.restEncoder,e)}writeLen(e){Me(this.restEncoder,e)}writeAny(e){To(this.restEncoder,e)}writeBuf(e){qt(this.restEncoder,e)}writeJSON(e){Wr(this.restEncoder,JSON.stringify(e))}writeKey(e){Wr(this.restEncoder,e)}}class c7{constructor(){this.restEncoder=ed(),this.dsCurrVal=0}toUint8Array(){return rn(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const i=e-this.dsCurrVal;this.dsCurrVal=e,Me(this.restEncoder,i)}writeDsLen(e){e===0&&mr(),Me(this.restEncoder,e-1),this.dsCurrVal+=e}}class h7 extends c7{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new mh,this.clientEncoder=new Ka,this.leftClockEncoder=new mh,this.rightClockEncoder=new mh,this.infoEncoder=new Am(Yu),this.stringEncoder=new jZ,this.parentInfoEncoder=new Am(Yu),this.typeRefEncoder=new Ka,this.lenEncoder=new Ka}toUint8Array(){const e=ed();return Me(e,0),qt(e,this.keyClockEncoder.toUint8Array()),qt(e,this.clientEncoder.toUint8Array()),qt(e,this.leftClockEncoder.toUint8Array()),qt(e,this.rightClockEncoder.toUint8Array()),qt(e,rn(this.infoEncoder)),qt(e,this.stringEncoder.toUint8Array()),qt(e,rn(this.parentInfoEncoder)),qt(e,this.typeRefEncoder.toUint8Array()),qt(e,this.lenEncoder.toUint8Array()),id(e,rn(this.restEncoder)),rn(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){To(this.restEncoder,e)}writeBuf(e){qt(this.restEncoder,e)}writeJSON(e){To(this.restEncoder,e)}writeKey(e){const i=this.keyMap.get(e);i===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(i)}}const u7=(t,e,i,n)=>{n=ys(n,e[0].id.clock);const r=cn(e,n);Me(t.restEncoder,e.length-r),t.writeClient(i),Me(t.restEncoder,n);const s=e[r];s.write(t,n-s.id.clock);for(let o=r+1;o<e.length;o++)e[o].write(t,0)},f7=(t,e,i)=>{const n=new Map;i.forEach((r,s)=>{It(e,s)>r&&n.set(s,r)}),ad(e).forEach((r,s)=>{i.has(s)||n.set(s,0)}),Me(t.restEncoder,n.size),rs(n.entries()).sort((r,s)=>s[0]-r[0]).forEach(([r,s])=>{u7(t,e.clients.get(r),r,s)})},d7=(t,e)=>f7(t,e.doc.store,e.beforeState);class p7{constructor(){this.l=[]}}const Mm=()=>new p7,Dm=(t,e)=>t.l.push(e),Lm=(t,e)=>{const i=t.l,n=i.length;t.l=i.filter(r=>e!==r),n===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},Jv=(t,e,i)=>Jf(t.l,[e,i]);class Ja{constructor(e,i){this.client=e,this.clock=i}}const Qa=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,Ve=(t,e)=>new Ja(t,e),g7=t=>{for(const[e,i]of t.doc.share.entries())if(i===t)return e;throw mr()},Dl=(t,e)=>{for(;e!==null;){if(e.parent===t)return!0;e=e.parent._item}return!1},Ms=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!Ho(e.ds,t.id),Vu=(t,e)=>{const i=vs(t.meta,Vu,ns),n=t.doc.store;i.has(e)||(e.sv.forEach((r,s)=>{r<It(n,s)&&Bt(t,Ve(s,r))}),os(t,e.ds,r=>{}),i.add(e))};class m7{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const ad=t=>{const e=new Map;return t.clients.forEach((i,n)=>{const r=i[i.length-1];e.set(n,r.id.clock+r.length)}),e},It=(t,e)=>{const i=t.clients.get(e);if(i===void 0)return 0;const n=i[i.length-1];return n.id.clock+n.length},ey=(t,e)=>{let i=t.clients.get(e.id.client);if(i===void 0)i=[],t.clients.set(e.id.client,i);else{const n=i[i.length-1];if(n.id.clock+n.length!==e.id.clock)throw mr()}i.push(e)},cn=(t,e)=>{let i=0,n=t.length-1,r=t[n],s=r.id.clock;if(s===e)return n;let o=gr(e/(s+r.length-1)*n);for(;i<=n;){if(r=t[o],s=r.id.clock,s<=e){if(e<s+r.length)return o;i=o+1}else n=o-1;o=gr((i+n)/2)}throw mr()},O7=(t,e)=>{const i=t.clients.get(e.client);return i[cn(i,e.clock)]},el=O7,Xu=(t,e,i)=>{const n=cn(e,i),r=e[n];return r.id.clock<i&&r instanceof He?(e.splice(n+1,0,vy(t,r,i-r.id.clock)),n+1):n},Bt=(t,e)=>{const i=t.doc.store.clients.get(e.client);return i[Xu(t,i,e.clock)]},jm=(t,e,i)=>{const n=e.clients.get(i.client),r=cn(n,i.clock),s=n[r];return i.clock!==s.id.clock+s.length-1&&s.constructor!==Pn&&n.splice(r+1,0,vy(t,s,i.clock-s.id.clock+1)),s},b7=(t,e,i)=>{const n=t.clients.get(e.id.client);n[cn(n,e.id.clock)]=i},ty=(t,e,i,n,r)=>{if(n===0)return;const s=i+n;let o=Xu(t,e,i),a;do a=e[o++],s<a.id.clock+a.length&&Xu(t,e,s),r(a);while(o<e.length&&e[o].id.clock<s)};class v7{constructor(e,i,n){this.doc=e,this.deleteSet=new rd,this.beforeState=ad(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=i,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const Nm=(t,e)=>e.deleteSet.clients.size===0&&!tZ(e.afterState,(i,n)=>e.beforeState.get(n)!==i)?!1:(sd(e.deleteSet),d7(t,e),o7(t,e.deleteSet),!0),Ym=(t,e,i)=>{const n=e._item;(n===null||n.id.clock<(t.beforeState.get(n.id.client)||0)&&!n.deleted)&&vs(t.changed,e,ns).add(i)},tl=(t,e)=>{let i=t[e],n=t[e-1],r=e;for(;r>0;i=n,n=t[--r-1]){if(n.deleted===i.deleted&&n.constructor===i.constructor&&n.mergeWith(i)){i instanceof He&&i.parentSub!==null&&i.parent._map.get(i.parentSub)===i&&i.parent._map.set(i.parentSub,n);continue}break}const s=e-r;return s&&t.splice(e+1-s,s),s},y7=(t,e,i)=>{for(const[n,r]of t.clients.entries()){const s=e.clients.get(n);for(let o=r.length-1;o>=0;o--){const a=r[o],l=a.clock+a.len;for(let c=cn(s,a.clock),h=s[c];c<s.length&&h.id.clock<l;h=s[++c]){const u=s[c];if(a.clock+a.len<=u.id.clock)break;u instanceof He&&u.deleted&&!u.keep&&i(u)&&u.gc(e,!1)}}}},x7=(t,e)=>{t.clients.forEach((i,n)=>{const r=e.clients.get(n);for(let s=i.length-1;s>=0;s--){const o=i[s],a=Bv(r.length-1,1+cn(r,o.clock+o.len-1));for(let l=a,c=r[l];l>0&&c.id.clock>=o.clock;c=r[l])l-=1+tl(r,l)}})},iy=(t,e)=>{if(e<t.length){const i=t[e],n=i.doc,r=n.store,s=i.deleteSet,o=i._mergeStructs;try{sd(s),i.afterState=ad(i.doc.store),n.emit("beforeObserverCalls",[i,n]);const a=[];i.changed.forEach((l,c)=>a.push(()=>{(c._item===null||!c._item.deleted)&&c._callObserver(i,l)})),a.push(()=>{i.changedParentTypes.forEach((l,c)=>{c._dEH.l.length>0&&(c._item===null||!c._item.deleted)&&(l=l.filter(h=>h.target._item===null||!h.target._item.deleted),l.forEach(h=>{h.currentTarget=c,h._path=null}),l.sort((h,u)=>h.path.length-u.path.length),Jv(c._dEH,l,i))})}),a.push(()=>n.emit("afterTransaction",[i,n])),Jf(a,[]),i._needFormattingCleanup&&I7(i)}finally{n.gc&&y7(s,r,n.gcFilter),x7(s,r),i.afterState.forEach((h,u)=>{const f=i.beforeState.get(u)||0;if(f!==h){const d=r.clients.get(u),p=ys(cn(d,f),1);for(let g=d.length-1;g>=p;)g-=1+tl(d,g)}});for(let h=o.length-1;h>=0;h--){const{client:u,clock:f}=o[h].id,d=r.clients.get(u),p=cn(d,f);p+1<d.length&&tl(d,p+1)>1||p>0&&tl(d,p)}if(!i.local&&i.afterState.get(n.clientID)!==i.beforeState.get(n.clientID)&&(t7(Gv,Fv,"[yjs] ",zv,qv,"Changed the client-id because another client seems to be using it."),n.clientID=Kv()),n.emit("afterTransactionCleanup",[i,n]),n._observers.has("update")){const h=new l7;Nm(h,i)&&n.emit("update",[h.toUint8Array(),i.origin,n,i])}if(n._observers.has("updateV2")){const h=new h7;Nm(h,i)&&n.emit("updateV2",[h.toUint8Array(),i.origin,n,i])}const{subdocsAdded:a,subdocsLoaded:l,subdocsRemoved:c}=i;(a.size>0||c.size>0||l.size>0)&&(a.forEach(h=>{h.clientID=n.clientID,h.collectionid==null&&(h.collectionid=n.collectionid),n.subdocs.add(h)}),c.forEach(h=>n.subdocs.delete(h)),n.emit("subdocs",[{loaded:l,added:a,removed:c},n,i]),c.forEach(h=>h.destroy())),t.length<=e+1?(n._transactionCleanups=[],n.emit("afterAllTransactions",[n,t])):iy(t,e+1)}}},je=(t,e,i=null,n=!0)=>{const r=t._transactionCleanups;let s=!1,o=null;t._transaction===null&&(s=!0,t._transaction=new v7(t,i,n),r.push(t._transaction),r.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{o=e(t._transaction)}finally{if(s){const a=t._transaction===r[0];t._transaction=null,a&&iy(r,0)}}return o};class S7{constructor(e,i){this.insertions=i,this.deletions=e,this.meta=new Map}}const Bm=(t,e,i)=>{os(t,i.deletions,n=>{n instanceof He&&e.scope.some(r=>Dl(r,n))&&ud(n,!1)})},Vm=(t,e,i)=>{let n=null,r=null;const s=t.doc,o=t.scope;if(je(s,a=>{for(;e.length>0&&n===null;){const l=s.store,c=e.pop(),h=new Set,u=[];let f=!1;os(a,c.insertions,d=>{if(d instanceof He){if(d.redone!==null){let{item:p,diff:g}=X7(l,d.id);g>0&&(p=Bt(a,Ve(p.id.client,p.id.clock+g))),d=p}!d.deleted&&o.some(p=>Dl(p,d))&&u.push(d)}}),os(a,c.deletions,d=>{d instanceof He&&o.some(p=>Dl(p,d))&&!Ho(c.insertions,d.id)&&h.add(d)}),h.forEach(d=>{f=yy(a,d,h,c.insertions,t.ignoreRemoteMapChanges,t)!==null||f});for(let d=u.length-1;d>=0;d--){const p=u[d];t.deleteFilter(p)&&(p.delete(a),f=!0)}n=f?c:null}a.changed.forEach((l,c)=>{l.has(null)&&c._searchMarker&&(c._searchMarker.length=0)}),r=a},t),n!=null){const a=r.changedParentTypes;t.emit("stack-item-popped",[{stackItem:n,type:i,changedParentTypes:a},t])}return n};class w7 extends Yv{constructor(e,{captureTimeout:i=500,captureTransaction:n=l=>!0,deleteFilter:r=()=>!0,trackedOrigins:s=new Set([null]),ignoreRemoteMapChanges:o=!1,doc:a=Lu(e)?e[0].doc:e.doc}={}){super(),this.scope=[],this.addToScope(e),this.deleteFilter=r,s.add(this),this.trackedOrigins=s,this.captureTransaction=n,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.doc=a,this.lastChange=0,this.ignoreRemoteMapChanges=o,this.captureTimeout=i,this.afterTransactionHandler=l=>{if(!this.captureTransaction(l)||!this.scope.some(m=>l.changedParentTypes.has(m))||!this.trackedOrigins.has(l.origin)&&(!l.origin||!this.trackedOrigins.has(l.origin.constructor)))return;const c=this.undoing,h=this.redoing,u=c?this.redoStack:this.undoStack;c?this.stopCapturing():h||this.clear(!1,!0);const f=new rd;l.afterState.forEach((m,b)=>{const v=l.beforeState.get(b)||0,x=m-v;x>0&&od(f,b,v,x)});const d=VZ();let p=!1;if(this.lastChange>0&&d-this.lastChange<this.captureTimeout&&u.length>0&&!c&&!h){const m=u[u.length-1];m.deletions=Zm([m.deletions,l.deleteSet]),m.insertions=Zm([m.insertions,f])}else u.push(new S7(l.deleteSet,f)),p=!0;!c&&!h&&(this.lastChange=d),os(l,l.deleteSet,m=>{m instanceof He&&this.scope.some(b=>Dl(b,m))&&ud(m,!0)});const g=[{stackItem:u[u.length-1],origin:l.origin,type:c?"redo":"undo",changedParentTypes:l.changedParentTypes},this];p?this.emit("stack-item-added",g):this.emit("stack-item-updated",g)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){e=Lu(e)?e:[e],e.forEach(i=>{this.scope.every(n=>n!==i)&&this.scope.push(i)})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,i=!0){(e&&this.canUndo()||i&&this.canRedo())&&this.doc.transact(n=>{e&&(this.undoStack.forEach(r=>Bm(n,this,r)),this.undoStack=[]),i&&(this.redoStack.forEach(r=>Bm(n,this,r)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:i}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=Vm(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=Vm(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}const Xm="You must not compute changes after the event-handler fired.";class wc{constructor(e,i){this.target=e,this.currentTarget=e,this.transaction=i,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=k7(this.currentTarget,this.target))}deletes(e){return Ho(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw ss(Xm);const e=new Map,i=this.target;this.transaction.changed.get(i).forEach(r=>{if(r!==null){const s=i._map.get(r);let o,a;if(this.adds(s)){let l=s.left;for(;l!==null&&this.adds(l);)l=l.left;if(this.deletes(s))if(l!==null&&this.deletes(l))o="delete",a=fh(l.content.getContent());else return;else l!==null&&this.deletes(l)?(o="update",a=fh(l.content.getContent())):(o="add",a=void 0)}else if(this.deletes(s))o="delete",a=fh(s.content.getContent());else return;e.set(r,{action:o,oldValue:a})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw ss(Xm);const i=this.target,n=ns(),r=ns(),s=[];if(e={added:n,deleted:r,delta:s,keys:this.keys},this.transaction.changed.get(i).has(null)){let a=null;const l=()=>{a&&s.push(a)};for(let c=i._start;c!==null;c=c.right)c.deleted?this.deletes(c)&&!this.adds(c)&&((a===null||a.delete===void 0)&&(l(),a={delete:0}),a.delete+=c.length,r.add(c)):this.adds(c)?((a===null||a.insert===void 0)&&(l(),a={insert:[]}),a.insert=a.insert.concat(c.content.getContent()),n.add(c)):((a===null||a.retain===void 0)&&(l(),a={retain:0}),a.retain+=c.length);a!==null&&a.retain===void 0&&l()}this._changes=e}return e}}const k7=(t,e)=>{const i=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)i.unshift(e._item.parentSub);else{let n=0,r=e._item.parent._start;for(;r!==e._item&&r!==null;)r.deleted||n++,r=r.right;i.unshift(n)}e=e._item.parent}return i},ny=80;let ld=0;class C7{constructor(e,i){e.marker=!0,this.p=e,this.index=i,this.timestamp=ld++}}const $7=t=>{t.timestamp=ld++},ry=(t,e,i)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=i,t.timestamp=ld++},_7=(t,e,i)=>{if(t.length>=ny){const n=t.reduce((r,s)=>r.timestamp<s.timestamp?r:s);return ry(n,e,i),n}else{const n=new C7(e,i);return t.push(n),n}},kc=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const i=t._searchMarker.length===0?null:t._searchMarker.reduce((s,o)=>Ha(e-s.index)<Ha(e-o.index)?s:o);let n=t._start,r=0;for(i!==null&&(n=i.p,r=i.index,$7(i));n.right!==null&&r<e;){if(!n.deleted&&n.countable){if(e<r+n.length)break;r+=n.length}n=n.right}for(;n.left!==null&&r>e;)n=n.left,!n.deleted&&n.countable&&(r-=n.length);for(;n.left!==null&&n.left.id.client===n.id.client&&n.left.id.clock+n.left.length===n.id.clock;)n=n.left,!n.deleted&&n.countable&&(r-=n.length);return i!==null&&Ha(i.index-r)<n.parent.length/ny?(ry(i,n,r),i):_7(t._searchMarker,n,r)},Qo=(t,e,i)=>{for(let n=t.length-1;n>=0;n--){const r=t[n];if(i>0){let s=r.p;for(s.marker=!1;s&&(s.deleted||!s.countable);)s=s.left,s&&!s.deleted&&s.countable&&(r.index-=s.length);if(s===null||s.marker===!0){t.splice(n,1);continue}r.p=s,s.marker=!0}(e<r.index||i>0&&e===r.index)&&(r.index=ys(e,r.index+i))}},Cc=(t,e,i)=>{const n=t,r=e.changedParentTypes;for(;vs(r,t,()=>[]).push(i),t._item!==null;)t=t._item.parent;Jv(n._eH,i,e)};class wt{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Mm(),this._dEH=Mm(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,i){this.doc=e,this._item=i}_copy(){throw Ni()}clone(){throw Ni()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,i){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){Dm(this._eH,e)}observeDeep(e){Dm(this._dEH,e)}unobserve(e){Lm(this._eH,e)}unobserveDeep(e){Lm(this._dEH,e)}toJSON(){}}const sy=(t,e,i)=>{e<0&&(e=t._length+e),i<0&&(i=t._length+i);let n=i-e;const r=[];let s=t._start;for(;s!==null&&n>0;){if(s.countable&&!s.deleted){const o=s.content.getContent();if(o.length<=e)e-=o.length;else{for(let a=e;a<o.length&&n>0;a++)r.push(o[a]),n--;e=0}}s=s.right}return r},oy=t=>{const e=[];let i=t._start;for(;i!==null;){if(i.countable&&!i.deleted){const n=i.content.getContent();for(let r=0;r<n.length;r++)e.push(n[r])}i=i.right}return e},Ao=(t,e)=>{let i=0,n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let s=0;s<r.length;s++)e(r[s],i++,t)}n=n.right}},ay=(t,e)=>{const i=[];return Ao(t,(n,r)=>{i.push(e(n,r,t))}),i},P7=t=>{let e=t._start,i=null,n=0;return{[Symbol.iterator](){return this},next:()=>{if(i===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};i=e.content.getContent(),n=0,e=e.right}const r=i[n++];return i.length<=n&&(i=null),{done:!1,value:r}}}},ly=(t,e)=>{const i=kc(t,e);let n=t._start;for(i!==null&&(n=i.p,e-=i.index);n!==null;n=n.right)if(!n.deleted&&n.countable){if(e<n.length)return n.content.getContent()[e];e-=n.length}},Ll=(t,e,i,n)=>{let r=i;const s=t.doc,o=s.clientID,a=s.store,l=i===null?e._start:i.right;let c=[];const h=()=>{c.length>0&&(r=new He(Ve(o,It(a,o)),r,r&&r.lastId,l,l&&l.id,e,null,new ls(c)),r.integrate(t,0),c=[])};n.forEach(u=>{if(u===null)c.push(u);else switch(u.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(u);break;default:switch(h(),u.constructor){case Uint8Array:case ArrayBuffer:r=new He(Ve(o,It(a,o)),r,r&&r.lastId,l,l&&l.id,e,null,new $c(new Uint8Array(u))),r.integrate(t,0);break;case $r:r=new He(Ve(o,It(a,o)),r,r&&r.lastId,l,l&&l.id,e,null,new _c(u)),r.integrate(t,0);break;default:if(u instanceof wt)r=new He(Ve(o,It(a,o)),r,r&&r.lastId,l,l&&l.id,e,null,new Un(u)),r.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),h()},cy=ss("Length exceeded!"),hy=(t,e,i,n)=>{if(i>e._length)throw cy;if(i===0)return e._searchMarker&&Qo(e._searchMarker,i,n.length),Ll(t,e,null,n);const r=i,s=kc(e,i);let o=e._start;for(s!==null&&(o=s.p,i-=s.index,i===0&&(o=o.prev,i+=o&&o.countable&&!o.deleted?o.length:0));o!==null;o=o.right)if(!o.deleted&&o.countable){if(i<=o.length){i<o.length&&Bt(t,Ve(o.id.client,o.id.clock+i));break}i-=o.length}return e._searchMarker&&Qo(e._searchMarker,r,n.length),Ll(t,e,o,n)},T7=(t,e,i)=>{let r=(e._searchMarker||[]).reduce((s,o)=>o.index>s.index?o:s,{index:0,p:e._start}).p;if(r)for(;r.right;)r=r.right;return Ll(t,e,r,i)},uy=(t,e,i,n)=>{if(n===0)return;const r=i,s=n,o=kc(e,i);let a=e._start;for(o!==null&&(a=o.p,i-=o.index);a!==null&&i>0;a=a.right)!a.deleted&&a.countable&&(i<a.length&&Bt(t,Ve(a.id.client,a.id.clock+i)),i-=a.length);for(;n>0&&a!==null;)a.deleted||(n<a.length&&Bt(t,Ve(a.id.client,a.id.clock+n)),a.delete(t),n-=a.length),a=a.right;if(n>0)throw cy;e._searchMarker&&Qo(e._searchMarker,r,-s+n)},jl=(t,e,i)=>{const n=e._map.get(i);n!==void 0&&n.delete(t)},cd=(t,e,i,n)=>{const r=e._map.get(i)||null,s=t.doc,o=s.clientID;let a;if(n==null)a=new ls([n]);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:a=new ls([n]);break;case Uint8Array:a=new $c(n);break;case $r:a=new _c(n);break;default:if(n instanceof wt)a=new Un(n);else throw new Error("Unexpected content type")}new He(Ve(o,It(s.store,o)),r,r&&r.lastId,null,null,e,i,a).integrate(t,0)},hd=(t,e)=>{const i=t._map.get(e);return i!==void 0&&!i.deleted?i.content.getContent()[i.length-1]:void 0},fy=t=>{const e={};return t._map.forEach((i,n)=>{i.deleted||(e[n]=i.content.getContent()[i.length-1])}),e},dy=(t,e)=>{const i=t._map.get(e);return i!==void 0&&!i.deleted},Aa=t=>n7(t.entries(),e=>!e[1].deleted);class Q7 extends wc{constructor(e,i){super(e,i),this._transaction=i}}class Ur extends wt{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const i=new Ur;return i.push(e),i}_integrate(e,i){super._integrate(e,i),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Ur}clone(){const e=new Ur;return e.insert(0,this.toArray().map(i=>i instanceof wt?i.clone():i)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}_callObserver(e,i){super._callObserver(e,i),Cc(this,e,new Q7(this,e))}insert(e,i){this.doc!==null?je(this.doc,n=>{hy(n,this,e,i)}):this._prelimContent.splice(e,0,...i)}push(e){this.doc!==null?je(this.doc,i=>{T7(i,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,i=1){this.doc!==null?je(this.doc,n=>{uy(n,this,e,i)}):this._prelimContent.splice(e,i)}get(e){return ly(this,e)}toArray(){return oy(this)}slice(e=0,i=this.length){return sy(this,e,i)}toJSON(){return this.map(e=>e instanceof wt?e.toJSON():e)}map(e){return ay(this,e)}forEach(e){Ao(this,e)}[Symbol.iterator](){return P7(this)}_write(e){e.writeTypeRef(j7)}}class A7 extends wc{constructor(e,i,n){super(e,i),this.keysChanged=n}}class Eo extends wt{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,i){super._integrate(e,i),this._prelimContent.forEach((n,r)=>{this.set(r,n)}),this._prelimContent=null}_copy(){return new Eo}clone(){const e=new Eo;return this.forEach((i,n)=>{e.set(n,i instanceof wt?i.clone():i)}),e}_callObserver(e,i){Cc(this,e,new A7(this,e,i))}toJSON(){const e={};return this._map.forEach((i,n)=>{if(!i.deleted){const r=i.content.getContent()[i.length-1];e[n]=r instanceof wt?r.toJSON():r}}),e}get size(){return[...Aa(this._map)].length}keys(){return Oh(Aa(this._map),e=>e[0])}values(){return Oh(Aa(this._map),e=>e[1].content.getContent()[e[1].length-1])}entries(){return Oh(Aa(this._map),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this._map.forEach((i,n)=>{i.deleted||e(i.content.getContent()[i.length-1],n,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?je(this.doc,i=>{jl(i,this,e)}):this._prelimContent.delete(e)}set(e,i){return this.doc!==null?je(this.doc,n=>{cd(n,this,e,i)}):this._prelimContent.set(e,i),i}get(e){return hd(this,e)}has(e){return dy(this,e)}clear(){this.doc!==null?je(this.doc,e=>{this.forEach(function(i,n,r){jl(e,r,n)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(N7)}}const En=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&xZ(t,e);class Wu{constructor(e,i,n,r){this.left=e,this.right=i,this.index=n,this.currentAttributes=r}forward(){switch(this.right===null&&mr(),this.right.content.constructor){case mt:this.right.deleted||xs(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const Wm=(t,e,i)=>{for(;e.right!==null&&i>0;){switch(e.right.content.constructor){case mt:e.right.deleted||xs(e.currentAttributes,e.right.content);break;default:e.right.deleted||(i<e.right.length&&Bt(t,Ve(e.right.id.client,e.right.id.clock+i)),e.index+=e.right.length,i-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},Ea=(t,e,i)=>{const n=new Map,r=kc(e,i);if(r){const s=new Wu(r.p.left,r.p,r.index,n);return Wm(t,s,i-r.index)}else{const s=new Wu(null,e._start,0,n);return Wm(t,s,i)}},py=(t,e,i,n)=>{for(;i.right!==null&&(i.right.deleted===!0||i.right.content.constructor===mt&&En(n.get(i.right.content.key),i.right.content.value));)i.right.deleted||n.delete(i.right.content.key),i.forward();const r=t.doc,s=r.clientID;n.forEach((o,a)=>{const l=i.left,c=i.right,h=new He(Ve(s,It(r.store,s)),l,l&&l.lastId,c,c&&c.id,e,null,new mt(a,o));h.integrate(t,0),i.right=h,i.forward()})},xs=(t,e)=>{const{key:i,value:n}=e;n===null?t.delete(i):t.set(i,n)},gy=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===mt&&En(e[t.right.content.key]||null,t.right.content.value)))break;t.forward()}},my=(t,e,i,n)=>{const r=t.doc,s=r.clientID,o=new Map;for(const a in n){const l=n[a],c=i.currentAttributes.get(a)||null;if(!En(c,l)){o.set(a,c);const{left:h,right:u}=i;i.right=new He(Ve(s,It(r.store,s)),h,h&&h.lastId,u,u&&u.id,e,null,new mt(a,l)),i.right.integrate(t,0),i.forward()}}return o},bh=(t,e,i,n,r)=>{i.currentAttributes.forEach((f,d)=>{r[d]===void 0&&(r[d]=null)});const s=t.doc,o=s.clientID;gy(i,r);const a=my(t,e,i,r),l=n.constructor===String?new hn(n):n instanceof wt?new Un(n):new Ss(n);let{left:c,right:h,index:u}=i;e._searchMarker&&Qo(e._searchMarker,i.index,l.getLength()),h=new He(Ve(o,It(s.store,o)),c,c&&c.lastId,h,h&&h.id,e,null,l),h.integrate(t,0),i.right=h,i.index=u,i.forward(),py(t,e,i,a)},Um=(t,e,i,n,r)=>{const s=t.doc,o=s.clientID;gy(i,r);const a=my(t,e,i,r);e:for(;i.right!==null&&(n>0||a.size>0&&(i.right.deleted||i.right.content.constructor===mt));){if(!i.right.deleted)switch(i.right.content.constructor){case mt:{const{key:l,value:c}=i.right.content,h=r[l];if(h!==void 0){if(En(h,c))a.delete(l);else{if(n===0)break e;a.set(l,c)}i.right.delete(t)}else i.currentAttributes.set(l,c);break}default:n<i.right.length&&Bt(t,Ve(i.right.id.client,i.right.id.clock+n)),n-=i.right.length;break}i.forward()}if(n>0){let l="";for(;n>0;n--)l+=`
`;i.right=new He(Ve(o,It(s.store,o)),i.left,i.left&&i.left.lastId,i.right,i.right&&i.right.id,e,null,new hn(l)),i.right.integrate(t,0),i.forward()}py(t,e,i,a)},Oy=(t,e,i,n,r)=>{let s=e;const o=ji();for(;s&&(!s.countable||s.deleted);){if(!s.deleted&&s.content.constructor===mt){const c=s.content;o.set(c.key,c)}s=s.right}let a=0,l=!1;for(;e!==s;){if(i===e&&(l=!0),!e.deleted){const c=e.content;switch(c.constructor){case mt:{const{key:h,value:u}=c,f=n.get(h)||null;(o.get(h)!==c||f===u)&&(e.delete(t),a++,!l&&(r.get(h)||null)===u&&f!==u&&(f===null?r.delete(h):r.set(h,f))),!l&&!e.deleted&&xs(r,c);break}}}e=e.right}return a},E7=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const i=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===mt){const n=e.content.key;i.has(n)?e.delete(t):i.add(n)}e=e.left}},R7=t=>{let e=0;return je(t.doc,i=>{let n=t._start,r=t._start,s=ji();const o=Du(s);for(;r;){if(r.deleted===!1)switch(r.content.constructor){case mt:xs(o,r.content);break;default:e+=Oy(i,n,r,s,o),s=Du(o),n=r;break}r=r.right}}),e},I7=t=>{const e=new Set,i=t.doc;for(const[n,r]of t.afterState.entries()){const s=t.beforeState.get(n)||0;r!==s&&ty(t,i.store.clients.get(n),s,r,o=>{!o.deleted&&o.content.constructor===mt&&o.constructor!==Pn&&e.add(o.parent)})}je(i,n=>{os(t,t.deleteSet,r=>{if(r instanceof Pn||!r.parent._hasFormatting||e.has(r.parent))return;const s=r.parent;r.content.constructor===mt?e.add(s):E7(n,r)});for(const r of e)R7(r)})},Fm=(t,e,i)=>{const n=i,r=Du(e.currentAttributes),s=e.right;for(;i>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case Un:case Ss:case hn:i<e.right.length&&Bt(t,Ve(e.right.id.client,e.right.id.clock+i)),i-=e.right.length,e.right.delete(t);break}e.forward()}s&&Oy(t,s,e.right,r,e.currentAttributes);const o=(e.left||e.right).parent;return o._searchMarker&&Qo(o._searchMarker,e.index,-n+i),e};class Z7 extends wc{constructor(e,i,n){super(e,i),this.childListChanged=!1,this.keysChanged=new Set,n.forEach(r=>{r===null?this.childListChanged=!0:this.keysChanged.add(r)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,i=[];je(e,n=>{const r=new Map,s=new Map;let o=this.target._start,a=null;const l={};let c="",h=0,u=0;const f=()=>{if(a!==null){let d=null;switch(a){case"delete":u>0&&(d={delete:u}),u=0;break;case"insert":(typeof c=="object"||c.length>0)&&(d={insert:c},r.size>0&&(d.attributes={},r.forEach((p,g)=>{p!==null&&(d.attributes[g]=p)}))),c="";break;case"retain":h>0&&(d={retain:h},bZ(l)||(d.attributes=gZ({},l))),h=0;break}d&&i.push(d),a=null}};for(;o!==null;){switch(o.content.constructor){case Un:case Ss:this.adds(o)?this.deletes(o)||(f(),a="insert",c=o.content.getContent()[0],f()):this.deletes(o)?(a!=="delete"&&(f(),a="delete"),u+=1):o.deleted||(a!=="retain"&&(f(),a="retain"),h+=1);break;case hn:this.adds(o)?this.deletes(o)||(a!=="insert"&&(f(),a="insert"),c+=o.content.str):this.deletes(o)?(a!=="delete"&&(f(),a="delete"),u+=o.length):o.deleted||(a!=="retain"&&(f(),a="retain"),h+=o.length);break;case mt:{const{key:d,value:p}=o.content;if(this.adds(o)){if(!this.deletes(o)){const g=r.get(d)||null;En(g,p)?p!==null&&o.delete(n):(a==="retain"&&f(),En(p,s.get(d)||null)?delete l[d]:l[d]=p)}}else if(this.deletes(o)){s.set(d,p);const g=r.get(d)||null;En(g,p)||(a==="retain"&&f(),l[d]=g)}else if(!o.deleted){s.set(d,p);const g=l[d];g!==void 0&&(En(g,p)?g!==null&&o.delete(n):(a==="retain"&&f(),p===null?delete l[d]:l[d]=p))}o.deleted||(a==="insert"&&f(),xs(r,o.content));break}}o=o.right}for(f();i.length>0;){const d=i[i.length-1];if(d.retain!==void 0&&d.attributes===void 0)i.pop();else break}}),this._delta=i}return this._delta}}class Nl extends wt{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this._length}_integrate(e,i){super._integrate(e,i);try{this._pending.forEach(n=>n())}catch(n){console.error(n)}this._pending=null}_copy(){return new Nl}clone(){const e=new Nl;return e.applyDelta(this.toDelta()),e}_callObserver(e,i){super._callObserver(e,i);const n=new Z7(this,e,i);Cc(this,e,n),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){let e="",i=this._start;for(;i!==null;)!i.deleted&&i.countable&&i.content.constructor===hn&&(e+=i.content.str),i=i.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:i=!0}={}){this.doc!==null?je(this.doc,n=>{const r=new Wu(null,this._start,0,new Map);for(let s=0;s<e.length;s++){const o=e[s];if(o.insert!==void 0){const a=!i&&typeof o.insert=="string"&&s===e.length-1&&r.right===null&&o.insert.slice(-1)===`
`?o.insert.slice(0,-1):o.insert;(typeof a!="string"||a.length>0)&&bh(n,this,r,a,o.attributes||{})}else o.retain!==void 0?Um(n,this,r,o.retain,o.attributes||{}):o.delete!==void 0&&Fm(n,r,o.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,i,n){const r=[],s=new Map,o=this.doc;let a="",l=this._start;function c(){if(a.length>0){const u={};let f=!1;s.forEach((p,g)=>{f=!0,u[g]=p});const d={insert:a};f&&(d.attributes=u),r.push(d),a=""}}const h=()=>{for(;l!==null;){if(Ms(l,e)||i!==void 0&&Ms(l,i))switch(l.content.constructor){case hn:{const u=s.get("ychange");e!==void 0&&!Ms(l,e)?(u===void 0||u.user!==l.id.client||u.type!=="removed")&&(c(),s.set("ychange",n?n("removed",l.id):{type:"removed"})):i!==void 0&&!Ms(l,i)?(u===void 0||u.user!==l.id.client||u.type!=="added")&&(c(),s.set("ychange",n?n("added",l.id):{type:"added"})):u!==void 0&&(c(),s.delete("ychange")),a+=l.content.str;break}case Un:case Ss:{c();const u={insert:l.content.getContent()[0]};if(s.size>0){const f={};u.attributes=f,s.forEach((d,p)=>{f[p]=d})}r.push(u);break}case mt:Ms(l,e)&&(c(),xs(s,l.content));break}l=l.right}c()};return e||i?je(o,u=>{e&&Vu(u,e),i&&Vu(u,i),h()},"cleanup"):h(),r}insert(e,i,n){if(i.length<=0)return;const r=this.doc;r!==null?je(r,s=>{const o=Ea(s,this,e);n||(n={},o.currentAttributes.forEach((a,l)=>{n[l]=a})),bh(s,this,o,i,n)}):this._pending.push(()=>this.insert(e,i,n))}insertEmbed(e,i,n={}){const r=this.doc;r!==null?je(r,s=>{const o=Ea(s,this,e);bh(s,this,o,i,n)}):this._pending.push(()=>this.insertEmbed(e,i,n))}delete(e,i){if(i===0)return;const n=this.doc;n!==null?je(n,r=>{Fm(r,Ea(r,this,e),i)}):this._pending.push(()=>this.delete(e,i))}format(e,i,n){if(i===0)return;const r=this.doc;r!==null?je(r,s=>{const o=Ea(s,this,e);o.right!==null&&Um(s,this,o,i,n)}):this._pending.push(()=>this.format(e,i,n))}removeAttribute(e){this.doc!==null?je(this.doc,i=>{jl(i,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,i){this.doc!==null?je(this.doc,n=>{cd(n,this,e,i)}):this._pending.push(()=>this.setAttribute(e,i))}getAttribute(e){return hd(this,e)}getAttributes(){return fy(this)}_write(e){e.writeTypeRef(Y7)}}class vh{constructor(e,i=()=>!0){this._filter=i,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,i=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(i)))do if(i=e.content.type,!e.deleted&&(i.constructor===Yl||i.constructor===as)&&i._start!==null)e=i._start;else for(;e!==null;)if(e.right!==null){e=e.right;break}else e.parent===this._root?e=null:e=e.parent._item;while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class as extends wt{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,i){super._integrate(e,i),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new as}clone(){const e=new as;return e.insert(0,this.toArray().map(i=>i instanceof wt?i.clone():i)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new vh(this,e)}querySelector(e){e=e.toUpperCase();const n=new vh(this,r=>r.nodeName&&r.nodeName.toUpperCase()===e).next();return n.done?null:n.value}querySelectorAll(e){return e=e.toUpperCase(),rs(new vh(this,i=>i.nodeName&&i.nodeName.toUpperCase()===e))}_callObserver(e,i){Cc(this,e,new M7(this,i,e))}toString(){return ay(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,i={},n){const r=e.createDocumentFragment();return n!==void 0&&n._createAssociation(r,this),Ao(this,s=>{r.insertBefore(s.toDOM(e,i,n),null)}),r}insert(e,i){this.doc!==null?je(this.doc,n=>{hy(n,this,e,i)}):this._prelimContent.splice(e,0,...i)}insertAfter(e,i){if(this.doc!==null)je(this.doc,n=>{const r=e&&e instanceof wt?e._item:e;Ll(n,this,r,i)});else{const n=this._prelimContent,r=e===null?0:n.findIndex(s=>s===e)+1;if(r===0&&e!==null)throw ss("Reference item not found");n.splice(r,0,...i)}}delete(e,i=1){this.doc!==null?je(this.doc,n=>{uy(n,this,e,i)}):this._prelimContent.splice(e,i)}toArray(){return oy(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return ly(this,e)}slice(e=0,i=this.length){return sy(this,e,i)}forEach(e){Ao(this,e)}_write(e){e.writeTypeRef(V7)}}class Yl extends as{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,i){super._integrate(e,i),this._prelimAttrs.forEach((n,r)=>{this.setAttribute(r,n)}),this._prelimAttrs=null}_copy(){return new Yl(this.nodeName)}clone(){const e=new Yl(this.nodeName),i=this.getAttributes();return OZ(i,(n,r)=>{typeof n=="string"&&e.setAttribute(r,n)}),e.insert(0,this.toArray().map(n=>n instanceof wt?n.clone():n)),e}toString(){const e=this.getAttributes(),i=[],n=[];for(const a in e)n.push(a);n.sort();const r=n.length;for(let a=0;a<r;a++){const l=n[a];i.push(l+'="'+e[l]+'"')}const s=this.nodeName.toLocaleLowerCase(),o=i.length>0?" "+i.join(" "):"";return`<${s}${o}>${super.toString()}</${s}>`}removeAttribute(e){this.doc!==null?je(this.doc,i=>{jl(i,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,i){this.doc!==null?je(this.doc,n=>{cd(n,this,e,i)}):this._prelimAttrs.set(e,i)}getAttribute(e){return hd(this,e)}hasAttribute(e){return dy(this,e)}getAttributes(){return fy(this)}toDOM(e=document,i={},n){const r=e.createElement(this.nodeName),s=this.getAttributes();for(const o in s){const a=s[o];typeof a=="string"&&r.setAttribute(o,a)}return Ao(this,o=>{r.appendChild(o.toDOM(e,i,n))}),n!==void 0&&n._createAssociation(r,this),r}_write(e){e.writeTypeRef(B7),e.writeKey(this.nodeName)}}class M7 extends wc{constructor(e,i,n){super(e,n),this.childListChanged=!1,this.attributesChanged=new Set,i.forEach(r=>{r===null?this.childListChanged=!0:this.attributesChanged.add(r)})}}class by{constructor(e,i){this.id=e,this.length=i}get deleted(){throw Ni()}mergeWith(e){return!1}write(e,i,n){throw Ni()}integrate(e,i){throw Ni()}}const D7=0;class Pn extends by{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,i){i>0&&(this.id.clock+=i,this.length-=i),ey(e.doc.store,this)}write(e,i){e.writeInfo(D7),e.writeLen(this.length-i)}getMissing(e,i){return null}}class $c{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new $c(this.content)}splice(e){throw Ni()}mergeWith(e){return!1}integrate(e,i){}delete(e){}gc(e){}write(e,i){e.writeBuf(this.content)}getRef(){return 3}}class Bl{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Bl(this.len)}splice(e){const i=new Bl(this.len-e);return this.len=e,i}mergeWith(e){return this.len+=e.len,!0}integrate(e,i){od(e.deleteSet,i.id.client,i.id.clock,this.len),i.markDeleted()}delete(e){}gc(e){}write(e,i){e.writeLen(this.len-i)}getRef(){return 1}}const L7=(t,e)=>new $r({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class _c{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const i={};this.opts=i,e.gc||(i.gc=!1),e.autoLoad&&(i.autoLoad=!0),e.meta!==null&&(i.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new _c(L7(this.doc.guid,this.opts))}splice(e){throw Ni()}mergeWith(e){return!1}integrate(e,i){this.doc._item=i,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,i){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}class Ss{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new Ss(this.embed)}splice(e){throw Ni()}mergeWith(e){return!1}integrate(e,i){}delete(e){}gc(e){}write(e,i){e.writeJSON(this.embed)}getRef(){return 5}}class mt{constructor(e,i){this.key=e,this.value=i}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new mt(this.key,this.value)}splice(e){throw Ni()}mergeWith(e){return!1}integrate(e,i){const n=i.parent;n._searchMarker=null,n._hasFormatting=!0}delete(e){}gc(e){}write(e,i){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}class ls{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new ls(this.arr)}splice(e){const i=new ls(this.arr.slice(e));return this.arr=this.arr.slice(0,e),i}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,i){}delete(e){}gc(e){}write(e,i){const n=this.arr.length;e.writeLen(n-i);for(let r=i;r<n;r++){const s=this.arr[r];e.writeAny(s)}}getRef(){return 8}}class hn{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new hn(this.str)}splice(e){const i=new hn(this.str.slice(e));this.str=this.str.slice(0,e);const n=this.str.charCodeAt(e-1);return n>=55296&&n<=56319&&(this.str=this.str.slice(0,e-1)+"�",i.str="�"+i.str.slice(1)),i}mergeWith(e){return this.str+=e.str,!0}integrate(e,i){}delete(e){}gc(e){}write(e,i){e.writeString(i===0?this.str:this.str.slice(i))}getRef(){return 4}}const j7=0,N7=1,Y7=2,B7=3,V7=4;class Un{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Un(this.type._copy())}splice(e){throw Ni()}mergeWith(e){return!1}integrate(e,i){this.type._integrate(e.doc,i)}delete(e){let i=this.type._start;for(;i!==null;)i.deleted?i.id.clock<(e.beforeState.get(i.id.client)||0)&&e._mergeStructs.push(i):i.delete(e),i=i.right;this.type._map.forEach(n=>{n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e)}),e.changed.delete(this.type)}gc(e){let i=this.type._start;for(;i!==null;)i.gc(e,!0),i=i.right;this.type._start=null,this.type._map.forEach(n=>{for(;n!==null;)n.gc(e,!0),n=n.left}),this.type._map=new Map}write(e,i){this.type._write(e)}getRef(){return 7}}const X7=(t,e)=>{let i=e,n=0,r;do n>0&&(i=Ve(i.client,i.clock+n)),r=el(t,i),n=i.clock-r.id.clock,i=r.redone;while(i!==null&&r instanceof He);return{item:r,diff:n}},ud=(t,e)=>{for(;t!==null&&t.keep!==e;)t.keep=e,t=t.parent._item},vy=(t,e,i)=>{const{client:n,clock:r}=e.id,s=new He(Ve(n,r+i),e,Ve(n,r+i-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(i));return e.deleted&&s.markDeleted(),e.keep&&(s.keep=!0),e.redone!==null&&(s.redone=Ve(e.redone.client,e.redone.clock+i)),e.right=s,s.right!==null&&(s.right.left=s),t._mergeStructs.push(s),s.parentSub!==null&&s.right===null&&s.parent._map.set(s.parentSub,s),e.length=i,s},zm=(t,e)=>nZ(t,i=>Ho(i.deletions,e)),yy=(t,e,i,n,r,s)=>{const o=t.doc,a=o.store,l=o.clientID,c=e.redone;if(c!==null)return Bt(t,c);let h=e.parent._item,u=null,f;if(h!==null&&h.deleted===!0){if(h.redone===null&&(!i.has(h)||yy(t,h,i,n,r,s)===null))return null;for(;h.redone!==null;)h=Bt(t,h.redone)}const d=h===null?e.parent:h.content.type;if(e.parentSub===null){for(u=e.left,f=e;u!==null;){let b=u;for(;b!==null&&b.parent._item!==h;)b=b.redone===null?null:Bt(t,b.redone);if(b!==null&&b.parent._item===h){u=b;break}u=u.left}for(;f!==null;){let b=f;for(;b!==null&&b.parent._item!==h;)b=b.redone===null?null:Bt(t,b.redone);if(b!==null&&b.parent._item===h){f=b;break}f=f.right}}else if(f=null,e.right&&!r){for(u=e;u!==null&&u.right!==null&&(u.right.redone||Ho(n,u.right.id)||zm(s.undoStack,u.right.id)||zm(s.redoStack,u.right.id));)for(u=u.right;u.redone;)u=Bt(t,u.redone);if(u&&u.right!==null)return null}else u=d._map.get(e.parentSub)||null;const p=It(a,l),g=Ve(l,p),m=new He(g,u,u&&u.lastId,f,f&&f.id,d,e.parentSub,e.content.copy());return e.redone=g,ud(m,!0),m.integrate(t,0),m};class He extends by{constructor(e,i,n,r,s,o,a,l){super(e,l.getLength()),this.origin=n,this.left=i,this.right=r,this.rightOrigin=s,this.parent=o,this.parentSub=a,this.redone=null,this.content=l,this.info=this.content.isCountable()?Pm:0}set marker(e){(this.info&gh)>0!==e&&(this.info^=gh)}get marker(){return(this.info&gh)>0}get keep(){return(this.info&_m)>0}set keep(e){this.keep!==e&&(this.info^=_m)}get countable(){return(this.info&Pm)>0}get deleted(){return(this.info&ph)>0}set deleted(e){this.deleted!==e&&(this.info^=ph)}markDeleted(){this.info|=ph}getMissing(e,i){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=It(i,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=It(i,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Ja&&this.id.client!==this.parent.client&&this.parent.clock>=It(i,this.parent.client))return this.parent.client;if(this.origin&&(this.left=jm(e,i,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Bt(e,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===Pn||this.right&&this.right.constructor===Pn)&&(this.parent=null),!this.parent)this.left&&this.left.constructor===He&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===He&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Ja){const n=el(i,this.parent);n.constructor===Pn?this.parent=null:this.parent=n.content.type}return null}integrate(e,i){if(i>0&&(this.id.clock+=i,this.left=jm(e,e.doc.store,Ve(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(i),this.length-=i),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let n=this.left,r;if(n!==null)r=n.right;else if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start;const s=new Set,o=new Set;for(;r!==null&&r!==this.right;){if(o.add(r),s.add(r),Qa(this.origin,r.origin)){if(r.id.client<this.id.client)n=r,s.clear();else if(Qa(this.rightOrigin,r.rightOrigin))break}else if(r.origin!==null&&o.has(el(e.doc.store,r.origin)))s.has(el(e.doc.store,r.origin))||(n=r,s.clear());else break;r=r.right}this.left=n}if(this.left!==null){const n=this.left.right;this.right=n,this.left.right=this}else{let n;if(this.parentSub!==null)for(n=this.parent._map.get(this.parentSub)||null;n!==null&&n.left!==null;)n=n.left;else n=this.parent._start,this.parent._start=this;this.right=n}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),ey(e.doc.store,this),this.content.integrate(e,this),Ym(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new Pn(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:Ve(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&Qa(e.origin,this.lastId)&&this.right===e&&Qa(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const i=this.parent._searchMarker;return i&&i.forEach(n=>{n.p===e&&(n.p=this,!this.deleted&&this.countable&&(n.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const i=this.parent;this.countable&&this.parentSub===null&&(i._length-=this.length),this.markDeleted(),od(e.deleteSet,this.id.client,this.id.clock,this.length),Ym(e,i,this.parentSub),this.content.delete(e)}}gc(e,i){if(!this.deleted)throw mr();this.content.gc(e),i?b7(e,this,new Pn(this.id,this.length)):this.content=new Bl(this.length)}write(e,i){const n=i>0?Ve(this.id.client,this.id.clock+i-1):this.origin,r=this.rightOrigin,s=this.parentSub,o=this.content.getRef()&_Z|(n===null?0:Ml)|(r===null?0:Xv)|(s===null?0:$Z);if(e.writeInfo(o),n!==null&&e.writeLeftID(n),r!==null&&e.writeRightID(r),n===null&&r===null){const a=this.parent;if(a._item!==void 0){const l=a._item;if(l===null){const c=g7(a);e.writeParentInfo(!0),e.writeString(c)}else e.writeParentInfo(!1),e.writeLeftID(l.id)}else a.constructor===String?(e.writeParentInfo(!0),e.writeString(a)):a.constructor===Ja?(e.writeParentInfo(!1),e.writeLeftID(a)):mr();s!==null&&e.writeString(s)}this.content.write(e,i)}}const xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},Sy="__ $YJS$ __";xy[Sy]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");xy[Sy]=!0;let wy=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,i)=>(i&=63,i<36?e+=i.toString(36):i<62?e+=(i-26).toString(36).toUpperCase():i>62?e+="-":e+="_",e),"");function W7(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ky={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,i="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(i=!1));function r(l,c,h){this.fn=l,this.context=c,this.once=h||!1}function s(l,c,h,u,f){if(typeof h!="function")throw new TypeError("The listener must be a function");var d=new r(h,u||l,f),p=i?i+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],d]:l._events[p].push(d):(l._events[p]=d,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],h,u;if(this._eventsCount===0)return c;for(u in h=this._events)e.call(h,u)&&c.push(i?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},a.prototype.listeners=function(c){var h=i?i+c:c,u=this._events[h];if(!u)return[];if(u.fn)return[u.fn];for(var f=0,d=u.length,p=new Array(d);f<d;f++)p[f]=u[f].fn;return p},a.prototype.listenerCount=function(c){var h=i?i+c:c,u=this._events[h];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,h,u,f,d,p){var g=i?i+c:c;if(!this._events[g])return!1;var m=this._events[g],b=arguments.length,v,x;if(m.fn){switch(m.once&&this.removeListener(c,m.fn,void 0,!0),b){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,h),!0;case 3:return m.fn.call(m.context,h,u),!0;case 4:return m.fn.call(m.context,h,u,f),!0;case 5:return m.fn.call(m.context,h,u,f,d),!0;case 6:return m.fn.call(m.context,h,u,f,d,p),!0}for(x=1,v=new Array(b-1);x<b;x++)v[x-1]=arguments[x];m.fn.apply(m.context,v)}else{var S=m.length,y;for(x=0;x<S;x++)switch(m[x].once&&this.removeListener(c,m[x].fn,void 0,!0),b){case 1:m[x].fn.call(m[x].context);break;case 2:m[x].fn.call(m[x].context,h);break;case 3:m[x].fn.call(m[x].context,h,u);break;case 4:m[x].fn.call(m[x].context,h,u,f);break;default:if(!v)for(y=1,v=new Array(b-1);y<b;y++)v[y-1]=arguments[y];m[x].fn.apply(m[x].context,v)}}return!0},a.prototype.on=function(c,h,u){return s(this,c,h,u,!1)},a.prototype.once=function(c,h,u){return s(this,c,h,u,!0)},a.prototype.removeListener=function(c,h,u,f){var d=i?i+c:c;if(!this._events[d])return this;if(!h)return o(this,d),this;var p=this._events[d];if(p.fn)p.fn===h&&(!f||p.once)&&(!u||p.context===u)&&o(this,d);else{for(var g=0,m=[],b=p.length;g<b;g++)(p[g].fn!==h||f&&!p[g].once||u&&p[g].context!==u)&&m.push(p[g]);m.length?this._events[d]=m.length===1?m[0]:m:o(this,d)}return this},a.prototype.removeAllListeners=function(c){var h;return c?(h=i?i+c:c,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,t.exports=a})(ky);var U7=ky.exports;const F7=W7(U7);function z7(t={}){let e=!1;const i={isActive:!0,current:-1,queue:[],commands:{},commandArray:[],destroyArray:[]},n=a=>{e&&a.init&&i.destroyArray.push(a.init()),i.commandArray.push(a),i.commands[a.name]=()=>{const{redo:l,undo:c}=a.execute()||{};if(!a.pushQueue)return;let{queue:h,current:u}=i;h.length>0&&(h=h.slice(0,u+1),i.queue=h),h.push({redo:l,undo:c}),i.current=u+1}};t.redo&&n({name:"redo",keyboard:"ctrl+y",execute(){const a=i.queue[i.current+1];a&&(a.redo&&a.redo(),i.current++)}}),t.undo&&n({name:"undo",keyboard:"ctrl+z",execute(){if(i.current===-1)return;const a=i.queue[i.current];a&&(a.undo&&a.undo(),i.current--)}});const r=(()=>{const a=c=>{const{ctrlKey:h,key:u,altKey:f,shiftKey:d}=c;let p=[];f&&p.push("alt"),h&&p.push("ctrl"),d&&p.push("shift"),p.push(u.toLowerCase()),p=p.join("+"),i.commandArray.forEach(({keyboard:g,name:m})=>{g&&g===p&&(i.commands[m](),c.preventDefault())})};return()=>(window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)})})();i.destroyArray.push(r());function s(){e||(e=!0,i.commandArray.forEach(a=>a.init&&i.destroyArray.push(a.init())))}function o(){i.isActive&&i.destroyArray.forEach(a=>a&&a())}return{state:i,register:n,initialize:s,destroy:o}}function q7(){const t=new Map,e=new Map;async function i(r){if(e.has(r))return;e.set(r,null);const o=await(await fetch(new URL("/alioth",r).href)).json(),{project:a,entry:l}=o;if(t.has(a))throw new Error("已存在同名项目");const c=document.createElement("script");c.src=new URL("/@vite/client",r).href,c.type="module",document.body.appendChild(c);for(const h in l)l[h]=new URL(l[h],r).href,e.set(l[h],a);t.set(a,l),e.set(r,a)}async function n(r,s,o){const a=t.get(r);if(!a||!(s in a))return;const l=a[s],c=await Ov(()=>import(l),[]);return{module:c,data:o&&c[o],url:l}}return{connect:i,projectMap:t,dynamicImport:n,urlMap:e}}function G7(){const t=[],e=document.getElementsByTagName("style");for(let n=0;n<e.length;n++){const r=e[n].cloneNode();r.innerHTML=e[n].innerHTML,t.push(r)}const i=document.getElementsByTagName("link");for(let n=0;n<i.length;n++)i[n].rel==="stylesheet"&&t.push(i[n].cloneNode());return t}function H7(t){t.contentWindow.document.documentElement.classList.add("al-canvas")}function K7(t,e){const i=t.contentWindow.document;if(e){const n=document.createElement("style");n.innerHTML=e,i.head.append(n)}i.head.append(...G7())}function J7(t){const e=t.contentWindow.document,i=document.querySelectorAll("script[data-alioth]");for(let n=0;n<i.length;n++){const r=document.createElement("script");r.src=i[n].src,e.head.append(r)}}function eM(t){const e=t.contentWindow,{x:i,y:n}=t.getBoundingClientRect();["click","mousedown","mousemove","mouseup"].forEach(r=>{e.addEventListener(r,s=>{const o=iM(s);o.clientX+=i,o.clientY+=n;const a=new MouseEvent(r,o);window.dispatchEvent(a)})}),["keydown","keyup"].forEach(r=>{e.addEventListener(r,s=>{const o=nM(s),a=new KeyboardEvent(r,o);window.dispatchEvent(a)})})}var qn={},qm=!1,tM=me({props:{uuid:String,styleSheet:String,width:{type:Number,required:!0},height:{type:Number,required:!0}},setup(t,{slots:e}){return()=>{if(!e.default)return null;const i=e.default();async function n(){var s;const r=this;if(J7(r),K7(r),H7(r),eM(r),!qm){const o=document.head.appendChild.bind(document.head),a=document.head.removeChild.bind(document.head);Object.defineProperty(document.head,"appendChild",{configurable:!0,get(){return l=>{var c;l instanceof HTMLStyleElement&&l.getAttribute("data-vite-dev-id")?(c=r.contentWindow)==null||c.document.head.appendChild(l):o(l)}}}),Object.defineProperty(document.head,"removeChild",{configurable:!0,get(){return l=>{var c;l instanceof HTMLStyleElement&&l.getAttribute("data-vite-dev-id")?(c=r.contentWindow)==null||c.document.head.removeChild(l):a(l)}}}),qm=!0}EO(i[0],(s=r.contentWindow)==null?void 0:s.document.body)}return qn[t.uuid]||(qn[t.uuid]=document.createElement("iframe"),qn[t.uuid].onload=n,qn[t.uuid].classList.add("iframebox")),tt(()=>[t.width,t.height],r=>{qn[t.uuid].width=`${r[0]}`,qn[t.uuid].height=`${r[1]}`},{immediate:!0}),ni("div",{class:"al-editor__iframe-wrapper",onVnodeMounted(r){r.el.appendChild(qn[t.uuid])}})}}});function iM(t){const e={};return["clientY","clientX","screenX","screenY","ctrlKey","shiftKey","altKey","metaKey","button"].forEach(n=>{e[n]=t[n]}),e}function nM(t){const e={};return["key","code","location","ctrlKey","shiftKey","altKey","metaKey","repeat","isComposing","charCode","keyCode","which"].forEach(n=>{e[n]=t[n]}),e}var yh=class{constructor(t){this.id=wy(),this.children=[],this.timeout=800,this.attrs=t||{}}bind(t){this.doc=t,this.doc.controller&&this.doc.controller.create(this.id,this.attrs)}setAttributes(t){for(const e in t)this.setAttribute(e,t[e])}toJSON(){return{id:this.id,attrs:this.attrs,children:this.children.map(t=>t.toJSON())}}setAttribute(t,e){var i;this.attrs[t]!==e&&(this._setAttribute(t,e),(i=this.doc)!=null&&i.controller&&this.doc.controller.setAttr(this.id,t,e))}_setAttribute(t,e){this.attrs[t]=e}get index(){var t;return(t=this.parent)==null?void 0:t.children.findIndex(e=>e.id===this.id)}insert(t,e){var i;!e&&e!==0&&(e=this.children.length),this._insert(t,e),(i=this.doc)!=null&&i.controller&&this.doc.controller.insert(this.id,t.id,e)}_insert(t,e){t.parent=this,this.children.splice(e,0,t)}remove(t){var i;const e=this._remove(t);(i=this.doc)!=null&&i.controller&&this.doc.controller.delete(this.id,e.id,t)}_remove(t){const e=this.children.splice(t,1)[0];return e.parent=null,e}findById(t){for(const e of this.children){if(e.id===t)return e;if(e.findById(t))return e.findById(t)}}contains(t){return this.id===t.id||!!this.findById(t.id)}findByAttrs(t){const e=[];for(const i of this.children)t(i.attrs)&&e.push(i),e.push(...i.findByAttrs(t));return e}},Gm=class{constructor(t,e=wy()){this.id=e,this.blockMap=new Map,this.data={},this.emitter=on,this.root=this.createNode(t,"root")}get container(){return this.root}get(t){return this.blockMap.get(t)}bind(t){this.controller=t,this.root.bind(this)}clean(){this.blockMap.forEach((t,e,i)=>{t.parent||i.delete(e)})}createNode(t,e){const i=new yh(t);return e&&(i.id=e),i.bind(this),this.blockMap.set(i.id,i),i}_createNode(t,e){const i=new yh(t);return e&&(i.id=e),i.doc=this,this.blockMap.set(i.id,i),i}removeNode(t){t.parent&&(t.parent.remove(t.index),this.blockMap.delete(t.id))}_removeNode(t){t.parent?(t.parent._remove(t.index),this.blockMap.delete(t.id)):this.blockMap.delete(t.id)}select(t,e="activeNode"){return this[e]=t}cancel(t="activeNode"){return this[t]=void 0}load(t){const e=this;function i(n){const r=new yh(n.key);return r.bind(e),r.id=n.id,r.attrs=n.attrs,n.children.forEach((s,o)=>{const a=i(s);a.parent=r,r.children[o]=a}),r}return this.root=i(t),this}},rM=class{constructor(t={}){this.options=t,this.ydoc=new $r,this.map=this.ydoc.getMap("nodes"),this.manager=new w7(this.map,this.options)}toJSON(){return this.map.toJSON()}undo(){this.manager.undo()}redo(){this.manager.redo()}create(t,e){this.ydoc.transact(()=>{const i=new Eo(Object.entries({...e,id:t,children:new Ur}));this.map.set(t,i)})}insert(t,e,i){this.ydoc.transact(()=>{this.map.get(t).get("children").insert(i,[e])})}delete(t,e,i){this.ydoc.transact(()=>{this.map.get(t).get("children").delete(i,1),this.map.delete(e)})}setAttr(t,e,i){this.map.get(t).set(e,i)}},ar=$t(new Map),no=$t({});function ws(t){if(t)return ar.has(t)?of(ar.get(t)):null}function sM(t){const e=$t(new Map);return{widgetMap:e,cancel:i=>{ar.get(i)&&(e.delete(i),ar.delete(i))},getWidget(i){return e.get(i)},register:i=>{if(ar.has(i.key)){t==null||t(i.key);return}e.set(i.key,i),ar.set(i.key,i)}}}function oM(t){return no[t]||(no[t]=sM()),no[t]}var aM=class{constructor(t,e,i,n={}){this.category=t,this.key=e,this.comp=i,this.meta=n}createRenderer(t){return new this.Renderer(t,this.comp)}},lM=t=>e=>ni(t.comp,{...t.propsData},{[t.dirct]:e}),cM=class{constructor(t,e){this.node=t,this.comp=e,this._vnode=null}exec(){return this._vnode}slotRenderer(t,e,i){const n={};return t.forEach(r=>{n[r]=s=>this.node.children.map(o=>{try{if(o.attrs.slot===r)return e.get(o.attrs.key)[i](o,s)}catch(a){console.error(`(Method ${this.renderType} or VirtualNode ${o.attrs.key} ) may not be found in the registration module )
`,a)}})}),n}slot(t=["default"],e,i="render"){return this._vnode=this.slotRenderer(t,e,i),this}main(t){return this._vnode=ni(this.comp,{...t||{}},this._vnode||void 0),this}mount(t=document.body){return this._vnode?(EO(this._vnode,t),this):this}useDecorator(){return this._vnode=this.node.decorators.reduce((t,e)=>lM(e)(t),this._vnode),this}useDragger(t,e){return this._vnode.props.ondragenter=i=>t(i,this.node),this._vnode.props.ondragover=i=>e(i,this.node),this}addClass(t){return this._vnode?(this._vnode.props.class||(this._vnode.props.class=""),this._vnode.props.class+=` ${t} `,this):this}useClass(t){return this._vnode.props.class=t,this}addStyle(t){return this._vnode?(this._vnode.props.style||(this._vnode.props.style=t,this._vnode.props.style=Object.assign(this._vnode.props.style,t)),this):this}useStyle(t){return this._vnode.props.style=t,this}useID(t){return this._vnode.props.id=t,this}box(){return this._vnode=ni("div",{default:()=>[this._vnode]}),this}};function Uu(t,e=window){let i;const n=s=>{var o;(o=t.move)==null||o.call(t,s)},r=s=>{var o;(o=t.up)==null||o.call(t,s),i.removeEventListener("mousemove",n),i.removeEventListener("mouseup",r)};typeof e=="string"?i=document.querySelector(e):i=e,i.addEventListener("mousemove",n),i.addEventListener("mouseup",r)}var hM=class extends F7{collect(t,e){return this.on(t,e),()=>this.off(t,e)}createError(t,e,i){this.emit(t,e,i)}VirtualNode(t={}){const{_block:e}=lS(),{key:i,id:n}=e;this.createError(`VirtualNode-${i}`,n,Object.assign(t,{VirtualNode:e}))}method(t,e={}){this.createError("method",t,Object.assign(e,{stack:t}))}};new hM;function uM(){return me({name:"AliothRender",inheritAttrs:!1,props:{value:{type:Object},type:{type:String,required:!0},node:{type:Object,required:!1}},setup(t){return()=>t.value[t.type](t.node)}})}var{filter:fM,data:dM,setState:pM}=gS({}),sn={filter:fM,data:dM,setState:pM,widgetMap:ar},Hm=!1;async function gM(){if(Hm)return;function t({category:e,key:i,component:n,meta:r}){var s,o;(o=(s=oM(e)).register)==null||o.call(s,new sn.register(e,i,n,r))}window.$alioth_widget=t,window.$alioth_setRegister=Cy,window.$alioth_interval=sn,window.$alioth_state=({key:e,value:i})=>{sn.setState(e,i)},Hm=!0}function Cy(t){sn.register=t}function mM(t){if(t.endsWith(".css")){const e=document.createElement("link");return e.href=t,e.rel="stylesheet",e.type="text/css",document.head.appendChild(e),new Promise((i,n)=>{e.onload=i,e.onerror=n})}else return Ov(()=>import(t),[])}var $y=class{constructor(){this.docs=[]}get activeDoc(){return this.find(this.activeId)}get container(){var t;return(t=this.activeDoc)==null?void 0:t.root}get isActive(){return!!this.find(this.activeId)}get activeNode(){var t;return(t=this.find(this.activeId))==null?void 0:t.activeNode}active(t){this.activeId!==t&&this.docs.some(e=>e.id===t)&&(this.activeId=t)}add(t){const e=new Gm(this.containerAttrs,t);return this.docs.push(e),e}remove(t){if(this.docs.length>1){const e=this.docs.findIndex(i=>i.id===t);this.docs.splice(e,1),this.activeId=this.docs[e>0?e-1:e].id}}find(t){return this.docs.find(e=>e.id===t)}index(t){return this.docs.findIndex(e=>t===e.id)}load(t){return t=typeof t=="string"?JSON.parse(t):t,this.docs=t.map(({id:e,root:i,data:n})=>{const r=new Gm;return r.id=e,r.data=n,r.load(i),r}),this.docs}toJSON(){return this.docs.map(({id:t,root:e,data:i})=>({id:t,root:e,data:i}))}},OM=class extends $y{constructor(){super(),this.ydoc=new $r,this.yarr=this.ydoc.getArray("documents")}add(){const t=this._add();return this.yarr.push([t.id]),t}_add(t){super.add(t);const e=this.docs[this.docs.length-1],i=new rM;return e.bind(of(i)),this.bridgeDoc(e),e}},ro=(t,e=[])=>({parts:(...i)=>{if(bM(e))return ro(t,i);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...i)=>ro(t,[...e,...i]),rename:i=>ro(i,e),build:()=>[...new Set(e)].reduce((i,n)=>Object.assign(i,{[n]:{selector:[`&[data-scope="${Pr(t)}"][data-part="${Pr(n)}"]`,`& [data-scope="${Pr(t)}"][data-part="${Pr(n)}"]`].join(", "),attrs:{"data-scope":Pr(t),"data-part":Pr(n)}}}),{})}),Pr=t=>t.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),bM=t=>t.length===0;function On(t){var i;return(((i=t==null?void 0:t.default)==null?void 0:i.call(t))||[]).filter(n=>cS(n))}function _y(t,e){const i=On(t);if(i.length>1){const r=`[${e}] : ${e} can only have one root element.`;throw console.error(r),new SyntaxError(r)}return RO(i[0])}let vM=0;const yM=()=>++vM,Py=(t,e)=>{const i=t||yM(),n=we(i);return Ue(()=>{const r=n.value!==null?n.value.toString():void 0;return e?`${e}-${r}`:r})};function xM(t){return t&&(typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function")}function Ty(t){return t.flatMap(e=>e.type===ct?Ty(e.children):[e])}function SM(t){return new Proxy({},{get(){return t}})}function wM(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}var Km={htmlFor:"for",className:"class",onDoubleClick:"onDblclick",onChange:"onInput",onFocus:"onFocusin",onBlur:"onFocusout",defaultValue:"value",defaultChecked:"checked"};function kM(t){return t in Km?Km[t]:t.startsWith("on")?`on${wM(t.substr(2))}`:t.toLowerCase()}var Qy=SM(t=>{const e={};for(const i in t){const n=t[i];i==="children"?typeof n=="string"&&(e.innerHTML=n):e[kM(i)]=t[i]}return e});function CM(t,e){const{actions:i,state:n,context:r}=e??{},s=typeof t=="function"?t():t,o=r?s.withContext(r.value):s;return vr(()=>{o.start(n),o.state.can("SETUP")&&o.send("SETUP"),nc(()=>{o.stop()})}),hS(()=>{o.setOptions({actions:i})}),r&&tt(r,o.setContext,{deep:!0}),o}function Ay(t,e){const i=CM(t,e),n=Fs(i.state);return vr(()=>{const r=i.subscribe(s=>{n.value=s});nc(()=>{r==null||r()})}),[n,i.send,i]}const $M=Symbol(),Jm=Object.getPrototypeOf,Fu=new WeakMap,_M=t=>t&&(Fu.has(t)?Fu.get(t):Jm(t)===Object.prototype||Jm(t)===Array.prototype),PM=t=>_M(t)&&t[$M]||null,eO=(t,e=!0)=>{Fu.set(t,e)};var xh=t=>typeof t=="object"&&t!==null,nr=new WeakMap,Us=new WeakSet,TM=(t=Object.is,e=(c,h)=>new Proxy(c,h),i=c=>xh(c)&&!Us.has(c)&&(Array.isArray(c)||!(Symbol.iterator in c))&&!(c instanceof WeakMap)&&!(c instanceof WeakSet)&&!(c instanceof Error)&&!(c instanceof Number)&&!(c instanceof Date)&&!(c instanceof String)&&!(c instanceof RegExp)&&!(c instanceof ArrayBuffer),n=c=>{switch(c.status){case"fulfilled":return c.value;case"rejected":throw c.reason;default:throw c}},r=new WeakMap,s=(c,h,u=n)=>{const f=r.get(c);if((f==null?void 0:f[0])===h)return f[1];const d=Array.isArray(c)?[]:Object.create(Object.getPrototypeOf(c));return eO(d,!0),r.set(c,[h,d]),Reflect.ownKeys(c).forEach(p=>{const g=Reflect.get(c,p);Us.has(g)?(eO(g,!1),d[p]=g):g instanceof Promise?Object.defineProperty(d,p,{get(){return u(g)}}):nr.has(g)?d[p]=cs(g,u):d[p]=g}),Object.freeze(d)},o=new WeakMap,a=[1,1],l=c=>{if(!xh(c))throw new Error("object required");const h=o.get(c);if(h)return h;let u=a[0];const f=new Set,d=(P,A=++a[0])=>{u!==A&&(u=A,f.forEach(I=>I(P,A)))};let p=a[1];const g=(P=++a[1])=>(p!==P&&!f.size&&(p=P,b.forEach(([A])=>{const I=A[1](P);I>u&&(u=I)})),u),m=P=>(A,I)=>{const ie=[...A];ie[1]=[P,...ie[1]],d(ie,I)},b=new Map,v=(P,A)=>{if(f.size){const I=A[3](m(P));b.set(P,[A,I])}else b.set(P,[A])},x=P=>{var I;const A=b.get(P);A&&(b.delete(P),(I=A[1])==null||I.call(A))},S=P=>(f.add(P),f.size===1&&b.forEach(([I,ie],he)=>{const D=I[3](m(he));b.set(he,[I,D])}),()=>{f.delete(P),f.size===0&&b.forEach(([I,ie],he)=>{ie&&(ie(),b.set(he,[I]))})}),y=Array.isArray(c)?[]:Object.create(Object.getPrototypeOf(c)),k=e(y,{deleteProperty(P,A){const I=Reflect.get(P,A);x(A);const ie=Reflect.deleteProperty(P,A);return ie&&d(["delete",[A],I]),ie},set(P,A,I,ie){var W;const he=Reflect.has(P,A),D=Reflect.get(P,A,ie);if(he&&(t(D,I)||o.has(I)&&t(D,o.get(I))))return!0;x(A),xh(I)&&(I=PM(I)||I);let L=I;if(!((W=Object.getOwnPropertyDescriptor(P,A))!=null&&W.set))if(I instanceof Promise)I.then(J=>{I.status="fulfilled",I.value=J,d(["resolve",[A],J])}).catch(J=>{I.status="rejected",I.reason=J,d(["reject",[A],J])});else{!nr.has(I)&&i(I)&&(L=fd(I));const J=!Us.has(L)&&nr.get(L);J&&v(A,J)}return Reflect.set(P,A,L,ie),d(["set",[A],I,D]),!0}});o.set(c,k);const T=[y,g,s,S];return nr.set(k,T),Reflect.ownKeys(c).forEach(P=>{const A=Object.getOwnPropertyDescriptor(c,P);A.get||A.set?Object.defineProperty(y,P,A):k[P]=c[P]}),k})=>[l,nr,Us,t,e,i,n,r,s,o,a],[QM]=TM();function fd(t={}){return QM(t)}function zu(t,e,i){const n=nr.get(t);let r;const s=[],o=n[3];let a=!1;const c=o(h=>{if(s.push(h),i){e(s.splice(0));return}r||(r=Promise.resolve().then(()=>{r=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,c()}}function cs(t,e){const i=nr.get(t),[n,r,s]=i;return s(n,r(),e)}function tO(t){return Us.add(t),t}function AM(t,e){Object.keys(e).forEach(r=>{if(Object.getOwnPropertyDescriptor(t,r))throw new Error("object property already defined");const s=e[r],{get:o,set:a}=typeof s=="function"?{get:s}:s,l={};l.get=()=>o(cs(n)),a&&(l.set=c=>a(n,c)),Object.defineProperty(t,r,l)});const n=fd(t);return n}var EM=(t,e)=>Object.is(t,e);function iO(t,e,i,n,r){let s=Reflect.get(cs(t),e);const o=r||EM;function a(){const l=cs(t);o(s,l[e])||(i(l[e]),s=Reflect.get(l,e))}return zu(t,a,n)}var nO=(t,...e)=>(typeof t=="function"?t(...e):t)??void 0,en=t=>t,Sh=()=>{},RM=(...t)=>(...e)=>{t.forEach(function(i){i==null||i(...e)})},IM=(()=>{let t=0;return()=>(t++,t.toString(36))})();function ZM(t){const e=t.computed??en({}),i=t.context??en({}),n=fd({value:t.initial??"",previousValue:"",event:en({}),previousEvent:en({}),context:AM(i,e),done:!1,tags:[],hasTag(r){return this.tags.includes(r)},matches(...r){return r.includes(this.value)},can(r){return en(this).nextEvents.includes(r)},get nextEvents(){var o,a;const r=((a=(o=t.states)==null?void 0:o[this.value])==null?void 0:a.on)??{},s=(t==null?void 0:t.on)??{};return Object.keys({...r,...s})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return en(n)}var so=t=>Array.isArray(t),oo=t=>!(t==null||typeof t!="object"||so(t)),MM=t=>typeof t=="number"&&!Number.isNaN(t),Ri=t=>typeof t=="string",Vl=t=>typeof t=="function";function Xl(t){if(!DM(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(n=>typeof n=="string"),i={};for(const n of e){const r=t[n];r!==void 0&&(i[n]=Xl(r))}return i}var DM=t=>t&&typeof t=="object"&&t.constructor===Object;function Ey(t,...e){for(const i of e){const n=Xl(i);for(const r in n)oo(i[r])?(t[r]||(t[r]={}),Ey(t[r],i[r])):t[r]=i[r]}return t}function wh(...t){const e=t.length===1?t[0]:t[1],i=t.length===2?t[0]:!0}function il(...t){const e=t.length===1?t[0]:t[1],i=t.length===2?t[0]:!0}function Ra(t,e){return(i,n)=>{if(MM(t))return t;if(Vl(t))return t(i,n);if(Ri(t)){const r=Number.parseFloat(t);if(!Number.isNaN(r))return r;if(e){const s=e==null?void 0:e[t];return il(s==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${t}\`. It doesn't exist in \`options.delays\``),Vl(s)?s(i,n):s}}}}function rO(t,e,i){typeof i.value=="object"&&(i.value=Lr(i.value)),!i.enumerable||i.get||i.set||!i.configurable||!i.writable||e==="__proto__"?Object.defineProperty(t,e,i):t[e]=i.value}function Lr(t){if(typeof t!="object")return t;var e=0,i,n,r,s=Object.prototype.toString.call(t);if(s==="[object Object]"?r=Object.create(t.__proto__||null):s==="[object Array]"?r=Array(t.length):s==="[object Set]"?(r=new Set,t.forEach(function(o){r.add(Lr(o))})):s==="[object Map]"?(r=new Map,t.forEach(function(o,a){r.set(Lr(a),Lr(o))})):s==="[object Date]"?r=new Date(+t):s==="[object RegExp]"?r=new RegExp(t.source,t.flags):s==="[object DataView]"?r=new t.constructor(Lr(t.buffer)):s==="[object ArrayBuffer]"?r=t.slice(0):s.slice(-6)==="Array]"&&(r=new t.constructor(t)),r){for(n=Object.getOwnPropertySymbols(t);e<n.length;e++)rO(r,n[e],Object.getOwnPropertyDescriptor(t,n[e]));for(e=0,n=Object.getOwnPropertyNames(t);e<n.length;e++)Object.hasOwnProperty.call(r,i=n[e])&&r[i]===t[i]||rO(r,i,Object.getOwnPropertyDescriptor(t,i))}return r||t}function sO(t){return Lr(t)}function Dt(t){return Ri(t)?{type:t}:t}function wn(t){return t?so(t)?t.slice():[t]:[]}function Ry(t){return oo(t)&&t.predicate!=null}var LM=()=>!0;function dd(t,e,i,n){return r=>{var s;return Ri(r)?!!((s=t[r])!=null&&s.call(t,e,i,n)):Vl(r)?r(e,i,n):r.predicate(t)(e,i,n)}}function jM(...t){return{predicate:e=>(i,n,r)=>t.map(dd(e,i,n,r)).some(Boolean)}}function NM(...t){return{predicate:e=>(i,n,r)=>t.map(dd(e,i,n,r)).every(Boolean)}}function YM(t){return{predicate:e=>(i,n,r)=>!dd(e,i,n,r)(t)}}function BM(...t){return(e,i,n)=>n.state.matches(...t)}var VM={or:jM,and:NM,not:YM,stateIn:BM};function Iy(t,e){return t=t??LM,(i,n,r)=>{if(Ri(t)){const s=e[t];return Vl(s)?s(i,n,r):s}return Ry(t)?t.predicate(e)(i,n,r):t==null?void 0:t(i,n,r)}}function kh(t,e){return(i,n,r)=>Ry(t)?t.predicate(e)(i,n,r):t}function XM(t){return Ri(t)?{target:t}:t}function WM(t,e){return(i,n,r)=>wn(t).map(XM).find(s=>Iy(s.guard,e)(i,n,r)??s.target??s.actions)}var UM=Object.defineProperty,FM=(t,e,i)=>e in t?UM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,q=(t,e,i)=>(FM(t,typeof e!="symbol"?e+"":e,i),i);function zM(t){for(;t.length>0;)t.pop();return t}var Zy=class{constructor(t,e){var n,r,s,o,a,l;q(this,"status","Not Started"),q(this,"state"),q(this,"initialState"),q(this,"initialContext"),q(this,"id"),q(this,"type","machine"),q(this,"activityEvents",new Map),q(this,"delayedEvents",new Map),q(this,"stateListeners",new Set),q(this,"contextListeners",new Set),q(this,"eventListeners",new Set),q(this,"doneListeners",new Set),q(this,"contextWatchers",new Set),q(this,"removeStateListener",Sh),q(this,"removeEventListener",Sh),q(this,"removeContextListener",Sh),q(this,"parent"),q(this,"children",new Map),q(this,"guardMap"),q(this,"actionMap"),q(this,"delayMap"),q(this,"activityMap"),q(this,"sync"),q(this,"options"),q(this,"config"),q(this,"start",c=>{if(this.state.value="",this.status==="Running")return this;this.status="Running",this.removeStateListener=zu(this.state,()=>{this.stateListeners.forEach(g=>{g(this.stateSnapshot)})},this.sync),this.removeEventListener=iO(this.state,"event",g=>{this.executeActions(this.config.onEvent,g),this.eventListeners.forEach(m=>{m(g)})},this.sync),this.removeContextListener=zu(this.state.context,()=>{this.log("Context:",this.contextSnapshot),this.contextListeners.forEach(g=>{g(this.contextSnapshot)})},this.sync||this.options.debug),this.setupContextWatchers(),this.executeActivities(Dt("machine.start"),wn(this.config.activities),"machine.start"),this.executeActions(this.config.entry,Dt("machine.start"));const h=Dt("machine.init"),u=oo(c)?c.value:c,f=oo(c)?c.context:void 0;f&&this.setContext(f);const d={target:u??this.config.initial},p=this.getNextStateInfo(d,h);return this.initialState=p,this.performStateChangeEffects(this.state.value,p,h),this}),q(this,"setupContextWatchers",()=>{var c;for(const[h,u]of Object.entries(this.config.watch??{})){const f=(c=this.options.compareFns)==null?void 0:c[h],d=iO(this.state.context,h,()=>{this.executeActions(u,this.state.event)},this.sync,f);this.contextWatchers.add(d)}}),q(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,Dt("machine.stop")),this.executeActions(this.config.exit,Dt("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.stopEventListeners(),this.stopContextListeners(),this.status="Stopped",this}),q(this,"stopEventListeners",()=>{this.eventListeners.clear(),this.removeEventListener()}),q(this,"stopContextListeners",()=>{this.contextListeners.clear(),this.removeContextListener()}),q(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),q(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(c=>c()),this.contextWatchers.clear()}),q(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(c=>{c.forEach(h=>h())}),this.delayedEvents.clear()}),q(this,"stopActivities",c=>{var h,u;c?((h=this.activityEvents.get(c))==null||h.forEach(f=>f()),(u=this.activityEvents.get(c))==null||u.clear(),this.activityEvents.delete(c)):(this.activityEvents.forEach(f=>{f.forEach(d=>d()),f.clear()}),this.activityEvents.clear())}),q(this,"sendChild",(c,h)=>{const u=Dt(c),f=nO(h,this.contextSnapshot),d=this.children.get(f);d||il(`[@zag-js/core] Cannot send '${u.type}' event to unknown child`),d.send(u)}),q(this,"stopChild",c=>{this.children.has(c)||il(`[@zag-js/core > stop-child] Cannot stop unknown child ${c}`),this.children.get(c).stop(),this.children.delete(c)}),q(this,"removeChild",c=>{this.children.delete(c)}),q(this,"stopChildren",()=>{this.children.forEach(c=>c.stop()),this.children.clear()}),q(this,"setParent",c=>{this.parent=c}),q(this,"spawn",(c,h)=>{const u=nO(c);return h&&(u.id=h),u.type="machine.actor",u.setParent(this),this.children.set(u.id,en(u)),u.onDone(()=>{this.removeChild(u.id)}).start(),en(tO(u))}),q(this,"addActivityCleanup",(c,h)=>{var u;c&&(this.activityEvents.has(c)?(u=this.activityEvents.get(c))==null||u.add(h):this.activityEvents.set(c,new Set([h])))}),q(this,"setState",c=>{this.state.previousValue=this.state.value,this.state.value=c;const h=this.getStateNode(c);c==null?zM(this.state.tags):this.state.tags=wn(h==null?void 0:h.tags)}),q(this,"setContext",c=>{c&&Ey(this.state.context,c)}),q(this,"withContext",c=>{const h={...this.config.context,...Xl(c)};return new Zy({...this.config,context:h},this.options)}),q(this,"setOptions",c=>{const h=Xl(c);this.actionMap={...this.actionMap,...h.actions},this.delayMap={...this.delayMap,...h.delays},this.activityMap={...this.activityMap,...h.activities},this.guardMap={...this.guardMap,...h.guards}}),q(this,"getStateNode",c=>{var h;if(c)return(h=this.config.states)==null?void 0:h[c]}),q(this,"getNextStateInfo",(c,h)=>{const u=this.determineTransition(c,h),f=!(u!=null&&u.target),d=(u==null?void 0:u.target)??this.state.value,p=this.state.value!==d,g=this.getStateNode(d),b={reenter:!f&&!p&&!(u!=null&&u.internal),transition:u,stateNode:g,target:d,changed:p};return this.log("NextState:",`[${h.type}]`,this.state.value,"---->",b.target),b}),q(this,"getActionFromDelayedTransition",c=>{const h=Dt("machine.after"),f=Ra(c.delay,this.delayMap)(this.contextSnapshot,h);let d;return{entry:()=>{d=globalThis.setTimeout(()=>{const p=this.getNextStateInfo(c,h);this.performStateChangeEffects(this.state.value,p,h)},f)},exit:()=>{globalThis.clearTimeout(d)}}}),q(this,"getDelayedEventActions",c=>{const h=this.getStateNode(c),u=Dt("machine.after");if(!h||!h.after)return;const f=[],d=[];if(so(h.after)){const p=this.determineTransition(h.after,u);if(!p)return;const g=this.getActionFromDelayedTransition(p);f.push(g.entry),d.push(g.exit)}else if(oo(h.after))for(const p in h.after){const g=h.after[p];let m={};if(so(g)){const v=this.determineTransition(g,u);v&&(m=v)}else Ri(g)?m={target:g,delay:p}:m={...g,delay:p};const b=this.getActionFromDelayedTransition(m);f.push(b.entry),d.push(b.exit)}return{entries:f,exits:d}}),q(this,"executeActions",(c,h)=>{var f;const u=kh(c,this.guardMap)(this.contextSnapshot,h,this.guardMeta);for(const d of wn(u)){const p=Ri(d)?(f=this.actionMap)==null?void 0:f[d]:d;wh(Ri(d)&&!p,`[@zag-js/core > execute-actions] No implementation found for action: \`${d}\``),p==null||p(this.state.context,h,this.meta)}}),q(this,"executeActivities",(c,h,u)=>{var f;for(const d of h){const p=Ri(d)?(f=this.activityMap)==null?void 0:f[d]:d;if(!p){wh(`[@zag-js/core > execute-activity] No implementation found for activity: \`${d}\``);continue}const g=p(this.state.context,c,this.meta);g&&this.addActivityCleanup(u??this.state.value,g)}}),q(this,"createEveryActivities",(c,h)=>{if(!c)return;const u=Dt("machine.every");if(so(c)){const f=wn(c).find(m=>{const b=m.delay,x=Ra(b,this.delayMap)(this.contextSnapshot,u);return Iy(m.guard,this.guardMap)(this.contextSnapshot,u,this.guardMeta)??x!=null});if(!f)return;const p=Ra(f.delay,this.delayMap)(this.contextSnapshot,u);h(()=>{const m=globalThis.setInterval(()=>{this.executeActions(f.actions,u)},p);return()=>{globalThis.clearInterval(m)}})}else for(const f in c){const d=c==null?void 0:c[f],g=Ra(f,this.delayMap)(this.contextSnapshot,u);h(()=>{const b=globalThis.setInterval(()=>{this.executeActions(d,u)},g);return()=>{globalThis.clearInterval(b)}})}}),q(this,"setEvent",c=>{this.state.previousEvent=this.state.event,this.state.event=tO(Dt(c))}),q(this,"performExitEffects",(c,h)=>{const u=this.state.value;if(u==="")return;const f=c?this.getStateNode(c):void 0;this.stopActivities(u);const d=kh(f==null?void 0:f.exit,this.guardMap)(this.contextSnapshot,h,this.guardMeta),p=wn(d),g=this.delayedEvents.get(u);g&&p.push(...g),this.executeActions(p,h),this.eventListeners.clear()}),q(this,"performEntryEffects",(c,h)=>{const u=this.getStateNode(c),f=wn(u==null?void 0:u.activities);this.createEveryActivities(u==null?void 0:u.every,m=>{f.unshift(m)}),f.length>0&&this.executeActivities(h,f);const d=kh(u==null?void 0:u.entry,this.guardMap)(this.contextSnapshot,h,this.guardMeta),p=wn(d),g=this.getDelayedEventActions(c);u!=null&&u.after&&g&&(this.delayedEvents.set(c,g==null?void 0:g.exits),p.push(...g.entries)),this.executeActions(p,h),(u==null?void 0:u.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(m=>{m(this.stateSnapshot)}),this.stop())}),q(this,"performTransitionEffects",(c,h)=>{const u=this.determineTransition(c,h);this.executeActions(u==null?void 0:u.actions,h)}),q(this,"performStateChangeEffects",(c,h,u)=>{this.setEvent(u);const f=h.changed||h.reenter;f&&this.performExitEffects(c,u),this.performTransitionEffects(h.transition,u),this.setState(h.target),f&&this.performEntryEffects(h.target,u)}),q(this,"determineTransition",(c,h)=>{const u=WM(c,this.guardMap);return u==null?void 0:u(this.contextSnapshot,h,this.guardMeta)}),q(this,"sendParent",c=>{var u;this.parent||il("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const h=Dt(c);(u=this.parent)==null||u.send(h)}),q(this,"log",(...c)=>{}),q(this,"send",c=>{const h=Dt(c);this.transition(this.state.value,h)}),q(this,"transition",(c,h)=>{var g,m;const u=Ri(c)?this.getStateNode(c):c==null?void 0:c.stateNode,f=Dt(h);if(!u&&!this.config.on){const b=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${c}, \`event\`: ${f.type}`;wh(b);return}const d=((g=u==null?void 0:u.on)==null?void 0:g[f.type])??((m=this.config.on)==null?void 0:m[f.type]),p=this.getNextStateInfo(d,f);return this.performStateChangeEffects(this.state.value,p,f),p.stateNode}),q(this,"subscribe",c=>(this.stateListeners.add(c),this.status==="Running"&&c(this.stateSnapshot),()=>{this.stateListeners.delete(c)})),q(this,"onDone",c=>(this.doneListeners.add(c),this)),q(this,"onTransition",c=>(this.stateListeners.add(c),this.status==="Running"&&c(this.stateSnapshot),this)),q(this,"onChange",c=>(this.contextListeners.add(c),this)),q(this,"onEvent",c=>(this.eventListeners.add(c),this)),this.config=sO(t),this.options=sO(e??{}),this.id=this.config.id??`machine-${IM()}`,this.guardMap=((n=this.options)==null?void 0:n.guards)??{},this.actionMap=((r=this.options)==null?void 0:r.actions)??{},this.delayMap=((s=this.options)==null?void 0:s.delays)??{},this.activityMap=((o=this.options)==null?void 0:o.activities)??{},this.sync=((a=this.options)==null?void 0:a.sync)??!1,this.state=ZM(this.config),this.initialContext=cs(this.state.context);const i=Dt("machine.created");this.executeActions((l=this.config)==null?void 0:l.created,i)}get stateSnapshot(){return en(cs(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var e;return((e=t.initialState)==null?void 0:e.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:e=>this.actionMap[e],getGuard:e=>this.guardMap[e]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}},My=(t,e)=>new Zy(t,e),qM=(...t)=>t.map(e=>e==null?void 0:e.trim()).filter(Boolean).join(" "),GM=/^on[A-Z]/;function HM(...t){let e={};for(let i of t){for(let n in e){if(GM.test(n)&&typeof e[n]=="function"&&typeof i[n]=="function"){e[n]=RM(e[n],i[n]);continue}if(n==="className"||n==="class"){e[n]=qM(e[n],i[n]);continue}if(n==="style"){e[n]=Object.assign({},e[n]??{},i[n]??{});continue}e[n]=i[n]!==void 0?i[n]:e[n]}for(let n in i)e[n]===void 0&&(e[n]=i[n])}return e}function Ch(t){return me({name:"ComponentWithAsChild",inheritAttrs:!1,props:{asChild:Boolean},setup(i,{attrs:n,slots:r}){const s=af();return i.asChild?()=>{var a,l;let o=(a=r.default)==null?void 0:a.call(r);if(o=Ty(o||[]),Object.keys(n).length>0){const[c,...h]=o;if(!xM(c)||h.length>0){const d=(l=s==null?void 0:s.parent)!=null&&l.type.name?`<${s.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${d}\` with \`asChild\` prop.`,"","Note: All components accepting `asChild` expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that we can forward the props onto that element.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(p=>`  - ${p}`).join(`
`)].join(`
`))}const u=HM(c.props??{},n),f=RO(c,u);for(const d in u)d.startsWith("on")&&(f.props||(f.props={}),f.props[d]=u[d]);return f}else return Array.isArray(o)&&o.length===1?o[0]:null}:()=>xe(t,n,{default:()=>{var o;return[(o=r.default)==null?void 0:o.call(r)]}})}})}function KM(){const t=new Map;return new Proxy(Ch,{apply(i,n,r){return Ch(r[0])},get(i,n){const r=n;return t.has(r)||t.set(r,Ch(r)),t.get(r)}})}const bn=KM(),pd=t=>{const e=Symbol(t);return[r=>La(e,r),r=>Mn(e,r),e]};function qu(t){const e=new Set;function i(n){const r=globalThis.requestAnimationFrame(n);e.add(()=>globalThis.cancelAnimationFrame(r))}return i(()=>i(t)),function(){e.forEach(r=>r())}}function Ii(t){const e=globalThis.requestAnimationFrame(t);return()=>{globalThis.cancelAnimationFrame(e)}}function Wl(t){var e;return((e=t.composedPath)==null?void 0:e.call(t)[0])??t.target}function Ul(t){return typeof t=="object"&&(t==null?void 0:t.nodeType)===Node.ELEMENT_NODE&&typeof(t==null?void 0:t.nodeName)=="string"}var gd=()=>typeof window<"u";function JM(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}var Dy=t=>gd()&&t.test(JM()),eD=t=>gd()&&t.test(navigator.vendor),tD=()=>gd()&&!!navigator.maxTouchPoints,iD=()=>Dy(/^Mac/)&&!tD(),nD=()=>Ly()&&eD(/apple/i),Ly=()=>Dy(/mac|iphone|ipad|ipod/i),rD=()=>Ly()&&!iD();function sD(t,e){return Array.from((t==null?void 0:t.querySelectorAll(e))??[])}var Ia=t=>t?"":void 0;function Fl(t,e){return!t||!e||!Ul(t)||!Ul(e)?!1:t===e||t.contains(e)}var oD=t=>t.nodeType===Node.DOCUMENT_NODE?t:t.ownerDocument??document;function jy(t){const e={getRootNode:i=>{var n;return((n=i.getRootNode)==null?void 0:n.call(i))??document},getDoc:i=>oD(e.getRootNode(i)),getWin:i=>e.getDoc(i).defaultView??window,getActiveElement:i=>e.getDoc(i).activeElement,getById:(i,n)=>e.getRootNode(i).getElementById(n),queryById:(i,n)=>{const r=e.getById(i,n);if(!r)throw new Error(`Element with id "${n}" not found.`);return r}};return{...e,...t}}var aD=t=>t.nodeType===Node.DOCUMENT_NODE;function md(t){return aD(t)?t:(t==null?void 0:t.ownerDocument)??document}function lD(t){return(t==null?void 0:t.ownerDocument.defaultView)??window}function Ny(t,e){return t.find(i=>i.id===e)}function Yy(t,e){const i=Ny(t,e);return i?t.indexOf(i):-1}function cD(t,e,i=!0){let n=Yy(t,e);return n=i?(n+1)%t.length:Math.min(n+1,t.length-1),t[n]}function hD(t,e,i=!0){let n=Yy(t,e);return n===-1?i?t[t.length-1]:null:(n=i?(n-1+t.length)%t.length:Math.max(0,n-1),t[n])}var uD=t=>t[0],fD=t=>t[t.length-1],oO=(t,...e)=>(typeof t=="function"?t(...e):t)??void 0,aO=(...t)=>(...e)=>{t.forEach(function(i){i==null||i(...e)})};function Od(t){if(!dD(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(n=>typeof n=="string"),i={};for(const n of e){const r=t[n];r!==void 0&&(i[n]=Od(r))}return i}var dD=t=>t&&typeof t=="object"&&t.constructor===Object;function pD(...t){const e=t.length===1?t[0]:t[1],i=t.length===2?t[0]:!0}var Gu=(t,e,i,n)=>{const r=typeof t=="function"?t():t;return r==null||r.addEventListener(e,i,n),()=>{r==null||r.removeEventListener(e,i,n)}},gD=t=>t.button===2||OD(t)&&t.button===0,mD=()=>/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),OD=t=>mD()?t.metaKey&&!t.ctrlKey:t.ctrlKey&&!t.metaKey;function lO(t,e,i){if(!t)return;const n=t.ownerDocument.defaultView||window,r=new n.CustomEvent(e,i);return t.dispatchEvent(r)}var bD={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},cO={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function vD(t,e={}){const{dir:i="ltr",orientation:n="horizontal"}=e;let{key:r}=t;return r=bD[r]??r,i==="rtl"&&n==="horizontal"&&r in cO&&(r=cO[r]),r}const[jY,By]=pd("EnvironmentContext");var Hu,Jn=new Map,yD=t=>t.getBoundingClientRect();function xD(t,e){const{scope:i="rect",getRect:n=yD,onChange:r}=e,s=SD({scope:i,getRect:n}),o=Jn.get(t);return o?(o.callbacks.push(r),r(n(t))):(Jn.set(t,{rect:{},callbacks:[r]}),Jn.size===1&&(Hu=requestAnimationFrame(s))),function(){const l=Jn.get(t);if(!l)return;const c=l.callbacks.indexOf(r);c>-1&&l.callbacks.splice(c,1),l.callbacks.length===0&&(Jn.delete(t),Jn.size===0&&cancelAnimationFrame(Hu))}}function SD(t){const{scope:e,getRect:i}=t,n=kD(e);return function r(){const s=[];Jn.forEach((o,a)=>{const l=i(a);n(o.rect,l)||(o.rect=l,s.push(o))}),s.forEach(o=>{o.callbacks.forEach(a=>a(o.rect))}),Hu=requestAnimationFrame(r)}}var Vy=(t,e)=>t.width===e.width&&t.height===e.height,Xy=(t,e)=>t.top===e.top&&t.left===e.left,wD=(t,e)=>Vy(t,e)&&Xy(t,e);function kD(t){return t==="size"?Vy:t==="position"?Xy:wD}var Ds=new WeakMap,ai=[];function CD(t,e={}){const{rootEl:i}=e,n=t.filter(Boolean);if(n.length===0)return;const r=n[0].ownerDocument||document,s=r.defaultView??window,o=new Set(n),a=new Set,l=i??r.body;let c=d=>{for(let b of d.querySelectorAll("[data-live-announcer], [data-zag-top-layer]"))o.add(b);let p=b=>{if(o.has(b)||a.has(b.parentElement)&&b.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let v of o)if(b.contains(v))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},g=r.createTreeWalker(d,NodeFilter.SHOW_ELEMENT,{acceptNode:p}),m=p(d);if(m===NodeFilter.FILTER_ACCEPT&&h(d),m!==NodeFilter.FILTER_REJECT){let b=g.nextNode();for(;b!=null;)h(b),b=g.nextNode()}},h=d=>{let p=Ds.get(d)??0;d.getAttribute("aria-hidden")==="true"&&p===0||(p===0&&d.setAttribute("aria-hidden","true"),a.add(d),Ds.set(d,p+1))};ai.length&&ai[ai.length-1].disconnect(),c(l);const u=new s.MutationObserver(d=>{for(let p of d)if(!(p.type!=="childList"||p.addedNodes.length===0)&&![...o,...a].some(g=>g.contains(p.target))){for(let g of p.removedNodes)g instanceof s.Element&&(o.delete(g),a.delete(g));for(let g of p.addedNodes)(g instanceof s.HTMLElement||g instanceof s.SVGElement)&&(g.dataset.liveAnnouncer==="true"||g.dataset.zagTopLayer==="true")?o.add(g):g instanceof s.Element&&c(g)}});u.observe(l,{childList:!0,subtree:!0});let f={observe(){u.observe(l,{childList:!0,subtree:!0})},disconnect(){u.disconnect()}};return ai.push(f),()=>{u.disconnect();for(let d of a){let p=Ds.get(d);p===1?(d.removeAttribute("aria-hidden"),Ds.delete(d)):Ds.set(d,p-1)}f===ai[ai.length-1]?(ai.pop(),ai.length&&ai[ai.length-1].observe()):ai.splice(ai.indexOf(f),1)}}function $D(t,e={}){const{defer:i}=e,n=i?Ii:s=>s(),r=[];return r.push(n(()=>{const s=typeof t=="function"?t():t;r.push(CD(s,e))})),()=>{r.forEach(s=>s==null?void 0:s())}}function _D(t){const e={each(i){var n;for(let r=0;r<((n=t.frames)==null?void 0:n.length);r+=1){const s=t.frames[r];s&&i(s)}},addEventListener(i,n,r){return e.each(s=>{try{s.document.addEventListener(i,n,r)}catch(o){console.warn(o)}}),()=>{try{e.removeEventListener(i,n,r)}catch(s){console.warn(s)}}},removeEventListener(i,n,r){e.each(s=>{try{s.document.removeEventListener(i,n,r)}catch(o){console.warn(o)}})}};return e}var bd=t=>typeof t=="object"&&t!==null&&t.nodeType===1,PD=t=>bd(t)&&t.tagName==="IFRAME";function TD(t){return bd(t)?t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0:!1}var Wy="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",Uy=(t,e=!1)=>{if(!t)return[];const i=Array.from(t.querySelectorAll(Wy));(e==!0||e=="if-empty"&&i.length===0)&&bd(t)&&zl(t)&&i.unshift(t);const r=i.filter(zl);return r.forEach((s,o)=>{if(PD(s)&&s.contentDocument){const a=s.contentDocument.body;r.splice(o,1,...Uy(a))}}),r};function zl(t){return!t||t.closest("[inert]")?!1:t.matches(Wy)&&TD(t)}var hO="pointerdown.outside",uO="focus.outside";function QD(t){const e=t.composedPath()??[t.target];for(const i of e)if(Ul(i)&&zl(i))return!0;return!1}function AD(t,e){const{exclude:i,onFocusOutside:n,onPointerDownOutside:r,onInteractOutside:s}=e;if(!t)return;const o=md(t),a=lD(t),l=_D(a);function c(g){const m=Wl(g);return!Ul(m)||Fl(t,m)?!1:!(i!=null&&i(m))}let h;function u(g){function m(){if(!(!t||!c(g))){if(r||s){const b=aO(r,s);t.addEventListener(hO,b,{once:!0})}lO(t,hO,{bubbles:!1,cancelable:!0,detail:{originalEvent:g,contextmenu:gD(g),focusable:QD(g)}})}}g.pointerType==="touch"?(l.removeEventListener("click",m),o.removeEventListener("click",m),h=m,o.addEventListener("click",m,{once:!0}),l.addEventListener("click",m,{once:!0})):m()}const f=new Set,d=setTimeout(()=>{f.add(l.addEventListener("pointerdown",u,!0)),f.add(Gu(o,"pointerdown",u,!0))},0);function p(g){if(!(!t||!c(g))){if(n||s){const m=aO(n,s);t.addEventListener(uO,m,{once:!0})}lO(t,uO,{bubbles:!1,cancelable:!0,detail:{originalEvent:g,contextmenu:!1,focusable:zl(Wl(g))}})}}return f.add(Gu(o,"focusin",p,!0)),f.add(l.addEventListener("focusin",p,!0)),()=>{clearTimeout(d),h&&(l.removeEventListener("click",h),o.removeEventListener("click",h)),f.forEach(g=>g())}}function ED(t,e){const{defer:i}=e,n=i?Ii:s=>s(),r=[];return r.push(n(()=>{const s=typeof t=="function"?t():t;r.push(AD(s,e))})),()=>{r.forEach(s=>s==null?void 0:s())}}const[RD,ks]=pd("DialogContext");var ID=ro("dialog").parts("trigger","backdrop","container","content","title","description","closeTrigger"),Gn=ID.build(),Ie=jy({getContainerId:t=>{var e;return((e=t.ids)==null?void 0:e.container)??`dialog:${t.id}:container`},getBackdropId:t=>{var e;return((e=t.ids)==null?void 0:e.backdrop)??`dialog:${t.id}:backdrop`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`dialog:${t.id}:content`},getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`dialog:${t.id}:trigger`},getTitleId:t=>{var e;return((e=t.ids)==null?void 0:e.title)??`dialog:${t.id}:title`},getDescriptionId:t=>{var e;return((e=t.ids)==null?void 0:e.description)??`dialog:${t.id}:description`},getCloseTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.closeTrigger)??`dialog:${t.id}:close`},getContentEl:t=>Ie.getById(t,Ie.getContentId(t)),getTriggerEl:t=>Ie.getById(t,Ie.getTriggerId(t)),getContainerEl:t=>Ie.getById(t,Ie.getContainerId(t)),getTitleEl:t=>Ie.getById(t,Ie.getTitleId(t)),getDescriptionEl:t=>Ie.getById(t,Ie.getDescriptionId(t))});function ZD(t,e,i){const n=t.context["aria-label"],r=t.matches("open"),s=t.context.renderedElements;return{isOpen:r,open(){e("OPEN")},close(){e("CLOSE")},triggerProps:i.button({...Gn.trigger.attrs,id:Ie.getTriggerId(t.context),"aria-haspopup":"dialog",type:"button","aria-expanded":r,"aria-controls":Ie.getContentId(t.context),onClick(){e("TOGGLE")}}),backdropProps:i.element({...Gn.backdrop.attrs,hidden:!r,id:Ie.getBackdropId(t.context)}),containerProps:i.element({...Gn.container.attrs,hidden:!r,id:Ie.getContainerId(t.context),style:{pointerEvents:r?void 0:"none"}}),contentProps:i.element({...Gn.content.attrs,role:t.context.role,hidden:!r,id:Ie.getContentId(t.context),tabIndex:-1,"aria-modal":!0,"aria-label":n||void 0,"aria-labelledby":n||!s.title?void 0:Ie.getTitleId(t.context),"aria-describedby":s.description?Ie.getDescriptionId(t.context):void 0}),titleProps:i.element({...Gn.title.attrs,id:Ie.getTitleId(t.context)}),descriptionProps:i.element({...Gn.description.attrs,id:Ie.getDescriptionId(t.context)}),closeTriggerProps:i.button({...Gn.closeTrigger.attrs,id:Ie.getCloseTriggerId(t.context),type:"button",onClick(o){o.stopPropagation(),e("CLOSE")}})}}function MD(t,e){const i=n=>{n.key==="Escape"&&(e==null||e(n))};return Gu(md(t),"keydown",i)}var yi={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(t=>t.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(t){var n;const e=this.indexOf(t),i=this.topMostPointerBlockingLayer()?this.indexOf((n=this.topMostPointerBlockingLayer())==null?void 0:n.node):-1;return e<i},isTopMost(t){const e=this.layers[this.count()-1];return(e==null?void 0:e.node)===t},getNestedLayers(t){return Array.from(this.layers).slice(this.indexOf(t)+1)},isInNestedLayer(t,e){return this.getNestedLayers(t).some(i=>Fl(i.node,e))},isInBranch(t){return Array.from(this.branches).some(e=>Fl(e,t))},add(t){this.layers.push(t)},addBranch(t){this.branches.push(t)},remove(t){const e=this.indexOf(t);e<0||(e<this.count()-1&&this.getNestedLayers(t).forEach(n=>n.dismiss()),this.layers.splice(e,1))},removeBranch(t){const e=this.branches.indexOf(t);e>=0&&this.branches.splice(e,1)},indexOf(t){return this.layers.findIndex(e=>e.node===t)},dismiss(t){var e;(e=this.layers[this.indexOf(t)])==null||e.dismiss()},clear(){this.remove(this.layers[0].node)}},fO;function dO(){yi.layers.forEach(({node:t})=>{t.style.pointerEvents=yi.isBelowPointerBlockingLayer(t)?"none":"auto"})}function DD(t){t.style.pointerEvents=""}var $h="data-inert";function LD(t){const e=md(t);return yi.hasPointerBlockingLayer()&&!e.body.hasAttribute($h)&&(fO=document.body.style.pointerEvents,e.body.style.pointerEvents="none",e.body.setAttribute($h,"")),()=>{yi.hasPointerBlockingLayer()||(e.body.style.pointerEvents=fO,e.body.removeAttribute($h),e.body.style.length===0&&e.body.removeAttribute("style"))}}function jD(t,e){if(!t){pD("[@zag-js/dismissable] node is `null` or `undefined`");return}const{onDismiss:i,pointerBlocking:n,exclude:r,debug:s}=e,o={dismiss:i,node:t,pointerBlocking:n};yi.add(o),dO();function a(f){var p,g;const d=Wl(f.detail.originalEvent);yi.isBelowPointerBlockingLayer(t)||yi.isInBranch(d)||((p=e.onPointerDownOutside)==null||p.call(e,f),(g=e.onInteractOutside)==null||g.call(e,f),!f.defaultPrevented&&(s&&console.log("onPointerDownOutside:",f.detail.originalEvent),i==null||i()))}function l(f){var p,g;const d=Wl(f.detail.originalEvent);yi.isInBranch(d)||((p=e.onFocusOutside)==null||p.call(e,f),(g=e.onInteractOutside)==null||g.call(e,f),!f.defaultPrevented&&(s&&console.log("onFocusOutside:",f.detail.originalEvent),i==null||i()))}function c(f){var d;yi.isTopMost(t)&&((d=e.onEscapeKeyDown)==null||d.call(e,f),!f.defaultPrevented&&i&&(f.preventDefault(),i()))}function h(f){if(!t)return!1;const d=typeof r=="function"?r():r;return(Array.isArray(d)?d:[d]).some(g=>Fl(g,f))||yi.isInNestedLayer(t,f)}const u=[n?LD(t):void 0,MD(t,c),ED(t,{exclude:h,onFocusOutside:l,onPointerDownOutside:a})];return()=>{yi.remove(t),dO(),DD(t),u.forEach(f=>f==null?void 0:f())}}function ND(t,e){const{defer:i}=e,n=i?Ii:s=>s(),r=[];return r.push(n(()=>{const s=typeof t=="function"?t():t;r.push(jD(s,e))})),()=>{r.forEach(s=>s==null?void 0:s())}}var _h="data-zag-scroll-lock";function pO(t,e){if(!t)return()=>{};const i=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=i}}function YD(t,e,i){if(!t)return()=>{};const n=t.style.getPropertyValue(e);return t.style.setProperty(e,i),()=>{n?t.style.setProperty(e,n):t.style.removeProperty(e)}}function BD(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function VD(t){const e=t??document,i=e.defaultView??window,{documentElement:n,body:r}=e;if(r.hasAttribute(_h))return;r.setAttribute(_h,"");const o=i.innerWidth-n.clientWidth,a=()=>YD(n,"--scrollbar-width",`${o}px`),l=BD(n),c=()=>pO(r,{overflow:"hidden",[l]:`${o}px`}),h=()=>{const{scrollX:f,scrollY:d,visualViewport:p}=i,g=(p==null?void 0:p.offsetLeft)??0,m=(p==null?void 0:p.offsetTop)??0,b=pO(r,{position:"fixed",overflow:"hidden",top:`${-(d-Math.floor(m))}px`,left:`${-(f-Math.floor(g))}px`,right:"0",[l]:`${o}px`});return()=>{b(),i.scrollTo(f,d)}},u=[a(),rD()?h():c()];return()=>{u.forEach(f=>f()),r.removeAttribute(_h)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Fy=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ql=Fy.join(","),zy=typeof Element>"u",Or=zy?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Gl=!zy&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Hl=function t(e,i){var n;i===void 0&&(i=!0);var r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),s=r===""||r==="true",o=s||i&&e&&t(e.parentNode);return o},XD=function(e){var i,n=e==null||(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"contenteditable");return n===""||n==="true"},qy=function(e,i,n){if(Hl(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(ql));return i&&Or.call(e,ql)&&r.unshift(e),r=r.filter(n),r},Gy=function t(e,i,n){for(var r=[],s=Array.from(e);s.length;){var o=s.shift();if(!Hl(o,!1))if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,c=t(l,!0,n);n.flatten?r.push.apply(r,c):r.push({scopeParent:o,candidates:c})}else{var h=Or.call(o,ql);h&&n.filter(o)&&(i||!e.includes(o))&&r.push(o);var u=o.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(o),f=!Hl(u,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(o));if(u&&f){var d=t(u===!0?o.children:u.children,!0,n);n.flatten?r.push.apply(r,d):r.push({scopeParent:o,candidates:d})}else s.unshift.apply(s,o.children)}}return r},Hy=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Ky=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||XD(e))&&!Hy(e)?0:e.tabIndex},WD=function(e,i){var n=Ky(e);return n<0&&i&&!Hy(e)?0:n},UD=function(e,i){return e.tabIndex===i.tabIndex?e.documentOrder-i.documentOrder:e.tabIndex-i.tabIndex},Jy=function(e){return e.tagName==="INPUT"},FD=function(e){return Jy(e)&&e.type==="hidden"},zD=function(e){var i=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return i},qD=function(e,i){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===i)return e[n]},GD=function(e){if(!e.name)return!0;var i=e.form||Gl(e),n=function(a){return i.querySelectorAll('input[type="radio"][name="'+a+'"]')},r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")r=n(window.CSS.escape(e.name));else try{r=n(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=qD(r,e.form);return!s||s===e},HD=function(e){return Jy(e)&&e.type==="radio"},KD=function(e){return HD(e)&&!GD(e)},JD=function(e){var i,n=e&&Gl(e),r=(i=n)===null||i===void 0?void 0:i.host,s=!1;if(n&&n!==e){var o,a,l;for(s=!!((o=r)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(r)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&r;){var c,h,u;n=Gl(r),r=(c=n)===null||c===void 0?void 0:c.host,s=!!((h=r)!==null&&h!==void 0&&(u=h.ownerDocument)!==null&&u!==void 0&&u.contains(r))}}return s},gO=function(e){var i=e.getBoundingClientRect(),n=i.width,r=i.height;return n===0&&r===0},eL=function(e,i){var n=i.displayCheck,r=i.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=Or.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(Or.call(o,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof r=="function"){for(var a=e;e;){var l=e.parentElement,c=Gl(e);if(l&&!l.shadowRoot&&r(l)===!0)return gO(e);e.assignedSlot?e=e.assignedSlot:!l&&c!==e.ownerDocument?e=c.host:e=l}e=a}if(JD(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return gO(e);return!1},tL=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var i=e.parentElement;i;){if(i.tagName==="FIELDSET"&&i.disabled){for(var n=0;n<i.children.length;n++){var r=i.children.item(n);if(r.tagName==="LEGEND")return Or.call(i,"fieldset[disabled] *")?!0:!r.contains(e)}return!0}i=i.parentElement}return!1},Kl=function(e,i){return!(i.disabled||Hl(i)||FD(i)||eL(i,e)||zD(i)||tL(i))},Ku=function(e,i){return!(KD(i)||Ky(i)<0||!Kl(e,i))},iL=function(e){var i=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(i)||i>=0)},nL=function t(e){var i=[],n=[];return e.forEach(function(r,s){var o=!!r.scopeParent,a=o?r.scopeParent:r,l=WD(a,o),c=o?t(r.candidates):a;l===0?o?i.push.apply(i,c):i.push(a):n.push({documentOrder:s,tabIndex:l,item:r,isScope:o,content:c})}),n.sort(UD).reduce(function(r,s){return s.isScope?r.push.apply(r,s.content):r.push(s.content),r},[]).concat(i)},rL=function(e,i){i=i||{};var n;return i.getShadowRoot?n=Gy([e],i.includeContainer,{filter:Ku.bind(null,i),flatten:!1,getShadowRoot:i.getShadowRoot,shadowRootFilter:iL}):n=qy(e,i.includeContainer,Ku.bind(null,i)),nL(n)},sL=function(e,i){i=i||{};var n;return i.getShadowRoot?n=Gy([e],i.includeContainer,{filter:Kl.bind(null,i),flatten:!0,getShadowRoot:i.getShadowRoot}):n=qy(e,i.includeContainer,Kl.bind(null,i)),n},Za=function(e,i){if(i=i||{},!e)throw new Error("No node provided");return Or.call(e,ql)===!1?!1:Ku(i,e)},oL=Fy.concat("iframe").join(","),mO=function(e,i){if(i=i||{},!e)throw new Error("No node provided");return Or.call(e,oL)===!1?!1:Kl(i,e)};/*!
* focus-trap 7.4.1
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function OO(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function bO(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(i),!0).forEach(function(n){aL(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):OO(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function aL(t,e,i){return e=cL(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function lL(t,e){if(typeof t!="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cL(t){var e=lL(t,"string");return typeof e=="symbol"?e:String(e)}var vO={activateTrap:function(e,i){if(e.length>0){var n=e[e.length-1];n!==i&&n.pause()}var r=e.indexOf(i);r===-1||e.splice(r,1),e.push(i)},deactivateTrap:function(e,i){var n=e.indexOf(i);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},hL=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},uL=function(e){return e.key==="Escape"||e.key==="Esc"||e.keyCode===27},ao=function(e){return e.key==="Tab"||e.keyCode===9},fL=function(e){return ao(e)&&!e.shiftKey},dL=function(e){return ao(e)&&e.shiftKey},yO=function(e){return setTimeout(e,0)},xO=function(e,i){var n=-1;return e.every(function(r,s){return i(r)?(n=s,!1):!0}),n},Ls=function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return typeof e=="function"?e.apply(void 0,n):e},Ma=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},pL=[],gL=function(e,i){var n=(i==null?void 0:i.document)||document,r=(i==null?void 0:i.trapStack)||pL,s=bO({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:fL,isKeyBackward:dL},i),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},a,l=function(k,T,P){return k&&k[T]!==void 0?k[T]:s[P||T]},c=function(k){return o.containerGroups.findIndex(function(T){var P=T.container,A=T.tabbableNodes;return P.contains(k)||A.find(function(I){return I===k})})},h=function(k){var T=s[k];if(typeof T=="function"){for(var P=arguments.length,A=new Array(P>1?P-1:0),I=1;I<P;I++)A[I-1]=arguments[I];T=T.apply(void 0,A)}if(T===!0&&(T=void 0),!T){if(T===void 0||T===!1)return T;throw new Error("`".concat(k,"` was specified but was not a node, or did not return a node"))}var ie=T;if(typeof T=="string"&&(ie=n.querySelector(T),!ie))throw new Error("`".concat(k,"` as selector refers to no known node"));return ie},u=function(){var k=h("initialFocus");if(k===!1)return!1;if(k===void 0)if(c(n.activeElement)>=0)k=n.activeElement;else{var T=o.tabbableGroups[0],P=T&&T.firstTabbableNode;k=P||h("fallbackFocus")}if(!k)throw new Error("Your focus-trap needs to have at least one focusable element");return k},f=function(){if(o.containerGroups=o.containers.map(function(k){var T=rL(k,s.tabbableOptions),P=sL(k,s.tabbableOptions);return{container:k,tabbableNodes:T,focusableNodes:P,firstTabbableNode:T.length>0?T[0]:null,lastTabbableNode:T.length>0?T[T.length-1]:null,nextTabbableNode:function(I){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,he=P.findIndex(function(D){return D===I});if(!(he<0))return ie?P.slice(he+1).find(function(D){return Za(D,s.tabbableOptions)}):P.slice(0,he).reverse().find(function(D){return Za(D,s.tabbableOptions)})}}}),o.tabbableGroups=o.containerGroups.filter(function(k){return k.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!h("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},d=function $(k){if(k!==!1&&k!==n.activeElement){if(!k||!k.focus){$(u());return}k.focus({preventScroll:!!s.preventScroll}),o.mostRecentlyFocusedNode=k,hL(k)&&k.select()}},p=function(k){var T=h("setReturnFocus",k);return T||(T===!1?!1:k)},g=function(k){var T=Ma(k);if(!(c(T)>=0)){if(Ls(s.clickOutsideDeactivates,k)){a.deactivate({returnFocus:s.returnFocusOnDeactivate});return}Ls(s.allowOutsideClick,k)||k.preventDefault()}},m=function(k){var T=Ma(k),P=c(T)>=0;P||T instanceof Document?P&&(o.mostRecentlyFocusedNode=T):(k.stopImmediatePropagation(),d(o.mostRecentlyFocusedNode||u()))},b=function(k){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,P=Ma(k);f();var A=null;if(o.tabbableGroups.length>0){var I=c(P),ie=I>=0?o.containerGroups[I]:void 0;if(I<0)T?A=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:A=o.tabbableGroups[0].firstTabbableNode;else if(T){var he=xO(o.tabbableGroups,function(z){var ae=z.firstTabbableNode;return P===ae});if(he<0&&(ie.container===P||mO(P,s.tabbableOptions)&&!Za(P,s.tabbableOptions)&&!ie.nextTabbableNode(P,!1))&&(he=I),he>=0){var D=he===0?o.tabbableGroups.length-1:he-1,L=o.tabbableGroups[D];A=L.lastTabbableNode}else ao(k)||(A=ie.nextTabbableNode(P,!1))}else{var W=xO(o.tabbableGroups,function(z){var ae=z.lastTabbableNode;return P===ae});if(W<0&&(ie.container===P||mO(P,s.tabbableOptions)&&!Za(P,s.tabbableOptions)&&!ie.nextTabbableNode(P))&&(W=I),W>=0){var J=W===o.tabbableGroups.length-1?0:W+1,oe=o.tabbableGroups[J];A=oe.firstTabbableNode}else ao(k)||(A=ie.nextTabbableNode(P))}}else A=h("fallbackFocus");A&&(ao(k)&&k.preventDefault(),d(A))},v=function(k){if(uL(k)&&Ls(s.escapeDeactivates,k)!==!1){k.preventDefault(),a.deactivate();return}(s.isKeyForward(k)||s.isKeyBackward(k))&&b(k,s.isKeyBackward(k))},x=function(k){var T=Ma(k);c(T)>=0||Ls(s.clickOutsideDeactivates,k)||Ls(s.allowOutsideClick,k)||(k.preventDefault(),k.stopImmediatePropagation())},S=function(){if(o.active)return vO.activateTrap(r,a),o.delayInitialFocusTimer=s.delayInitialFocus?yO(function(){d(u())}):d(u()),n.addEventListener("focusin",m,!0),n.addEventListener("mousedown",g,{capture:!0,passive:!1}),n.addEventListener("touchstart",g,{capture:!0,passive:!1}),n.addEventListener("click",x,{capture:!0,passive:!1}),n.addEventListener("keydown",v,{capture:!0,passive:!1}),a},y=function(){if(o.active)return n.removeEventListener("focusin",m,!0),n.removeEventListener("mousedown",g,!0),n.removeEventListener("touchstart",g,!0),n.removeEventListener("click",x,!0),n.removeEventListener("keydown",v,!0),a};return a={get active(){return o.active},get paused(){return o.paused},activate:function(k){if(o.active)return this;var T=l(k,"onActivate"),P=l(k,"onPostActivate"),A=l(k,"checkCanFocusTrap");A||f(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=n.activeElement,T==null||T();var I=function(){A&&f(),S(),P==null||P()};return A?(A(o.containers.concat()).then(I,I),this):(I(),this)},deactivate:function(k){if(!o.active)return this;var T=bO({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},k);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,y(),o.active=!1,o.paused=!1,vO.deactivateTrap(r,a);var P=l(T,"onDeactivate"),A=l(T,"onPostDeactivate"),I=l(T,"checkCanReturnFocus"),ie=l(T,"returnFocus","returnFocusOnDeactivate");P==null||P();var he=function(){yO(function(){ie&&d(p(o.nodeFocusedBeforeActivation)),A==null||A()})};return ie&&I?(I(p(o.nodeFocusedBeforeActivation)).then(he,he),this):(he(),this)},pause:function(k){if(o.paused||!o.active)return this;var T=l(k,"onPause"),P=l(k,"onPostPause");return o.paused=!0,T==null||T(),y(),P==null||P(),this},unpause:function(k){if(!o.paused||!o.active)return this;var T=l(k,"onUnpause"),P=l(k,"onPostUnpause");return o.paused=!1,T==null||T(),f(),S(),P==null||P(),this},updateContainerElements:function(k){var T=[].concat(k).filter(Boolean);return o.containers=T.map(function(P){return typeof P=="string"?n.querySelector(P):P}),o.active&&f(),this}},a.updateContainerElements(e),a};function mL(t){const e=Od(t);return My({id:"dialog",initial:e.open?"open":"closed",context:{role:"dialog",renderedElements:{title:!0,description:!0},modal:!0,trapFocus:!0,preventScroll:!0,closeOnOutsideClick:!0,closeOnEsc:!0,restoreFocus:!0,...e},watch:{open:["toggleVisibility"]},states:{open:{entry:["checkRenderedElements"],activities:["trackDismissableElement","trapFocus","preventScroll","hideContentBelow"],on:{CLOSE:{target:"closed",actions:["invokeOnClose","restoreFocus"]},TOGGLE:{target:"closed",actions:["invokeOnClose","restoreFocus"]}}},closed:{on:{OPEN:{target:"open",actions:["invokeOnOpen"]},TOGGLE:{target:"open",actions:["invokeOnOpen"]}}}}},{activities:{trackDismissableElement(i,n,{send:r}){return ND(()=>Ie.getContentEl(i),{defer:!0,pointerBlocking:i.modal,exclude:[Ie.getTriggerEl(i)],onDismiss(){r({type:"CLOSE",src:"interact-outside"})},onEscapeKeyDown(o){var a;i.closeOnEsc?r({type:"CLOSE",src:"escape-key"}):o.preventDefault(),(a=i.onEsc)==null||a.call(i)},onPointerDownOutside(o){var a;i.closeOnOutsideClick||o.preventDefault(),(a=i.onOutsideClick)==null||a.call(i)}})},preventScroll(i){if(i.preventScroll)return VD(Ie.getDoc(i))},trapFocus(i){if(!i.trapFocus)return;let n;return qu(()=>{const r=Ie.getContentEl(i);if(r){n=gL(r,{document:Ie.getDoc(i),escapeDeactivates:!1,returnFocusOnDeactivate:!1,fallbackFocus:r,allowOutsideClick:!0,initialFocus:oO(i.initialFocusEl)});try{n.activate()}catch{}}}),()=>n==null?void 0:n.deactivate()},hideContentBelow(i){return i.modal?$D(()=>[Ie.getContainerEl(i)],{defer:!0}):void 0}},actions:{checkRenderedElements(i){Ii(()=>{i.renderedElements.title=!!Ie.getTitleEl(i),i.renderedElements.description=!!Ie.getDescriptionEl(i)})},invokeOnClose(i){var n;(n=i.onClose)==null||n.call(i)},invokeOnOpen(i){var n;(n=i.onOpen)==null||n.call(i)},toggleVisibility(i,n,{send:r}){r({type:i.open?"OPEN":"CLOSE",src:"controlled"})},restoreFocus(i){i.restoreFocus&&Ii(()=>{const n=oO(i.finalFocusEl)??Ie.getTriggerEl(i);n==null||n.focus({preventScroll:!0})})}}})}const OL=(t,e)=>{const i=$t(e),n=By(),[r,s]=Ay(mL({...i,id:i.id||Py().value,getRootNode:n,onClose(){t("close"),t("update:open",!1)},onEsc(){t("esc")},onOutsideClick(){t("outside-click")}})),o=Ue(()=>ZD(r.value,s,Qy));return tt(()=>i.open,a=>{a!=null&&(a?o.value.open():o.value.close())}),o},bL={id:{type:String},ids:{type:Object},trapFocus:{type:Boolean},preventScroll:{type:Boolean},modal:{type:Boolean},initialFocusEl:{type:Object},finalFocusEl:{type:Object},restoreFocus:{type:Boolean},closeOnOutsideClick:{type:Boolean,default:!0},closeOnEsc:{type:Boolean},"aria-label":{type:String},role:{type:String},open:{type:Boolean}},vL=me({name:"Dialog",props:bL,emits:["close","outside-click","esc"],setup(t,{slots:e,emit:i}){const n=OL(i,t);return RD(n),()=>{var r;return(r=e==null?void 0:e.default)==null?void 0:r.call(e,n.value)}}}),yL=me({name:"DialogBackdrop",setup(t,{slots:e,attrs:i}){const n=ks();return()=>xe(bn.div,dn(n.value.backdropProps,i),{default:()=>On(e)})}}),xL=me({name:"DialogCloseTrigger",setup(t,{slots:e,attrs:i}){const n=ks();return()=>{const r=_y(e,"DialogCloseTrigger");return ni(r,{...n.value.closeTriggerProps,...i})}}}),SL=me({name:"DialogContainer",setup(t,{slots:e,attrs:i}){const n=ks();return()=>xe(bn.div,dn(n.value.containerProps,i),{default:()=>On(e)})}}),wL=me({name:"DialogContent",setup(t,{slots:e,attrs:i}){const n=ks();return()=>xe(bn.div,dn(n.value.contentProps,i),{default:()=>On(e)})}}),kL=me({name:"DialogDescription",setup(t,{slots:e,attrs:i}){const n=ks();return()=>xe(bn.p,dn(n.value.descriptionProps,i),{default:()=>On(e)})}}),CL=me({name:"DialogTitle",setup(t,{slots:e,attrs:i}){const n=ks();return()=>xe(bn.h2,dn(n.value.titleProps,i),{default:()=>On(e)})}}),[$L,Pc]=pd("TabsContext"),_L=me({name:"TabContent",props:{value:{type:String,required:!0}},setup(t,{slots:e,attrs:i}){const n=Pc();return()=>xe(bn.div,dn(n.value.getContentProps({value:t.value}),i),{default:()=>On(e)})}}),PL=me({name:"TabIndicator",setup(t,{slots:e,attrs:i}){const n=Pc();return()=>xe(bn.div,dn(n.value.indicatorProps,i),{default:()=>On(e)})}}),TL=me({name:"TabList",setup(t,{slots:e,attrs:i}){const n=Pc();return()=>xe(bn.div,dn(n.value.tablistProps,i),{default:()=>On(e)})}}),QL=me({name:"TabTrigger",props:{value:{type:String,required:!0},disabled:{type:Boolean}},setup(t,{slots:e,attrs:i}){const n=Pc();return()=>{const r=_y(e,"TabsTrigger");return ni(r,{...n.value.getTriggerProps({value:t.value,disabled:t.disabled}),...i})}}});var AL=ro("tabs").parts("root","tablist","trigger","contentGroup","content","indicator"),Tr=AL.build(),Oe=jy({getRootId:t=>{var e;return((e=t.ids)==null?void 0:e.root)??`tabs:${t.id}`},getTablistId:t=>{var e;return((e=t.ids)==null?void 0:e.tablist)??`tabs:${t.id}:list`},getContentId:(t,e)=>{var i;return((i=t.ids)==null?void 0:i.content)??`tabs:${t.id}:content-${e}`},getContentGroupId:t=>{var e;return((e=t.ids)==null?void 0:e.contentGroup)??`tabs:${t.id}:content-group`},getTriggerId:(t,e)=>{var i;return((i=t.ids)==null?void 0:i.trigger)??`tabs:${t.id}:trigger-${e}`},getIndicatorId:t=>{var e;return((e=t.ids)==null?void 0:e.indicator)??`tabs:${t.id}:indicator`},getTablistEl:t=>Oe.getById(t,Oe.getTablistId(t)),getContentEl:(t,e)=>Oe.getById(t,Oe.getContentId(t,e)),getTriggerEl:(t,e)=>Oe.getById(t,Oe.getTriggerId(t,e)),getIndicatorEl:t=>Oe.getById(t,Oe.getIndicatorId(t)),getElements:t=>{const i=`[role=tab][data-ownedby='${CSS.escape(Oe.getTablistId(t))}']:not([disabled])`;return sD(Oe.getTablistEl(t),i)},getFirstEl:t=>uD(Oe.getElements(t)),getLastEl:t=>fD(Oe.getElements(t)),getNextEl:(t,e)=>cD(Oe.getElements(t),Oe.getTriggerId(t,e),t.loop),getPrevEl:(t,e)=>hD(Oe.getElements(t),Oe.getTriggerId(t,e),t.loop),getActiveContentEl:t=>{if(t.value)return Oe.getContentEl(t,t.value)},getActiveTabEl:t=>{if(t.value)return Oe.getTriggerEl(t,t.value)},getOffsetRect:t=>({left:(t==null?void 0:t.offsetLeft)??0,top:(t==null?void 0:t.offsetTop)??0,width:(t==null?void 0:t.offsetWidth)??0,height:(t==null?void 0:t.offsetHeight)??0}),getRectById:(t,e)=>{const i=Ny(Oe.getElements(t),Oe.getTriggerId(t,e));return Oe.resolveRect(Oe.getOffsetRect(i),t.orientation)},resolveRect(t,e){const i=e==="vertical"?"height":"width",n=e==="vertical"?"top":"left";return{[n]:`${t[n]}px`,[i]:`${t[i]}px`}}});function EL(t,e,i){const n=t.context.translations,r=t.matches("focused");return{value:t.context.value,focusedValue:t.context.focusedValue,previousValues:Array.from(t.context.previousValues),setValue(s){e({type:"SET_VALUE",value:s})},clearValue(){e({type:"CLEAR_VALUE"})},setIndicatorRect(s){e({type:"SET_INDICATOR_RECT",id:s})},rootProps:i.element({...Tr.root.attrs,id:Oe.getRootId(t.context),"data-orientation":t.context.orientation,"data-focus":Ia(r),dir:t.context.dir}),tablistProps:i.element({...Tr.tablist.attrs,id:Oe.getTablistId(t.context),role:"tablist","data-focus":Ia(r),"aria-orientation":t.context.orientation,"data-orientation":t.context.orientation,"aria-label":n.tablistLabel,onKeyDown(s){const o={ArrowDown(){e("ARROW_DOWN")},ArrowUp(){e("ARROW_UP")},ArrowLeft(){e("ARROW_LEFT")},ArrowRight(){e("ARROW_RIGHT")},Home(){e("HOME")},End(){e("END")},Enter(){e({type:"ENTER",value:t.context.focusedValue})}};let a=vD(s,t.context);const l=o[a];l&&(s.preventDefault(),l(s))}}),getTriggerProps(s){const{value:o,disabled:a}=s,l=t.context.value===o;return i.button({...Tr.trigger.attrs,role:"tab",type:"button",disabled:a,"data-orientation":t.context.orientation,"data-disabled":Ia(a),"aria-disabled":a,"data-value":o,"aria-selected":l,"data-selected":Ia(l),"aria-controls":Oe.getContentId(t.context,o),"data-ownedby":Oe.getTablistId(t.context),id:Oe.getTriggerId(t.context,o),tabIndex:l?0:-1,onFocus(){e({type:"TAB_FOCUS",value:o})},onBlur(c){const h=c.relatedTarget;(h==null?void 0:h.getAttribute("role"))!=="tab"&&e({type:"TAB_BLUR"})},onClick(c){a||(nD()&&c.currentTarget.focus(),e({type:"TAB_CLICK",value:o}))}})},contentGroupProps:i.element({...Tr.contentGroup.attrs,id:Oe.getContentGroupId(t.context),"data-orientation":t.context.orientation}),getContentProps({value:s}){const o=t.context.value===s;return i.element({...Tr.content.attrs,id:Oe.getContentId(t.context,s),tabIndex:0,"aria-labelledby":Oe.getTriggerId(t.context,s),role:"tabpanel","data-ownedby":Oe.getTablistId(t.context),hidden:!o})},indicatorProps:i.element({id:Oe.getIndicatorId(t.context),...Tr.indicator.attrs,"data-orientation":t.context.orientation,style:{"--transition-duration":"150ms","--transition-property":"left, right, top, bottom, width, height",position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:t.context.canIndicatorTransition?"var(--transition-duration)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",...t.context.indicatorRect}})}}var{not:RL}=VM;function IL(t){const e=Od(t);return My({initial:"idle",context:{dir:"ltr",orientation:"horizontal",activationMode:"automatic",value:null,focusedValue:null,previousValues:[],indicatorRect:{left:"0px",top:"0px",width:"0px",height:"0px"},canIndicatorTransition:!1,isIndicatorRendered:!1,loop:!0,translations:{},...e},computed:{isHorizontal:i=>i.orientation==="horizontal",isVertical:i=>i.orientation==="vertical"},created:["setPrevSelectedTabs"],entry:["checkRenderedElements","syncIndicatorRect","setContentTabIndex"],exit:["cleanupObserver"],watch:{focusedValue:"invokeOnFocus",value:["enableIndicatorTransition","invokeOnChange","setPrevSelectedTabs","syncIndicatorRect","setContentTabIndex"],dir:["syncIndicatorRect"],orientation:["syncIndicatorRect"]},on:{SET_VALUE:{actions:"setValue"},CLEAR_VALUE:{actions:"clearValue"},SET_INDICATOR_RECT:{actions:"setIndicatorRect"}},states:{idle:{on:{TAB_FOCUS:[{guard:"selectOnFocus",target:"focused",actions:["setFocusedValue","setValue"]},{target:"focused",actions:"setFocusedValue"}],TAB_CLICK:{target:"focused",actions:["setFocusedValue","setValue"]}}},focused:{on:{TAB_CLICK:{target:"focused",actions:["setFocusedValue","setValue"]},ARROW_LEFT:{guard:"isHorizontal",actions:"focusPrevTab"},ARROW_RIGHT:{guard:"isHorizontal",actions:"focusNextTab"},ARROW_UP:{guard:"isVertical",actions:"focusPrevTab"},ARROW_DOWN:{guard:"isVertical",actions:"focusNextTab"},HOME:{actions:"focusFirstTab"},END:{actions:"focusLastTab"},ENTER:{guard:RL("selectOnFocus"),actions:"setValue"},TAB_FOCUS:[{guard:"selectOnFocus",actions:["setFocusedValue","setValue"]},{actions:"setFocusedValue"}],TAB_BLUR:{target:"idle",actions:"clearFocusedValue"}}}}},{guards:{isVertical:i=>i.isVertical,isHorizontal:i=>i.isHorizontal,selectOnFocus:i=>i.activationMode==="automatic"},actions:{setFocusedValue(i,n){i.focusedValue=n.value},clearFocusedValue(i){i.focusedValue=null},setValue(i,n){i.value=n.value},clearValue(i){i.value=null},focusFirstTab(i){Ii(()=>{var n;return(n=Oe.getFirstEl(i))==null?void 0:n.focus()})},focusLastTab(i){Ii(()=>{var n;return(n=Oe.getLastEl(i))==null?void 0:n.focus()})},focusNextTab(i){if(!i.focusedValue)return;const n=Oe.getNextEl(i,i.focusedValue);Ii(()=>n==null?void 0:n.focus())},focusPrevTab(i){if(!i.focusedValue)return;const n=Oe.getPrevEl(i,i.focusedValue);Ii(()=>n==null?void 0:n.focus())},checkRenderedElements(i){i.isIndicatorRendered=!!Oe.getIndicatorEl(i)},invokeOnChange(i){var n;(n=i.onChange)==null||n.call(i,{value:i.value})},invokeOnFocus(i){var n;(n=i.onFocus)==null||n.call(i,{value:i.focusedValue})},setPrevSelectedTabs(i){i.value!=null&&(i.previousValues=ZL(i.previousValues,i.value))},setContentTabIndex(i){Ii(()=>{const n=Oe.getActiveContentEl(i);if(!n)return;Uy(n).length>0?n.removeAttribute("tabindex"):n.setAttribute("tabindex","0")})},cleanupObserver(i){var n;(n=i.indicatorCleanup)==null||n.call(i)},enableIndicatorTransition(i){i.canIndicatorTransition=!0},setIndicatorRect(i,n){const r=n.id??i.value;!i.isIndicatorRendered||!r||!Oe.getTriggerEl(i,r)||(i.indicatorRect=Oe.getRectById(i,r),qu(()=>{i.canIndicatorTransition=!1}))},syncIndicatorRect(i){var s;(s=i.indicatorCleanup)==null||s.call(i);const n=i.value;if(!i.isIndicatorRendered||!n)return;const r=Oe.getActiveTabEl(i);r&&(i.indicatorCleanup=xD(r,{getRect(o){return Oe.getOffsetRect(o)},onChange(o){i.indicatorRect=Oe.resolveRect(o,i.orientation),qu(()=>{i.canIndicatorTransition=!1})}}))}}})}function ZL(t,e){const i=Array.from(t).slice(),n=i.indexOf(e);return n>-1&&i.splice(n,1),i.push(e),i}const ML=(t,e)=>{const i=$t(e),n=By(),[r,s]=Ay(IL({...i,id:i.id||Py().value,getRootNode:n,value:i.defaultValue,onChange(o){t("change",o)},onFocus(o){t("focus",o)},onDelete(o){t("delete",o)}}));return Ue(()=>EL(r.value,s,Qy))},DL={id:{type:String},defaultValue:{type:String},orientation:{type:String},activationMode:{type:String},dir:{type:String},loop:{type:Boolean},translation:{type:Object},ids:{type:Object},getRootNode:{type:Function}},LL=me({name:"Tabs",emits:["change","focus","delete"],props:DL,setup(t,{slots:e,attrs:i,emit:n}){const r=ML(n,t);return $L(r),()=>xe(bn.div,dn(r.value.rootProps,i),{default:()=>{var s;return[(s=e.default)==null?void 0:s.call(e,{selectedValue:r.value.value,focusedValue:r.value.focusedValue})]}})}}),Tc=uM(),jL=["onDragstart"],NL=me({__name:"PreviewPart",props:{compList:null,type:null},setup(t){function e(n){on.emit("dragstart",n)}function i(){on.emit("dragend",null)}return(n,r)=>(R(),j("section",{class:yr(["w-full overflow-y-scroll m-4 max-h-[85vh] preview-section__box",t.type])},[(R(!0),j(ct,null,Tt(t.compList,(s,o)=>(R(),j("div",{key:o,draggable:"",onDragend:i,onDragstart:Yi(a=>{e(s)},["stop"])},[xe(G(Tc),{value:s,type:t.type,class:"preview-section__block"},null,8,["value","type"])],40,jL))),128))],2))}}),YL=wr(NL,[["__scopeId","data-v-978eb797"]]);var BL=Object.defineProperty,VL=Object.getOwnPropertyDescriptor,ex=(t,e,i,n)=>{for(var r=n>1?void 0:n?VL(e,i):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(r=(n?o(e,i,r):o(r))||r);return n&&r&&BL(e,i,r),r};let ht=class extends OM{constructor(){super(),this.containerAttrs={width:640,height:600,fontSize:16,backgroundColor:"rgb(102, 107, 226)",gridColor:"#ff00006b",gridNum:10,gridGap:20,margin:0,radius:0,isContainer:!0,isFull:!1,isGrid:!0,mode:"normal",wLimit:[375,2e3],hLimit:[600,4e3]},sn.setState("$doc",this)}bridge(){}bridgeDoc(t){}init(){}};ex([rc],ht.prototype,"init",1);ht=ex([us,fs("doc")],ht);function XL(t){vr(()=>{document.addEventListener("click",t)}),uS(()=>{document.removeEventListener("click",t)})}const WL={class:"editor__container"},UL=me({__name:"EditRender",setup(t){const e=kt(ht),i=Ht(e,"activeDoc");return XL(()=>{i.value.cancel()}),(n,r)=>(R(),j("div",WL,[xe(G(Tc),{node:i.value.root,type:"edit",value:G(ws)("root")},null,8,["node","value"])]))}}),FL=t=>typeof t<"u";function zL(t){return JSON.parse(JSON.stringify(t))}function SO(t,e,i,n={}){var r,s,o;const{clone:a=!1,passive:l=!1,eventName:c,deep:h=!1,defaultValue:u,shouldEmit:f}=n,d=af(),p=i||(d==null?void 0:d.emit)||((r=d==null?void 0:d.$emit)==null?void 0:r.bind(d))||((o=(s=d==null?void 0:d.proxy)==null?void 0:s.$emit)==null?void 0:o.bind(d==null?void 0:d.proxy));let g=c;e||(e="modelValue"),g=g||`update:${e.toString()}`;const m=x=>a?typeof a=="function"?a(x):zL(x):x,b=()=>FL(t[e])?m(t[e]):u,v=x=>{f?f(x)&&p(g,x):p(g,x)};if(l){const x=b(),S=we(x);return tt(()=>t[e],y=>S.value=m(y)),tt(S,y=>{(y!==t[e]||h)&&v(y)},{deep:h}),S}else return Ue({get(){return b()},set(x){v(x)}})}const tx=(...t)=>{const e=af().proxy.$props,i=Object.create(null);for(const n of t)if(typeof n=="string")i[n]=SO(e,n,void 0,{eventName:`update:${n}`,passive:!0});else{const[r,s=r,o=`update:${r}`,a={}]=n;i[r]=SO(e,s,void 0,{eventName:o,passive:!0,...a})}return i},qL=Z("button",{"l-btn-p":"","w-full":""}," Close ",-1),GL=me({__name:"Dialog",props:{modelValue:{type:Boolean},title:null},emits:["update:modelValue"],setup(t){const{modelValue:e}=tx("modelValue");return(i,n)=>(R(),gt(G(vL),{open:G(e),"onUpdate:open":n[0]||(n[0]=r=>IO(e)?e.value=r:null),"close-on-outside-click":!1},{default:vt(({isOpen:r})=>[r?(R(),gt(ZO,{key:0,to:"body"},[xe(G(yL),{fixed:"","top-0":"","left-0":"","w-screen":"","h-screen":"",flex:"","content-center":"","justify-center":"","flex-wrap":"","z-100":""},{default:vt(()=>[xe(G(SL),null,{default:vt(()=>[xe(G(wL),{"border-b-1":"","border-b-solid":"","border-ol":"","h-fit":"","l-card":"","l-flex":"","flex-col":"","p-4":""},{default:vt(()=>[xe(G(CL),null,{default:vt(()=>[Rh(nt(t.title),1)]),_:1}),xe(G(kL),{"l-flex":""},{default:vt(()=>[Ct(i.$slots,"default")]),_:3}),xe(G(xL),null,{default:vt(()=>[qL]),_:1})]),_:3})]),_:3})]),_:3})])):it("",!0)]),_:3},8,["open"]))}}),ix=mS(GL,{});function wO(t){return new URLSearchParams(location.search).get(t)}var HL=Object.defineProperty,KL=Object.getOwnPropertyDescriptor,JL=(t,e,i,n)=>{for(var r=n>1?void 0:n?KL(e,i):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(r=(n?o(e,i,r):o(r))||r);return n&&r&&HL(e,i,r),r};const{connect:ej,dynamicImport:tj,urlMap:NY,projectMap:ij}=q7();class Ro{constructor(){this.presets=[],this.info={},this.graph={}}async init(){window.$alioth_state=this.setState.bind(this),window.$alioth_update=(n,r)=>{this.graph[n]=this.importModule(r)};const e=decodeURIComponent(wO("url")||"");if(e){await ej(e);for(const[n,r]of ij.entries())for(const s in r){const o=await tj(n,s);this.importModule(o.module)}}const i=JSON.parse(wO("presets")||"[]");this.presets=i,i.forEach(async n=>{try{const r=await mM(n);n.endsWith(".css")?this.graph[n]={}:this.graph[n]=this.importModule(r)}catch{on.emit("error_info",`load dependence ${n} failed`)}})}importModule(e){var n;const i={};for(const r in e)if(typeof e[r]=="object"&&e[r].alioth){const{alioth:s,data:o}=e[r];(n=window[`$alioth_${s}`])==null||n.call(window,o),i[r]=e[r]}return i}setState({key:e,value:i,meta:n}){sn.setState(e,i),this.info[e]=n}}JL([rc],Ro.prototype,"init",1);const nj={"m-y-2":""},rj=["onDragstart"],sj=me({__name:"ImportList",setup(t){const{info:e}=kt(Ro);function i(r){on.emit("dragstart",`{{${r}}}`)}function n(){on.emit("dragend",null)}return(r,s)=>(R(),j("section",nj,[(R(!0),j(ct,null,Tt(G(e),(o,a)=>(R(),j("div",{key:a,w:"160px"},[Z("div",{"cursor-grab":"","h-8":"","w-full":"",draggable:"true","l-flex":"","border-1":"","border-solid":"","border-font-t":"",onMousedown:s[0]||(s[0]=Yi(()=>{},["stop"])),onDragstart:Yi(l=>{i(a)},["stop"]),onDragend:n},nt(a),41,rj)]))),128))]))}}),oj={flex:"","flex-nowrap":"","m-y-2":""},aj={"min-w-fit":"","color-font-n":"","m-r-4":""},lj={"min-w-40":""},cj=me({__name:"FormItem",props:{label:null},setup(t){return(e,i)=>(R(),j("div",oj,[Z("p",aj,nt(t.label),1),Z("div",lj,[Ct(e.$slots,"default")])]))}}),hj={},uj={"l-flex":"","p-4":"","flex-col":""};function fj(t,e){return R(),j("section",uj,[Ct(t.$slots,"default")])}const dj=wr(hj,[["render",fj]]),pj=me({__name:"PaneForm",props:{config:null,data:null,onUpdate:{type:Function}},setup(t){const{componentMap:e}=Hn(Xn),i=OS(e,dj,cj,{onUpdate:t.onUpdate});return(n,r)=>(R(),gt(G(i),{config:t.config||{},data:t.data,model:t.data,"label-width":"120px"},null,8,["config","data","model"]))}});var gj=Object.defineProperty,mj=Object.getOwnPropertyDescriptor,vd=(t,e,i,n)=>{for(var r=n>1?void 0:n?mj(e,i):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(r=(n?o(e,i,r):o(r))||r);return n&&r&&gj(e,i,r),r};const Oj=t=>{t.dataTransfer.dropEffect="move"},bj=t=>{t.preventDefault()},vj=t=>{t.dataTransfer.dropEffect="none"};let br=class{constructor(){this.moduleMap=new Map,this.data={}}add(t,e){this.moduleMap.set(t,e)}del(t){this.moduleMap.delete(t)}execCb(t,e,i){var n;(n=this.moduleMap.get(t))==null||n(e,i)}dragStart(t){this.listenController=new AbortController;const{signal:e}=this.listenController;for(const[i]of this.moduleMap)i.addEventListener("dragenter",Oj,{signal:e}),i.addEventListener("dragover",bj,{signal:e}),i.addEventListener("dragleave",vj,{signal:e}),i.addEventListener("drop",n=>{this.execCb(i,t,n)},{signal:e})}dragEnd(){this.listenController.abort(),this.listenController=void 0}};vd([sc("dragstart")],br.prototype,"dragStart",1);vd([sc("dragend")],br.prototype,"dragEnd",1);br=vd([us,fs("drag")],br);const yj=me({__name:"Property",props:{type:null},setup(t){const e=kt(ht),i=Ht(e,"activeNode"),{add:n,del:r}=kt(br);let s=we({});function o(a,l,c){a.attrs.propsData[l]=c,a.setAttribute("propsData",a.attrs.propsData)}return tt(()=>i.value,(a,l)=>{if(!a)return;const c=ws(a.attrs.key).meta[t.type],{data:h,config:u}=bS(c,a.attrs.propsData);for(const f in u)u[f]._mount=({el:d})=>{n(d,p=>{o(a,f,p)})},u[f]._unmount=({el:d})=>{r(d)};s.value={data:h,config:u}},{immediate:!0}),(a,l)=>{const c=pj;return R(),gt(c,{data:G(s).data,config:G(s).config,"on-update":(h,u)=>o(i.value,h,u)},null,8,["data","config","on-update"])}}}),xj=wr(yj,[["__scopeId","data-v-3cf1e707"]]);var Sj=Object.defineProperty,wj=Object.getOwnPropertyDescriptor,kj=(t,e,i,n)=>{for(var r=n>1?void 0:n?wj(e,i):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(r=(n?o(e,i,r):o(r))||r);return n&&r&&Sj(e,i,r),r};let Ju=class{constructor(){this.commands=[{key:"state",description:"查询状态",usage:"state <key>",exec:()=>sn.data},{key:"node",description:"此时选中的节点",usage:"node",exec:()=>{var t;return(t=rr(ht).activeNode)==null?void 0:t.attrs}},{key:"container",description:"容器节点",usage:"container",exec:()=>rr(ht).container.attrs},{key:"widget",description:"物料相关",usage:"widget <key>",exec:t=>ws(t),example:[{cmd:"widget button",des:"查询button组件"}]},{key:"config-model",description:"获取ConfigModel对应的状态",usage:"config-model",exec:()=>rr(Xn)},{key:"doc-model",description:"获取DocModel对应的状态",usage:"doc-model",exec:()=>rr(ht)}]}register(t){this.commands.push(t)}input(t,e){var i;return(i=this.commands.find(n=>n.key===t))==null?void 0:i.exec(e)}};Ju=kj([us,fs("command")],Ju);const Cj={"w-100":"","h-80":""},$j={class:"t-text-editor-floor",align:"center"},_j=me({__name:"index",setup(t){const{input:e,commands:i}=kt(Ju);async function n(o,a,l,c){try{const h=await e(...a.split(" "));l({type:typeof h=="object"?"json":"normal",content:h})}catch{c("Something wrong!!!")}}const r={tabSize:4,mode:"javascript",theme:"vibrant-ink",lineNumbers:!0,line:!0,smartIndent:!0,collapseIdentical:!1,scrollbarStyle:"null"},s=[{content:"Alioth terminal initializing..."},{type:"html",content:`
                <div class='demo-init-box'>
                    <p>Hello Alioth! ✋</p>
                    <p>⭐️Github: <a class='t-a' target='_blank' href='https://github.com/fgsreally/alioth'>https://github.com/fgsreally/alioth</a></p>
                </div>
                `}];return(o,a)=>{const l=rl("codemirror");return R(),j("div",Cj,[xe(G(VO),{name:"alioth","init-log":s,"command-store":G(i),"warn-log-count-limit":200,"show-header":!1,onExecCmd:n},{textEditor:vt(({data:c})=>[xe(l,{ref:"customTextEditor",modelValue:c.value,"onUpdate:modelValue":h=>c.value=h,class:"my-text-editor",options:r,onFocus:c.onFocus,onBlur:c.onBlur},null,8,["modelValue","onUpdate:modelValue","onFocus","onBlur"]),Z("div",$j,[Z("button",{class:"t-text-editor-floor-btn t-save-btn",onClick:a[0]||(a[0]=h=>G(Nt).textEditorClose("alioth",!0))}," Save & Close(Ctrl + S) "),Z("button",{class:"t-text-editor-floor-btn t-close-btn",onClick:a[1]||(a[1]=h=>G(Nt).textEditorClose("alioth",!0))}," Cancel ")])]),_:1},8,["command-store"])])}}}),Pj=t=>(QO("data-v-874f5240"),t=t(),AO(),t),Tj={block:"","w-100":"","h-140":"","overflow-y-scroll":"","m-y-4":""},Qj=Pj(()=>Z("div",{flex:"","justify-between":"","p-x-8":""},[Z("input",{"l-input":"","w-60":""}),Z("button",{"l-btn-p":"","w-20":""}," click ")],-1)),Aj=me({__name:"ai",setup(t){const e=we([{role:"user",content:`    color: rgb(0, 0, 0);
    background-color: rgb(228, 230, 235);
    margin-left: 0px;
    margin-right: auto;`},{role:"ai",content:`简单业务场景
针对简单场景，无极内置的组件就可以满足业务需求，通过简单拖拉拽的方式拖拽内置的组件快速完成页面的搭建，通过配置就可以实现页面的逻辑

◎ 一般业务场景
针对一般业务场景，内置组件可能无法满足页面交互的需求，此时可以采用 本地组件开发的方式实现复杂的页面交互；而通过配置可能也无法满足 UI 逻辑的需求，此时可以采用 lesscode 的方式用代码实现复杂的页面逻辑

◎ 复杂业务场景
针对复杂场景，本地组件开发和 lesscode 开发虽然可以满足需求，但是大量的代码零散化不利于维护，此时可以采用 本地页面开发 的方式实现整个页面全部本地化代码开发`}]);return(i,n)=>(R(),j(ct,null,[Z("section",Tj,[(R(!0),j(ct,null,Tt(G(e),(r,s)=>(R(),j("div",{key:s,class:"msg-box"},[Z("div",{style:{"overflow-wrap":"break-word"},class:yr([r.role==="ai"?"msg-ai":"msg-user","msg-item"])},nt(r.content),3)]))),128))]),Qj],64))}}),Ej=wr(Aj,[["__scopeId","data-v-874f5240"]]),Rj={ImportList:sj,Property:xj,Terminal:_j,AiChat:Ej},Ij={"min-w":"80vw","min-h":"80vh","l-flex":"","border-1":"","border-solid":"","border-font-t":""},Zj=me({__name:"PreviewRender",setup(t){const e=kt(ht),i=Ht(e,"container");return(n,r)=>(R(),j("section",Ij,[Z("div",{style:tn({position:"relative",backgroundColor:i.value.attrs.backgroundColor,width:`${i.value.attrs.width}px`,height:`${i.value.attrs.height}px`})},[(R(!0),j(ct,null,Tt(i.value.children,s=>(R(),gt(G(Tc),{key:s.id,node:s,type:"render",value:G(ws)(s.attrs.key)},null,8,["node","value"]))),128))],4)]))}}),Mj={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Dj=Z("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[Z("path",{d:"M2 12s3-7 10-7s10 7 10 7s-3 7-10 7s-10-7-10-7Z"}),Z("circle",{cx:"12",cy:"12",r:"3"})],-1),Lj=[Dj];function jj(t,e){return R(),j("svg",Mj,Lj)}const Nj={name:"lucide-eye",render:jj},Yj={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Bj=Z("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4m4-5l5 5l5-5m-5 5V3"},null,-1),Vj=[Bj];function Xj(t,e){return R(),j("svg",Yj,Vj)}const Wj={name:"lucide-download",render:Xj},Uj={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Fj=Z("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[Z("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),Z("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2ZM12 13V7"}),Z("path",{d:"m9 10l3 3l3-3"})],-1),zj=[Fj];function qj(t,e){return R(),j("svg",Uj,zj)}const Gj={name:"lucide-book-down",render:qj};function kO(t,e){const i=new Blob([e]),n=document.createElement("a");n.href=URL.createObjectURL(i),n.download=t,n.click(),URL.revokeObjectURL(n.href)}var Hj=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],nx=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],Kj="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿",rx="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",Ph={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Th="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Jj={5:Th,"5module":Th+" export import",6:Th+" const class extends export import super"},eN=/^in(stanceof)?$/,tN=new RegExp("["+rx+"]"),iN=new RegExp("["+rx+Kj+"]");function ef(t,e){for(var i=65536,n=0;n<e.length;n+=2){if(i+=e[n],i>t)return!1;if(i+=e[n+1],i>=t)return!0}return!1}function un(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&tN.test(String.fromCharCode(t)):e===!1?!1:ef(t,nx)}function hs(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&iN.test(String.fromCharCode(t)):e===!1?!1:ef(t,nx)||ef(t,Hj)}var Te=function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null};function li(t,e){return new Te(t,{beforeExpr:!0,binop:e})}var ci={beforeExpr:!0},Lt={startsExpr:!0},yd={};function _e(t,e){return e===void 0&&(e={}),e.keyword=t,yd[t]=new Te(t,e)}var O={num:new Te("num",Lt),regexp:new Te("regexp",Lt),string:new Te("string",Lt),name:new Te("name",Lt),privateId:new Te("privateId",Lt),eof:new Te("eof"),bracketL:new Te("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Te("]"),braceL:new Te("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Te("}"),parenL:new Te("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Te(")"),comma:new Te(",",ci),semi:new Te(";",ci),colon:new Te(":",ci),dot:new Te("."),question:new Te("?",ci),questionDot:new Te("?."),arrow:new Te("=>",ci),template:new Te("template"),invalidTemplate:new Te("invalidTemplate"),ellipsis:new Te("...",ci),backQuote:new Te("`",Lt),dollarBraceL:new Te("${",{beforeExpr:!0,startsExpr:!0}),eq:new Te("=",{beforeExpr:!0,isAssign:!0}),assign:new Te("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Te("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Te("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:li("||",1),logicalAND:li("&&",2),bitwiseOR:li("|",3),bitwiseXOR:li("^",4),bitwiseAND:li("&",5),equality:li("==/!=/===/!==",6),relational:li("</>/<=/>=",7),bitShift:li("<</>>/>>>",8),plusMin:new Te("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:li("%",10),star:li("*",10),slash:li("/",10),starstar:new Te("**",{beforeExpr:!0}),coalesce:li("??",1),_break:_e("break"),_case:_e("case",ci),_catch:_e("catch"),_continue:_e("continue"),_debugger:_e("debugger"),_default:_e("default",ci),_do:_e("do",{isLoop:!0,beforeExpr:!0}),_else:_e("else",ci),_finally:_e("finally"),_for:_e("for",{isLoop:!0}),_function:_e("function",Lt),_if:_e("if"),_return:_e("return",ci),_switch:_e("switch"),_throw:_e("throw",ci),_try:_e("try"),_var:_e("var"),_const:_e("const"),_while:_e("while",{isLoop:!0}),_with:_e("with"),_new:_e("new",{beforeExpr:!0,startsExpr:!0}),_this:_e("this",Lt),_super:_e("super",Lt),_class:_e("class",Lt),_extends:_e("extends",ci),_export:_e("export"),_import:_e("import",Lt),_null:_e("null",Lt),_true:_e("true",Lt),_false:_e("false",Lt),_in:_e("in",{beforeExpr:!0,binop:7}),_instanceof:_e("instanceof",{beforeExpr:!0,binop:7}),_typeof:_e("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:_e("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:_e("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Oi=/\r\n?|\n|\u2028|\u2029/,nN=new RegExp(Oi.source,"g");function Cs(t){return t===10||t===13||t===8232||t===8233}function sx(t,e,i){i===void 0&&(i=t.length);for(var n=e;n<i;n++){var r=t.charCodeAt(n);if(Cs(r))return n<i-1&&r===13&&t.charCodeAt(n+1)===10?n+2:n+1}return-1}var ox=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,hi=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,ax=Object.prototype,rN=ax.hasOwnProperty,sN=ax.toString,Ko=Object.hasOwn||function(t,e){return rN.call(t,e)},CO=Array.isArray||function(t){return sN.call(t)==="[object Array]"};function Rn(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}function Vn(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}var oN=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Io=function(e,i){this.line=e,this.column=i};Io.prototype.offset=function(e){return new Io(this.line,this.column+e)};var Qc=function(e,i,n){this.start=i,this.end=n,e.sourceFile!==null&&(this.source=e.sourceFile)};function lx(t,e){for(var i=1,n=0;;){var r=sx(t,n,e);if(r<0)return new Io(i,e-n);++i,n=r}}var tf={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},$O=!1;function aN(t){var e={};for(var i in tf)e[i]=t&&Ko(t,i)?t[i]:tf[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!$O&&typeof console=="object"&&console.warn&&($O=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),CO(e.onToken)){var n=e.onToken;e.onToken=function(r){return n.push(r)}}return CO(e.onComment)&&(e.onComment=lN(e,e.onComment)),e}function lN(t,e){return function(i,n,r,s,o,a){var l={type:i?"Block":"Line",value:n,start:r,end:s};t.locations&&(l.loc=new Qc(this,o,a)),t.ranges&&(l.range=[r,s]),e.push(l)}}var Zo=1,$s=2,xd=4,cx=8,hx=16,ux=32,Sd=64,fx=128,Jo=256,wd=Zo|$s|Jo;function kd(t,e){return $s|(t?xd:0)|(e?cx:0)}var Jl=0,Cd=1,vn=2,dx=3,px=4,gx=5,ft=function(e,i,n){this.options=e=aN(e),this.sourceFile=e.sourceFile,this.keywords=Rn(Jj[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var r="";e.allowReserved!==!0&&(r=Ph[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(r+=" await")),this.reservedWords=Rn(r);var s=(r?r+" ":"")+Ph.strict;this.reservedWordsStrict=Rn(s),this.reservedWordsStrictBind=Rn(s+" "+Ph.strictBind),this.input=String(i),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf(`
`,n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Oi).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=O.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Zo),this.regexpState=null,this.privateNameStack=[]},Fi={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};ft.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)};Fi.inFunction.get=function(){return(this.currentVarScope().flags&$s)>0};Fi.inGenerator.get=function(){return(this.currentVarScope().flags&cx)>0&&!this.currentVarScope().inClassFieldInit};Fi.inAsync.get=function(){return(this.currentVarScope().flags&xd)>0&&!this.currentVarScope().inClassFieldInit};Fi.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&Jo)return!1;if(e.flags&$s)return(e.flags&xd)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Fi.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&Sd)>0||i||this.options.allowSuperOutsideMethod};Fi.allowDirectSuper.get=function(){return(this.currentThisScope().flags&fx)>0};Fi.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Fi.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&($s|Jo))>0||i};Fi.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Jo)>0};ft.extend=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var n=this,r=0;r<e.length;r++)n=e[r](n);return n};ft.parse=function(e,i){return new this(i,e).parse()};ft.parseExpressionAt=function(e,i,n){var r=new this(n,e,i);return r.nextToken(),r.parseExpression()};ft.tokenizer=function(e,i){return new this(i,e)};Object.defineProperties(ft.prototype,Fi);var Mt=ft.prototype,cN=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;Mt.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){hi.lastIndex=t,t+=hi.exec(this.input)[0].length;var e=cN.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){hi.lastIndex=t+e[0].length;var i=hi.exec(this.input),n=i.index+i[0].length,r=this.input.charAt(n);return r===";"||r==="}"||Oi.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(r)||r==="!"&&this.input.charAt(n+1)==="=")}t+=e[0].length,hi.lastIndex=t,t+=hi.exec(this.input)[0].length,this.input[t]===";"&&t++}};Mt.eat=function(t){return this.type===t?(this.next(),!0):!1};Mt.isContextual=function(t){return this.type===O.name&&this.value===t&&!this.containsEsc};Mt.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};Mt.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};Mt.canInsertSemicolon=function(){return this.type===O.eof||this.type===O.braceR||Oi.test(this.input.slice(this.lastTokEnd,this.start))};Mt.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Mt.semicolon=function(){!this.eat(O.semi)&&!this.insertSemicolon()&&this.unexpected()};Mt.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};Mt.expect=function(t){this.eat(t)||this.unexpected()};Mt.unexpected=function(t){this.raise(t??this.start,"Unexpected token")};var Ac=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Mt.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};Mt.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,n=t.doubleProto;if(!e)return i>=0||n>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),n>=0&&this.raiseRecoverable(n,"Redefinition of __proto__ property")};Mt.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Mt.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var re=ft.prototype;re.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==O.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var n=0,r=Object.keys(this.undefinedExports);n<r.length;n+=1){var s=r[n];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var $d={kind:"loop"},hN={kind:"switch"};re.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;hi.lastIndex=this.pos;var e=hi.exec(this.input),i=this.pos+e[0].length,n=this.input.charCodeAt(i);if(n===91||n===92)return!0;if(t)return!1;if(n===123||n>55295&&n<56320)return!0;if(un(n,!0)){for(var r=i+1;hs(n=this.input.charCodeAt(r),!0);)++r;if(n===92||n>55295&&n<56320)return!0;var s=this.input.slice(i,r);if(!eN.test(s))return!0}return!1};re.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;hi.lastIndex=this.pos;var t=hi.exec(this.input),e=this.pos+t[0].length,i;return!Oi.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(hs(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};re.parseStatement=function(t,e,i){var n=this.type,r=this.startNode(),s;switch(this.isLet(t)&&(n=O._var,s="let"),n){case O._break:case O._continue:return this.parseBreakContinueStatement(r,n.keyword);case O._debugger:return this.parseDebuggerStatement(r);case O._do:return this.parseDoStatement(r);case O._for:return this.parseForStatement(r);case O._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(r,!1,!t);case O._class:return t&&this.unexpected(),this.parseClass(r,!0);case O._if:return this.parseIfStatement(r);case O._return:return this.parseReturnStatement(r);case O._switch:return this.parseSwitchStatement(r);case O._throw:return this.parseThrowStatement(r);case O._try:return this.parseTryStatement(r);case O._const:case O._var:return s=s||this.value,t&&s!=="var"&&this.unexpected(),this.parseVarStatement(r,s);case O._while:return this.parseWhileStatement(r);case O._with:return this.parseWithStatement(r);case O.braceL:return this.parseBlock(!0,r);case O.semi:return this.parseEmptyStatement(r);case O._export:case O._import:if(this.options.ecmaVersion>10&&n===O._import){hi.lastIndex=this.pos;var o=hi.exec(this.input),a=this.pos+o[0].length,l=this.input.charCodeAt(a);if(l===40||l===46)return this.parseExpressionStatement(r,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),n===O._import?this.parseImport(r):this.parseExport(r,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(r,!0,!t);var c=this.value,h=this.parseExpression();return n===O.name&&h.type==="Identifier"&&this.eat(O.colon)?this.parseLabeledStatement(r,c,h,t):this.parseExpressionStatement(r,h)}};re.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(O.semi)||this.insertSemicolon()?t.label=null:this.type!==O.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var n=0;n<this.labels.length;++n){var r=this.labels[n];if((t.label==null||r.name===t.label.name)&&(r.kind!=null&&(i||r.kind==="loop")||t.label&&i))break}return n===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};re.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};re.parseDoStatement=function(t){return this.next(),this.labels.push($d),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(O._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(O.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};re.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push($d),this.enterScope(0),this.expect(O.parenL),this.type===O.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===O._var||this.type===O._const||i){var n=this.startNode(),r=i?"let":this.value;return this.next(),this.parseVar(n,!0,r),this.finishNode(n,"VariableDeclaration"),(this.type===O._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&n.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===O._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,n)):(e>-1&&this.unexpected(e),this.parseFor(t,n))}var s=this.isContextual("let"),o=!1,a=new Ac,l=this.parseExpression(e>-1?"await":!0,a);return this.type===O._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===O._in?e>-1&&this.unexpected(e):t.await=e>-1),s&&o&&this.raise(l.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(l,!1,a),this.checkLValPattern(l),this.parseForIn(t,l)):(this.checkExpressionErrors(a,!0),e>-1&&this.unexpected(e),this.parseFor(t,l))};re.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,lo|(i?0:nf),!1,e)};re.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(O._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};re.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(O.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};re.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(O.braceL),this.labels.push(hN),this.enterScope(0);for(var e,i=!1;this.type!==O.braceR;)if(this.type===O._case||this.type===O._default){var n=this.type===O._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),n?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(O.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};re.parseThrowStatement=function(t){return this.next(),Oi.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var uN=[];re.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?ux:0),this.checkLValPattern(t,e?px:vn),this.expect(O.parenR),t};re.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===O._catch){var e=this.startNode();this.next(),this.eat(O.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(O._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};re.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};re.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push($d),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};re.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};re.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};re.parseLabeledStatement=function(t,e,i,n){for(var r=0,s=this.labels;r<s.length;r+=1){var o=s[r];o.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===O._switch?"switch":null,l=this.labels.length-1;l>=0;l--){var c=this.labels[l];if(c.statementStart===t.start)c.statementStart=this.start,c.kind=a;else break}return this.labels.push({name:e,kind:a,statementStart:this.start}),t.body=this.parseStatement(n?n.indexOf("label")===-1?n+"label":n:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};re.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};re.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(O.braceL),t&&this.enterScope(0);this.type!==O.braceR;){var n=this.parseStatement(null);e.body.push(n)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};re.parseFor=function(t,e){return t.init=e,this.expect(O.semi),t.test=this.type===O.semi?null:this.parseExpression(),this.expect(O.semi),t.update=this.type===O.parenR?null:this.parseExpression(),this.expect(O.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};re.parseForIn=function(t,e){var i=this.type===O._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(O.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};re.parseVar=function(t,e,i,n){for(t.declarations=[],t.kind=i;;){var r=this.startNode();if(this.parseVarId(r,i),this.eat(O.eq)?r.init=this.parseMaybeAssign(e):!n&&i==="const"&&!(this.type===O._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!n&&r.id.type!=="Identifier"&&!(e&&(this.type===O._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):r.init=null,t.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(O.comma))break}return t};re.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?Cd:vn,!1)};var lo=1,nf=2,mx=4;re.parseFunction=function(t,e,i,n,r){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!n)&&(this.type===O.star&&e&nf&&this.unexpected(),t.generator=this.eat(O.star)),this.options.ecmaVersion>=8&&(t.async=!!n),e&lo&&(t.id=e&mx&&this.type!==O.name?null:this.parseIdent(),t.id&&!(e&nf)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?Cd:vn:dx));var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(kd(t.async,t.generator)),e&lo||(t.id=this.type===O.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,r),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(t,e&lo?"FunctionDeclaration":"FunctionExpression")};re.parseFunctionParams=function(t){this.expect(O.parenL),t.params=this.parseBindingList(O.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};re.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var n=this.enterClassBody(),r=this.startNode(),s=!1;for(r.body=[],this.expect(O.braceL);this.type!==O.braceR;){var o=this.parseClassElement(t.superClass!==null);o&&(r.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(s&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),s=!0):o.key&&o.key.type==="PrivateIdentifier"&&fN(n,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(r,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};re.parseClassElement=function(t){if(this.eat(O.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),n="",r=!1,s=!1,o="method",a=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(O.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===O.star?a=!0:n="static"}if(i.static=a,!n&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===O.star)&&!this.canInsertSemicolon()?s=!0:n="async"),!n&&(e>=9||!s)&&this.eat(O.star)&&(r=!0),!n&&!s&&!r){var l=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=l:n=l)}if(n?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=n,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===O.parenL||o!=="method"||r||s){var c=!i.static&&ec(i,"constructor"),h=c&&t;c&&o!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=c?"constructor":o,this.parseClassMethod(i,r,s,h)}else this.parseClassField(i);return i};re.isClassElementNameStart=function(){return this.type===O.name||this.type===O.privateId||this.type===O.num||this.type===O.string||this.type===O.bracketL||this.type.keyword};re.parseClassElementName=function(t){this.type===O.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};re.parseClassMethod=function(t,e,i,n){var r=t.key;t.kind==="constructor"?(e&&this.raise(r.start,"Constructor can't be a generator"),i&&this.raise(r.start,"Constructor can't be an async method")):t.static&&ec(t,"prototype")&&this.raise(r.start,"Classes may not have a static property named prototype");var s=t.value=this.parseMethod(e,i,n);return t.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),t.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),t.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};re.parseClassField=function(t){if(ec(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&ec(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(O.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};re.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(Jo|Sd);this.type!==O.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};re.parseClassId=function(t,e){this.type===O.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,vn,!1)):(e===!0&&this.unexpected(),t.id=null)};re.parseClassSuper=function(t){t.superClass=this.eat(O._extends)?this.parseExprSubscripts(null,!1):null};re.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};re.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(this.options.checkPrivateFields)for(var n=this.privateNameStack.length,r=n===0?null:this.privateNameStack[n-1],s=0;s<i.length;++s){var o=i[s];Ko(e,o.name)||(r?r.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};function fN(t,e){var i=e.key.name,n=t[i],r="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(r=(e.static?"s":"i")+e.kind),n==="iget"&&r==="iset"||n==="iset"&&r==="iget"||n==="sget"&&r==="sset"||n==="sset"&&r==="sget"?(t[i]="true",!1):n?!0:(t[i]=r,!1)}function ec(t,e){var i=t.computed,n=t.key;return!i&&(n.type==="Identifier"&&n.name===e||n.type==="Literal"&&n.value===e)}re.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==O.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};re.parseExport=function(t,e){if(this.next(),this.eat(O.star))return this.parseExportAllDeclaration(t,e);if(this.eat(O._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==O.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,n=t.specifiers;i<n.length;i+=1){var r=n[i];this.checkUnreserved(r.local),this.checkLocalExport(r.local),r.local.type==="Literal"&&this.raise(r.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};re.parseExportDeclaration=function(t){return this.parseStatement(null)};re.parseExportDefaultDeclaration=function(){var t;if(this.type===O._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,lo|mx,!1,t)}else if(this.type===O._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var n=this.parseMaybeAssign();return this.semicolon(),n}};re.checkExport=function(t,e,i){t&&(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),Ko(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};re.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var n=0,r=e.properties;n<r.length;n+=1){var s=r[n];this.checkPatternExport(t,s)}else if(i==="ArrayPattern")for(var o=0,a=e.elements;o<a.length;o+=1){var l=a[o];l&&this.checkPatternExport(t,l)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"?this.checkPatternExport(t,e.argument):i==="ParenthesizedExpression"&&this.checkPatternExport(t,e.expression)};re.checkVariableExport=function(t,e){if(t)for(var i=0,n=e;i<n.length;i+=1){var r=n[i];this.checkPatternExport(t,r.id)}};re.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};re.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};re.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(O.braceL);!this.eat(O.braceR);){if(i)i=!1;else if(this.expect(O.comma),this.afterTrailingComma(O.braceR))break;e.push(this.parseExportSpecifier(t))}return e};re.parseImport=function(t){return this.next(),this.type===O.string?(t.specifiers=uN,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===O.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};re.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,vn),this.finishNode(t,"ImportSpecifier")};re.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,vn),this.finishNode(t,"ImportDefaultSpecifier")};re.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,vn),this.finishNode(t,"ImportNamespaceSpecifier")};re.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===O.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(O.comma)))return t;if(this.type===O.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(O.braceL);!this.eat(O.braceR);){if(e)e=!1;else if(this.expect(O.comma),this.afterTrailingComma(O.braceR))break;t.push(this.parseImportSpecifier())}return t};re.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===O.string){var t=this.parseLiteral(this.value);return oN.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};re.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};re.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var bi=ft.prototype;bi.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var n=0,r=t.properties;n<r.length;n+=1){var s=r[n];this.toAssignable(s,e),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};bi.toAssignableList=function(t,e){for(var i=t.length,n=0;n<i;n++){var r=t[n];r&&this.toAssignable(r,e)}if(i){var s=t[i-1];this.options.ecmaVersion===6&&e&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return t};bi.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};bi.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==O.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};bi.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case O.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(O.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case O.braceL:return this.parseObj(!0)}return this.parseIdent()};bi.parseBindingList=function(t,e,i,n){for(var r=[],s=!0;!this.eat(t);)if(s?s=!1:this.expect(O.comma),e&&this.type===O.comma)r.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===O.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),r.push(o),this.type===O.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else r.push(this.parseAssignableListItem(n))}return r};bi.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};bi.parseBindingListItem=function(t){return t};bi.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(O.eq))return i;var n=this.startNodeAt(t,e);return n.left=i,n.right=this.parseMaybeAssign(),this.finishNode(n,"AssignmentPattern")};bi.checkLValSimple=function(t,e,i){e===void 0&&(e=Jl);var n=e!==Jl;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(n?"Binding ":"Assigning to ")+t.name+" in strict mode"),n&&(e===vn&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(Ko(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==gx&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":n&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return n&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(n?"Binding":"Assigning to")+" rvalue")}};bi.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=Jl),t.type){case"ObjectPattern":for(var n=0,r=t.properties;n<r.length;n+=1){var s=r[n];this.checkLValInnerPattern(s,e,i)}break;case"ArrayPattern":for(var o=0,a=t.elements;o<a.length;o+=1){var l=a[o];l&&this.checkLValInnerPattern(l,e,i)}break;default:this.checkLValSimple(t,e,i)}};bi.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=Jl),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var vi=function(e,i,n,r,s){this.token=e,this.isExpr=!!i,this.preserveSpace=!!n,this.override=r,this.generator=!!s},Fe={b_stat:new vi("{",!1),b_expr:new vi("{",!0),b_tmpl:new vi("${",!1),p_stat:new vi("(",!1),p_expr:new vi("(",!0),q_tmpl:new vi("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new vi("function",!1),f_expr:new vi("function",!0),f_expr_gen:new vi("function",!0,!1,null,!0),f_gen:new vi("function",!1,!1,null,!0)},_s=ft.prototype;_s.initialContext=function(){return[Fe.b_stat]};_s.curContext=function(){return this.context[this.context.length-1]};_s.braceIsBlock=function(t){var e=this.curContext();return e===Fe.f_expr||e===Fe.f_stat?!0:t===O.colon&&(e===Fe.b_stat||e===Fe.b_expr)?!e.isExpr:t===O._return||t===O.name&&this.exprAllowed?Oi.test(this.input.slice(this.lastTokEnd,this.start)):t===O._else||t===O.semi||t===O.eof||t===O.parenR||t===O.arrow?!0:t===O.braceL?e===Fe.b_stat:t===O._var||t===O._const||t===O.name?!1:!this.exprAllowed};_s.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};_s.updateContext=function(t){var e,i=this.type;i.keyword&&t===O.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};_s.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};O.parenR.updateContext=O.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===Fe.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};O.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?Fe.b_stat:Fe.b_expr),this.exprAllowed=!0};O.dollarBraceL.updateContext=function(){this.context.push(Fe.b_tmpl),this.exprAllowed=!0};O.parenL.updateContext=function(t){var e=t===O._if||t===O._for||t===O._with||t===O._while;this.context.push(e?Fe.p_stat:Fe.p_expr),this.exprAllowed=!0};O.incDec.updateContext=function(){};O._function.updateContext=O._class.updateContext=function(t){t.beforeExpr&&t!==O._else&&!(t===O.semi&&this.curContext()!==Fe.p_stat)&&!(t===O._return&&Oi.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===O.colon||t===O.braceL)&&this.curContext()===Fe.b_stat)?this.context.push(Fe.f_expr):this.context.push(Fe.f_stat),this.exprAllowed=!1};O.backQuote.updateContext=function(){this.curContext()===Fe.q_tmpl?this.context.pop():this.context.push(Fe.q_tmpl),this.exprAllowed=!1};O.star.updateContext=function(t){if(t===O._function){var e=this.context.length-1;this.context[e]===Fe.f_expr?this.context[e]=Fe.f_expr_gen:this.context[e]=Fe.f_gen}this.exprAllowed=!0};O.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==O.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var pe=ft.prototype;pe.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var n=t.key,r;switch(n.type){case"Identifier":r=n.name;break;case"Literal":r=String(n.value);break;default:return}var s=t.kind;if(this.options.ecmaVersion>=6){r==="__proto__"&&s==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=n.start):this.raiseRecoverable(n.start,"Redefinition of __proto__ property")),e.proto=!0);return}r="$"+r;var o=e[r];if(o){var a;s==="init"?a=this.strict&&o.init||o.get||o.set:a=o.init||o[s],a&&this.raiseRecoverable(n.start,"Redefinition of property")}else o=e[r]={init:!1,get:!1,set:!1};o[s]=!0}};pe.parseExpression=function(t,e){var i=this.start,n=this.startLoc,r=this.parseMaybeAssign(t,e);if(this.type===O.comma){var s=this.startNodeAt(i,n);for(s.expressions=[r];this.eat(O.comma);)s.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(s,"SequenceExpression")}return r};pe.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var n=!1,r=-1,s=-1,o=-1;e?(r=e.parenthesizedAssign,s=e.trailingComma,o=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new Ac,n=!0);var a=this.start,l=this.startLoc;(this.type===O.parenL||this.type===O.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var c=this.parseMaybeConditional(t,e);if(i&&(c=i.call(this,c,a,l)),this.type.isAssign){var h=this.startNodeAt(a,l);return h.operator=this.value,this.type===O.eq&&(c=this.toAssignable(c,!1,e)),n||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=c.start&&(e.shorthandAssign=-1),this.type===O.eq?this.checkLValPattern(c):this.checkLValSimple(c),h.left=c,this.next(),h.right=this.parseMaybeAssign(t),o>-1&&(e.doubleProto=o),this.finishNode(h,"AssignmentExpression")}else n&&this.checkExpressionErrors(e,!0);return r>-1&&(e.parenthesizedAssign=r),s>-1&&(e.trailingComma=s),c};pe.parseMaybeConditional=function(t,e){var i=this.start,n=this.startLoc,r=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return r;if(this.eat(O.question)){var s=this.startNodeAt(i,n);return s.test=r,s.consequent=this.parseMaybeAssign(),this.expect(O.colon),s.alternate=this.parseMaybeAssign(t),this.finishNode(s,"ConditionalExpression")}return r};pe.parseExprOps=function(t,e){var i=this.start,n=this.startLoc,r=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||r.start===i&&r.type==="ArrowFunctionExpression"?r:this.parseExprOp(r,i,n,-1,t)};pe.parseExprOp=function(t,e,i,n,r){var s=this.type.binop;if(s!=null&&(!r||this.type!==O._in)&&s>n){var o=this.type===O.logicalOR||this.type===O.logicalAND,a=this.type===O.coalesce;a&&(s=O.logicalAND.binop);var l=this.value;this.next();var c=this.start,h=this.startLoc,u=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,r),c,h,s,r),f=this.buildBinary(e,i,t,u,l,o||a);return(o&&this.type===O.coalesce||a&&(this.type===O.logicalOR||this.type===O.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(f,e,i,n,r)}return t};pe.buildBinary=function(t,e,i,n,r,s){n.type==="PrivateIdentifier"&&this.raise(n.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(t,e);return o.left=i,o.operator=r,o.right=n,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")};pe.parseMaybeUnary=function(t,e,i,n){var r=this.start,s=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(n),e=!0;else if(this.type.prefix){var a=this.startNode(),l=this.type===O.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,l,n),this.checkExpressionErrors(t,!0),l?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&a.argument.type==="Identifier"?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&Ox(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):e=!0,o=this.finishNode(a,l?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===O.privateId)(n||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==O._in&&this.unexpected();else{if(o=this.parseExprSubscripts(t,n),this.checkExpressionErrors(t))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var c=this.startNodeAt(r,s);c.operator=this.value,c.prefix=!1,c.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(c,"UpdateExpression")}}if(!i&&this.eat(O.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(r,s,o,this.parseMaybeUnary(null,!1,!1,n),"**",!1);else return o};function Ox(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&Ox(t.expression)}pe.parseExprSubscripts=function(t,e){var i=this.start,n=this.startLoc,r=this.parseExprAtom(t,e);if(r.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return r;var s=this.parseSubscripts(r,i,n,!1,e);return t&&s.type==="MemberExpression"&&(t.parenthesizedAssign>=s.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=s.start&&(t.parenthesizedBind=-1),t.trailingComma>=s.start&&(t.trailingComma=-1)),s};pe.parseSubscripts=function(t,e,i,n,r){for(var s=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,o=!1;;){var a=this.parseSubscript(t,e,i,n,s,o,r);if(a.optional&&(o=!0),a===t||a.type==="ArrowFunctionExpression"){if(o){var l=this.startNodeAt(e,i);l.expression=a,a=this.finishNode(l,"ChainExpression")}return a}t=a}};pe.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(O.arrow)};pe.parseSubscriptAsyncArrow=function(t,e,i,n){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,n)};pe.parseSubscript=function(t,e,i,n,r,s,o){var a=this.options.ecmaVersion>=11,l=a&&this.eat(O.questionDot);n&&l&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var c=this.eat(O.bracketL);if(c||l&&this.type!==O.parenL&&this.type!==O.backQuote||this.eat(O.dot)){var h=this.startNodeAt(e,i);h.object=t,c?(h.property=this.parseExpression(),this.expect(O.bracketR)):this.type===O.privateId&&t.type!=="Super"?h.property=this.parsePrivateIdent():h.property=this.parseIdent(this.options.allowReserved!=="never"),h.computed=!!c,a&&(h.optional=l),t=this.finishNode(h,"MemberExpression")}else if(!n&&this.eat(O.parenL)){var u=new Ac,f=this.yieldPos,d=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var g=this.parseExprList(O.parenR,this.options.ecmaVersion>=8,!1,u);if(r&&!l&&this.shouldParseAsyncArrow())return this.checkPatternErrors(u,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=f,this.awaitPos=d,this.awaitIdentPos=p,this.parseSubscriptAsyncArrow(e,i,g,o);this.checkExpressionErrors(u,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=d||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var m=this.startNodeAt(e,i);m.callee=t,m.arguments=g,a&&(m.optional=l),t=this.finishNode(m,"CallExpression")}else if(this.type===O.backQuote){(l||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var b=this.startNodeAt(e,i);b.tag=t,b.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(b,"TaggedTemplateExpression")}return t};pe.parseExprAtom=function(t,e,i){this.type===O.slash&&this.readRegexp();var n,r=this.potentialArrowAt===this.start;switch(this.type){case O._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),n=this.startNode(),this.next(),this.type===O.parenL&&!this.allowDirectSuper&&this.raise(n.start,"super() call outside constructor of a subclass"),this.type!==O.dot&&this.type!==O.bracketL&&this.type!==O.parenL&&this.unexpected(),this.finishNode(n,"Super");case O._this:return n=this.startNode(),this.next(),this.finishNode(n,"ThisExpression");case O.name:var s=this.start,o=this.startLoc,a=this.containsEsc,l=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&l.name==="async"&&!this.canInsertSemicolon()&&this.eat(O._function))return this.overrideContext(Fe.f_expr),this.parseFunction(this.startNodeAt(s,o),0,!1,!0,e);if(r&&!this.canInsertSemicolon()){if(this.eat(O.arrow))return this.parseArrowExpression(this.startNodeAt(s,o),[l],!1,e);if(this.options.ecmaVersion>=8&&l.name==="async"&&this.type===O.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return l=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(O.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,o),[l],!0,e)}return l;case O.regexp:var c=this.value;return n=this.parseLiteral(c.value),n.regex={pattern:c.pattern,flags:c.flags},n;case O.num:case O.string:return this.parseLiteral(this.value);case O._null:case O._true:case O._false:return n=this.startNode(),n.value=this.type===O._null?null:this.type===O._true,n.raw=this.type.keyword,this.next(),this.finishNode(n,"Literal");case O.parenL:var h=this.start,u=this.parseParenAndDistinguishExpression(r,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(u)&&(t.parenthesizedAssign=h),t.parenthesizedBind<0&&(t.parenthesizedBind=h)),u;case O.bracketL:return n=this.startNode(),this.next(),n.elements=this.parseExprList(O.bracketR,!0,!0,t),this.finishNode(n,"ArrayExpression");case O.braceL:return this.overrideContext(Fe.b_expr),this.parseObj(!1,t);case O._function:return n=this.startNode(),this.next(),this.parseFunction(n,0);case O._class:return this.parseClass(this.startNode(),!1);case O._new:return this.parseNew();case O.backQuote:return this.parseTemplate();case O._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};pe.parseExprAtomDefault=function(){this.unexpected()};pe.parseExprImport=function(t){var e=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var i=this.parseIdent(!0);if(this.type===O.parenL&&!t)return this.parseDynamicImport(e);if(this.type===O.dot)return e.meta=i,this.parseImportMeta(e);this.unexpected()};pe.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(O.parenR)){var e=this.start;this.eat(O.comma)&&this.eat(O.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};pe.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};pe.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};pe.parseParenExpression=function(){this.expect(O.parenL);var t=this.parseExpression();return this.expect(O.parenR),t};pe.shouldParseArrow=function(t){return!this.canInsertSemicolon()};pe.parseParenAndDistinguishExpression=function(t,e){var i=this.start,n=this.startLoc,r,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,a=this.startLoc,l=[],c=!0,h=!1,u=new Ac,f=this.yieldPos,d=this.awaitPos,p;for(this.yieldPos=0,this.awaitPos=0;this.type!==O.parenR;)if(c?c=!1:this.expect(O.comma),s&&this.afterTrailingComma(O.parenR,!0)){h=!0;break}else if(this.type===O.ellipsis){p=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===O.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else l.push(this.parseMaybeAssign(!1,u,this.parseParenItem));var g=this.lastTokEnd,m=this.lastTokEndLoc;if(this.expect(O.parenR),t&&this.shouldParseArrow(l)&&this.eat(O.arrow))return this.checkPatternErrors(u,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=f,this.awaitPos=d,this.parseParenArrowList(i,n,l,e);(!l.length||h)&&this.unexpected(this.lastTokStart),p&&this.unexpected(p),this.checkExpressionErrors(u,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=d||this.awaitPos,l.length>1?(r=this.startNodeAt(o,a),r.expressions=l,this.finishNodeAt(r,"SequenceExpression",g,m)):r=l[0]}else r=this.parseParenExpression();if(this.options.preserveParens){var b=this.startNodeAt(i,n);return b.expression=r,this.finishNode(b,"ParenthesizedExpression")}else return r};pe.parseParenItem=function(t){return t};pe.parseParenArrowList=function(t,e,i,n){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,n)};var dN=[];pe.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(O.dot)){t.meta=e;var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var n=this.start,r=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),n,r,!0,!1),this.eat(O.parenL)?t.arguments=this.parseExprList(O.parenR,this.options.ecmaVersion>=8,!1):t.arguments=dN,this.finishNode(t,"NewExpression")};pe.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===O.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===O.backQuote,this.finishNode(i,"TemplateElement")};pe.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var n=this.parseTemplateElement({isTagged:e});for(i.quasis=[n];!n.tail;)this.type===O.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(O.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(O.braceR),i.quasis.push(n=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};pe.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===O.name||this.type===O.num||this.type===O.string||this.type===O.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===O.star)&&!Oi.test(this.input.slice(this.lastTokEnd,this.start))};pe.parseObj=function(t,e){var i=this.startNode(),n=!0,r={};for(i.properties=[],this.next();!this.eat(O.braceR);){if(n)n=!1;else if(this.expect(O.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(O.braceR))break;var s=this.parseProperty(t,e);t||this.checkPropClash(s,r,e),i.properties.push(s)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};pe.parseProperty=function(t,e){var i=this.startNode(),n,r,s,o;if(this.options.ecmaVersion>=9&&this.eat(O.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===O.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===O.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(s=this.start,o=this.startLoc),t||(n=this.eat(O.star)));var a=this.containsEsc;return this.parsePropertyName(i),!t&&!a&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(i)?(r=!0,n=this.options.ecmaVersion>=9&&this.eat(O.star),this.parsePropertyName(i)):r=!1,this.parsePropertyValue(i,t,n,r,s,o,e,a),this.finishNode(i,"Property")};pe.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};pe.parsePropertyValue=function(t,e,i,n,r,s,o,a){(i||n)&&this.type===O.colon&&this.unexpected(),this.eat(O.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),t.kind="init"):this.options.ecmaVersion>=6&&this.type===O.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,n)):!e&&!a&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==O.comma&&this.type!==O.braceR&&this.type!==O.eq?((i||n)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||n)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r),t.kind="init",e?t.value=this.parseMaybeDefault(r,s,this.copyNode(t.key)):this.type===O.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),t.value=this.parseMaybeDefault(r,s,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};pe.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(O.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(O.bracketR),t.key;t.computed=!1}return t.key=this.type===O.num||this.type===O.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};pe.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};pe.parseMethod=function(t,e,i){var n=this.startNode(),r=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=t),this.options.ecmaVersion>=8&&(n.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(kd(e,n.generator)|Sd|(i?fx:0)),this.expect(O.parenL),n.params=this.parseBindingList(O.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1,!0,!1),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(n,"FunctionExpression")};pe.parseArrowExpression=function(t,e,i,n){var r=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(kd(i,!1)|hx),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,n),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(t,"ArrowFunctionExpression")};pe.parseFunctionBody=function(t,e,i,n){var r=e&&this.type!==O.braceL,s=this.strict,o=!1;if(r)t.body=this.parseMaybeAssign(n),t.expression=!0,this.checkParams(t,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!s||a)&&(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var l=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(t,!s&&!o&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,gx),t.body=this.parseBlock(!1,void 0,o&&!s),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=l}this.exitScope()};pe.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var n=i[e];if(n.type!=="Identifier")return!1}return!0};pe.checkParams=function(t,e){for(var i=Object.create(null),n=0,r=t.params;n<r.length;n+=1){var s=r[n];this.checkLValInnerPattern(s,Cd,e?null:i)}};pe.parseExprList=function(t,e,i,n){for(var r=[],s=!0;!this.eat(t);){if(s)s=!1;else if(this.expect(O.comma),e&&this.afterTrailingComma(t))break;var o=void 0;i&&this.type===O.comma?o=null:this.type===O.ellipsis?(o=this.parseSpread(n),n&&this.type===O.comma&&n.trailingComma<0&&(n.trailingComma=this.start)):o=this.parseMaybeAssign(!1,n),r.push(o)}return r};pe.checkUnreserved=function(t){var e=t.start,i=t.end,n=t.name;if(this.inGenerator&&n==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&n==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&n==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(n==="arguments"||n==="await")&&this.raise(e,"Cannot use "+n+" in class static initialization block"),this.keywords.test(n)&&this.raise(e,"Unexpected keyword '"+n+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var r=this.strict?this.reservedWordsStrict:this.reservedWords;r.test(n)&&(!this.inAsync&&n==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+n+"' is reserved"))}};pe.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};pe.parseIdentNode=function(){var t=this.startNode();return this.type===O.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),t};pe.parsePrivateIdent=function(){var t=this.startNode();return this.type===O.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};pe.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===O.semi||this.canInsertSemicolon()||this.type!==O.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(O.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};pe.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var tc=ft.prototype;tc.raise=function(t,e){var i=lx(this.input,t);e+=" ("+i.line+":"+i.column+")";var n=new SyntaxError(e);throw n.pos=t,n.loc=i,n.raisedAt=this.pos,n};tc.raiseRecoverable=tc.raise;tc.curPosition=function(){if(this.options.locations)return new Io(this.curLine,this.pos-this.lineStart)};var Fn=ft.prototype,pN=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Fn.enterScope=function(t){this.scopeStack.push(new pN(t))};Fn.exitScope=function(){this.scopeStack.pop()};Fn.treatFunctionsAsVarInScope=function(t){return t.flags&$s||!this.inModule&&t.flags&Zo};Fn.declareName=function(t,e,i){var n=!1;if(e===vn){var r=this.currentScope();n=r.lexical.indexOf(t)>-1||r.functions.indexOf(t)>-1||r.var.indexOf(t)>-1,r.lexical.push(t),this.inModule&&r.flags&Zo&&delete this.undefinedExports[t]}else if(e===px){var s=this.currentScope();s.lexical.push(t)}else if(e===dx){var o=this.currentScope();this.treatFunctionsAsVar?n=o.lexical.indexOf(t)>-1:n=o.lexical.indexOf(t)>-1||o.var.indexOf(t)>-1,o.functions.push(t)}else for(var a=this.scopeStack.length-1;a>=0;--a){var l=this.scopeStack[a];if(l.lexical.indexOf(t)>-1&&!(l.flags&ux&&l.lexical[0]===t)||!this.treatFunctionsAsVarInScope(l)&&l.functions.indexOf(t)>-1){n=!0;break}if(l.var.push(t),this.inModule&&l.flags&Zo&&delete this.undefinedExports[t],l.flags&wd)break}n&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};Fn.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};Fn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Fn.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&wd)return e}};Fn.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&wd&&!(e.flags&hx))return e}};var Ec=function(e,i,n){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new Qc(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},ea=ft.prototype;ea.startNode=function(){return new Ec(this,this.start,this.startLoc)};ea.startNodeAt=function(t,e){return new Ec(this,t,e)};function bx(t,e,i,n){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=n),this.options.ranges&&(t.range[1]=i),t}ea.finishNode=function(t,e){return bx.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};ea.finishNodeAt=function(t,e,i,n){return bx.call(this,t,e,i,n)};ea.copyNode=function(t){var e=new Ec(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var vx="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",yx=vx+" Extended_Pictographic",xx=yx,Sx=xx+" EBase EComp EMod EPres ExtPict",wx=Sx,gN=wx,mN={9:vx,10:yx,11:xx,12:Sx,13:wx,14:gN},ON="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",bN={9:"",10:"",11:"",12:"",13:"",14:ON},_O="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",kx="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Cx=kx+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",$x=Cx+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",_x=$x+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Px=_x+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",vN=Px+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",yN={9:kx,10:Cx,11:$x,12:_x,13:Px,14:vN},Tx={};function xN(t){var e=Tx[t]={binary:Rn(mN[t]+" "+_O),binaryOfStrings:Rn(bN[t]),nonBinary:{General_Category:Rn(_O),Script:Rn(yN[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}for(var Qh=0,PO=[9,10,11,12,13,14];Qh<PO.length;Qh+=1){var SN=PO[Qh];xN(SN)}var ee=ft.prototype,zi=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Tx[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};zi.prototype.reset=function(e,i,n){var r=n.indexOf("v")!==-1,s=n.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=n,r&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)};zi.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)};zi.prototype.at=function(e,i){i===void 0&&(i=!1);var n=this.source,r=n.length;if(e>=r)return-1;var s=n.charCodeAt(e);if(!(i||this.switchU)||s<=55295||s>=57344||e+1>=r)return s;var o=n.charCodeAt(e+1);return o>=56320&&o<=57343?(s<<10)+o-56613888:s};zi.prototype.nextIndex=function(e,i){i===void 0&&(i=!1);var n=this.source,r=n.length;if(e>=r)return r;var s=n.charCodeAt(e),o;return!(i||this.switchU)||s<=55295||s>=57344||e+1>=r||(o=n.charCodeAt(e+1))<56320||o>57343?e+1:e+2};zi.prototype.current=function(e){return e===void 0&&(e=!1),this.at(this.pos,e)};zi.prototype.lookahead=function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)};zi.prototype.advance=function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)};zi.prototype.eat=function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1};zi.prototype.eatChars=function(e,i){i===void 0&&(i=!1);for(var n=this.pos,r=0,s=e;r<s.length;r+=1){var o=s[r],a=this.at(n,i);if(a===-1||a!==o)return!1;n=this.nextIndex(n,i)}return this.pos=n,!0};ee.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,n=!1,r=!1,s=0;s<i.length;s++){var o=i.charAt(s);e.indexOf(o)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(o,s+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),o==="u"&&(n=!0),o==="v"&&(r=!0)}this.options.ecmaVersion>=15&&n&&r&&this.raise(t.start,"Invalid regular expression flag")};ee.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))};ee.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var n=i[e];t.groupNames.indexOf(n)===-1&&t.raise("Invalid named capture referenced")}};ee.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};ee.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};ee.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};ee.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};ee.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};ee.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};ee.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var n=0,r=-1;if(this.regexp_eatDecimalDigits(t)&&(n=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue),t.eat(125)))return r!==-1&&r<n&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};ee.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};ee.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};ee.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};ee.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};ee.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};ee.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};ee.regexp_eatSyntaxCharacter=function(t){var e=t.current();return Qx(e)?(t.lastIntValue=e,t.advance(),!0):!1};function Qx(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}ee.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!Qx(i);)t.advance();return t.pos!==e};ee.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};ee.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t)){t.groupNames.indexOf(t.lastStringValue)!==-1&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue);return}t.raise("Invalid group")}};ee.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};ee.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Vn(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Vn(t.lastIntValue);return!0}return!1};ee.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,n=t.current(i);return t.advance(i),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(n=t.lastIntValue),wN(n)?(t.lastIntValue=n,!0):(t.pos=e,!1)};function wN(t){return un(t,!0)||t===36||t===95}ee.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,n=t.current(i);return t.advance(i),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(n=t.lastIntValue),kN(n)?(t.lastIntValue=n,!0):(t.pos=e,!1)};function kN(t){return hs(t,!0)||t===36||t===95||t===8204||t===8205}ee.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};ee.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};ee.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};ee.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};ee.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};ee.regexp_eatZero=function(t){return t.current()===48&&!Rc(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};ee.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};ee.regexp_eatControlLetter=function(t){var e=t.current();return Ax(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function Ax(t){return t>=65&&t<=90||t>=97&&t<=122}ee.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,n=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var r=t.lastIntValue;if(n&&r>=55296&&r<=56319){var s=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var o=t.lastIntValue;if(o>=56320&&o<=57343)return t.lastIntValue=(r-55296)*1024+(o-56320)+65536,!0}t.pos=s,t.lastIntValue=r}return!0}if(n&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&CN(t.lastIntValue))return!0;n&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function CN(t){return t>=0&&t<=1114111}ee.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};ee.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var Ex=0,fn=1,fi=2;ee.regexp_eatCharacterClassEscape=function(t){var e=t.current();if($N(e))return t.lastIntValue=-1,t.advance(),fn;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var n;if(t.eat(123)&&(n=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&n===fi&&t.raise("Invalid property name"),n;t.raise("Invalid property name")}return Ex};function $N(t){return t===100||t===68||t===115||t===83||t===119||t===87}ee.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var n=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,n),fn}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,r)}return Ex};ee.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){Ko(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};ee.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return fn;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return fi;t.raise("Invalid property name")};ee.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";Rx(e=t.current());)t.lastStringValue+=Vn(e),t.advance();return t.lastStringValue!==""};function Rx(t){return Ax(t)||t===95}ee.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";_N(e=t.current());)t.lastStringValue+=Vn(e),t.advance();return t.lastStringValue!==""};function _N(t){return Rx(t)||Rc(t)}ee.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};ee.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===fi&&t.raise("Negated character class may contain strings"),!0}return!1};ee.regexp_classContents=function(t){return t.current()===93?fn:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),fn)};ee.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};ee.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||Mx(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var n=t.current();return n!==93?(t.lastIntValue=n,t.advance(),!0):!1};ee.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};ee.regexp_classSetExpression=function(t){var e=fn,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===fi&&(e=fi);for(var n=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==fi&&(e=fn);continue}t.raise("Invalid character in character class")}if(n!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(n!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===fi&&(e=fi)}};ee.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var n=t.lastIntValue;return i!==-1&&n!==-1&&i>n&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};ee.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?fn:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};ee.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),n=this.regexp_classContents(t);if(t.eat(93))return i&&n===fi&&t.raise("Negated character class may contain strings"),n;t.pos=e}if(t.eat(92)){var r=this.regexp_eatCharacterClassEscape(t);if(r)return r;t.pos=e}return null};ee.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};ee.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===fi&&(e=fi);return e};ee.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?fn:fi};ee.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&PN(i)||TN(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function PN(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}function TN(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}ee.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return QN(e)?(t.lastIntValue=e,t.advance(),!0):!1};function QN(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}ee.regexp_eatClassControlLetter=function(t){var e=t.current();return Rc(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};ee.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};ee.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Rc(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function Rc(t){return t>=48&&t<=57}ee.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Ix(i=t.current());)t.lastIntValue=16*t.lastIntValue+Zx(i),t.advance();return t.pos!==e};function Ix(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function Zx(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}ee.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};ee.regexp_eatOctalDigit=function(t){var e=t.current();return Mx(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function Mx(t){return t>=48&&t<=55}ee.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var n=0;n<e;++n){var r=t.current();if(!Ix(r))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+Zx(r),t.advance()}return!0};var _d=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new Qc(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},$e=ft.prototype;$e.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new _d(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};$e.getToken=function(){return this.next(),new _d(this)};typeof Symbol<"u"&&($e[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===O.eof,value:e}}}});$e.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(O.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};$e.readToken=function(t){return un(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};$e.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};$e.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var n=void 0,r=e;(n=sx(this.input,r,this.pos))>-1;)++this.curLine,r=this.lineStart=n;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};$e.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),n=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!Cs(n);)n=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};$e.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&ox.test(String.fromCharCode(t)))++this.pos;else break e}}};$e.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};$e.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(O.ellipsis)):(++this.pos,this.finishToken(O.dot))};$e.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(O.assign,2):this.finishOp(O.slash,1)};$e.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,n=t===42?O.star:O.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,n=O.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(O.assign,i+1):this.finishOp(n,i)};$e.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(O.assign,3)}return this.finishOp(t===124?O.logicalOR:O.logicalAND,2)}return e===61?this.finishOp(O.assign,2):this.finishOp(t===124?O.bitwiseOR:O.bitwiseAND,1)};$e.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(O.assign,2):this.finishOp(O.bitwiseXOR,1)};$e.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Oi.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(O.incDec,2):e===61?this.finishOp(O.assign,2):this.finishOp(O.plusMin,1)};$e.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(O.assign,i+1):this.finishOp(O.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(O.relational,i))};$e.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(O.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(O.arrow)):this.finishOp(t===61?O.eq:O.prefix,1)};$e.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(O.questionDot,2)}if(e===63){if(t>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(O.assign,3)}return this.finishOp(O.coalesce,2)}}return this.finishOp(O.question,1)};$e.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),un(e,!0)||e===92))return this.finishToken(O.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Vn(e)+"'")};$e.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(O.parenL);case 41:return++this.pos,this.finishToken(O.parenR);case 59:return++this.pos,this.finishToken(O.semi);case 44:return++this.pos,this.finishToken(O.comma);case 91:return++this.pos,this.finishToken(O.bracketL);case 93:return++this.pos,this.finishToken(O.bracketR);case 123:return++this.pos,this.finishToken(O.braceL);case 125:return++this.pos,this.finishToken(O.braceR);case 58:return++this.pos,this.finishToken(O.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(O.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(O.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Vn(t)+"'")};$e.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};$e.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var n=this.input.charAt(this.pos);if(Oi.test(n)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(n==="[")e=!0;else if(n==="]"&&e)e=!1;else if(n==="/"&&!e)break;t=n==="\\"}++this.pos}var r=this.input.slice(i,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new zi(this));a.reset(i,r,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var l=null;try{l=new RegExp(r,o)}catch{}return this.finishToken(O.regexp,{pattern:r,flags:o,value:l})};$e.readInt=function(t,e,i){for(var n=this.options.ecmaVersion>=12&&e===void 0,r=i&&this.input.charCodeAt(this.pos)===48,s=this.pos,o=0,a=0,l=0,c=e??1/0;l<c;++l,++this.pos){var h=this.input.charCodeAt(this.pos),u=void 0;if(n&&h===95){r&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),l===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=h;continue}if(h>=97?u=h-97+10:h>=65?u=h-65+10:h>=48&&h<=57?u=h-48:u=1/0,u>=t)break;a=h,o=o*t+u}return n&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||e!=null&&this.pos-s!==e?null:o};function AN(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}function Dx(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}$e.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=Dx(this.input.slice(e,this.pos)),++this.pos):un(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(O.num,i)};$e.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var n=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&n===110){var r=Dx(this.input.slice(e,this.pos));return++this.pos,un(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(O.num,r)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),n===46&&!i&&(++this.pos,this.readInt(10),n=this.input.charCodeAt(this.pos)),(n===69||n===101)&&!i&&(n=this.input.charCodeAt(++this.pos),(n===43||n===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),un(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=AN(this.input.slice(e,this.pos),i);return this.finishToken(O.num,s)};$e.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};$e.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var n=this.input.charCodeAt(this.pos);if(n===t)break;n===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):n===8232||n===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Cs(n)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(O.string,e)};var Lx={};$e.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===Lx)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};$e.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Lx;this.raise(t,e)};$e.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===O.template||this.type===O.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(O.dollarBraceL)):(++this.pos,this.finishToken(O.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(O.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(Cs(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};$e.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(O.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};$e.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Vn(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(n,8);return r>255&&(n=n.slice(0,-1),r=parseInt(n,8)),this.pos+=n.length-1,e=this.input.charCodeAt(this.pos),(n!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-n.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return Cs(e)?"":String.fromCharCode(e)}};$e.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};$e.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,n=this.options.ecmaVersion>=6;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(hs(r,n))this.pos+=r<=65535?1:2;else if(r===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(e?un:hs)(o,n)||this.invalidStringToken(s,"Invalid Unicode escape"),t+=Vn(o),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};$e.readWord=function(){var t=this.readWord1(),e=O.name;return this.keywords.test(t)&&(e=yd[t]),this.finishToken(e,t)};var EN="8.10.0";ft.acorn={Parser:ft,version:EN,defaultOptions:tf,Position:Io,SourceLocation:Qc,getLineInfo:lx,Node:Ec,TokenType:Te,tokTypes:O,keywordTypes:yd,TokContext:vi,tokContexts:Fe,isIdentifierChar:hs,isIdentifierStart:un,Token:_d,isNewLine:Cs,lineBreak:Oi,lineBreakG:nN,nonASCIIwhitespace:ox};function RN(t,e){return ft.parse(t,e)}function IN(t){const e=RN(t,{ecmaVersion:"latest"}),i=new Set;function n(r){if(r.type==="Identifier")i.add(r.name);else if(r.type==="MemberExpression")n(r.object);else for(const s in r)r[s]&&typeof r[s]=="object"&&n(r[s])}return n(e),Array.from(i)}function ZN(t,e){const i=new Set,n=new Set,r={},s=[];function o(l){for(const c in l){if(typeof l[c]=="object"){o(l[c]);continue}typeof l[c]=="string"&&/^{{(.*)}}$/.test(l[c])&&IN(l[c]).forEach(u=>n.add(u))}}function a(l){l.attrs.key&&i.add(l.attrs.key),o(l.attrs),l.children.forEach(a)}t.forEach(l=>a(l.root));for(const l in e){if(l.endsWith(".css")){s.push(l);continue}for(const c in e[l]){const h=e[l][c];typeof h=="object"&&h.alioth&&(h.alioth==="widget"&&i.has(h.data.key)&&(r[l]||(r[l]=[]),r[l].push(c)),h.alioth==="state"&&n.has(h.data.key)&&(r[l]||(r[l]=[]),r[l].push(c)))}}return Object.entries(r).reduce((l,[c,h])=>`${l}export {${h.join(",")}} from '${c}'
`,"")+s.map(l=>`import '${l}'`).join(`
`)}var MN=Object.defineProperty,DN=Object.getOwnPropertyDescriptor,jx=(t,e,i,n)=>{for(var r=n>1?void 0:n?DN(e,i):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(r=(n?o(e,i,r):o(r))||r);return n&&r&&MN(e,i,r),r};let Xn=class{constructor(){this.componentMap=Rj,this.getWidget=ws,this.headers=[{label:"实时预览",component:Nj,handler(){ix(Zj,{},{title:"预览页面"})}},{label:"下载",component:Wj,handler(){const{presets:t}=Ih(rr(Ro));kO("data.json",JSON.stringify({docs:kt(ht).toJSON(),presets:t}))}},{label:"依赖",component:Gj,handler(){const{graph:t}=Ih(rr(Ro)),e=G(kt(ht).docs);kO("entry.js",ZN(e,t))}}],this.zones=[{component:"Property",label:"组件property",name:"Property",isActive:({instance:t})=>!!(t!=null&&t.activeNode),props:{type:"props"},x:600,y:600,transition:"left"},{component:"Terminal",label:"中断",name:"terminal",isActive:()=>!0,props:{},x:100,y:300,transition:"left"},{component:"Property",label:"事件",name:"Event",isActive:({instance:t})=>!!(t!=null&&t.activeNode),props:{type:"events"},x:600,y:600,transition:"left"},{component:"ImportList",label:"引入",name:"importFunc",props:{},isActive:()=>!0,x:0,y:580,transition:"bottom"},{component:"Uno",label:"样式",name:"class",isActive:({instance:t})=>!!(t!=null&&t.activeNode),x:800,y:400,transition:"right",props:{}},{component:"Events",label:"组件events",name:"events",isActive:()=>!1,x:600,y:600,transition:"bottom",props:{}}]}addZone(t){this.zones.push(t)}addHeader(t){this.headers.push(t)}async init(){window.$alioth_zone=t=>{this.addZone(t)},window.$alioth_header=t=>{this.addHeader(t)},window.$alioth_view=({key:t,component:e})=>{this.componentMap[t]=e}}};jx([rc],Xn.prototype,"init",1);Xn=jx([us,fs("config")],Xn);const LN={"w-full":"","h-12":"","border-b-solid":"","border-font-t":"",flex:"","flex-items-center":"","justify-between":"","p-x-8":""},jN=Z("div",null,[Z("h2",{"color-p":""}," Alioth ")],-1),NN={flex:"","flex-items-center":"","justify-center":"","m-r-10":""},YN=["onClick"],BN=me({__name:"Header",setup(t){const{headers:e}=kt(Xn);return(i,n)=>(R(),j("section",LN,[jN,Z("div",NN,[(R(!0),j(ct,null,Tt(G(e),(r,s)=>(R(),j("div",{key:s,"color-font-n":"","cursor-pointer":"","m-x-1":"","hover:color-blue":"",onClick:o=>r.handler({useLayer:G(ix)})},[(R(),gt(sf(r.component)))],8,YN))),128))])]))}}),VN=me({__name:"Editable",props:{modelValue:null},emits:["update:modelValue"],setup(t){const{modelValue:e}=tx("modelValue"),i=we(!1);return(n,r)=>G(i)?nn((R(),j("input",{key:0,"onUpdate:modelValue":r[0]||(r[0]=s=>IO(e)?e.value=s:null),type:"text",relative:"","z-20":"",onChange:r[1]||(r[1]=s=>i.value=!1),onBlur:r[2]||(r[2]=s=>i.value=!1)},null,544)),[[rf,G(e)]]):(R(),j("p",{key:1,onDblclick:r[3]||(r[3]=s=>i.value=!G(i))},nt(G(e)||"undefined"),33))}}),XN={class:"l-card"},WN={class:"drag-wrapper__label"},UN=me({__name:"DragHelper",props:{x:null,y:null,isActive:{type:Boolean},fix:{type:Boolean},label:null},setup(t){const e=$t({x:t.x,y:t.y}),i=Ue(()=>{let r="";const s=window.innerWidth;return r+=e.x<=s/2?"left":"right",r});Ue(()=>i.value==="left"?{top:`${e.y}px`,left:"100px"}:{top:`${e.y}px`,right:"100px"});function n(r){if(t.fix)return;const s=r.clientX,o=r.clientY,{x:a,y:l}=e;Uu({move(c){const h=c.clientX,u=c.clientY;e.x=a+h-s,e.y=l+u-o}})}return(r,s)=>(R(),gt(MO,{name:G(i),mode:"out-in"},{default:vt(()=>[t.isActive?(R(),j("div",{key:0,style:tn([{top:`${G(e).y}px`,left:`${G(e).x}px`},{position:"fixed","z-index":"10","user-select":"none","will-change":"auto"}]),onMousedown:n},[Z("div",XN,[Z("p",WN,nt(t.label),1),Ct(r.$slots,"default")])],36)):it("",!0)]),_:3},8,["name"]))}}),FN=me({__name:"index",setup(t){const{activeDoc:e}=kt(ht),i=H4(),{zones:n,componentMap:r}=kt(Xn);return(s,o)=>{const a=UN;return R(),gt(ZO,{to:"body"},[(R(!0),j(ct,null,Tt(G(n),(l,c)=>(R(),gt(a,{key:c,transition:l.transition,x:l.x,y:l.y,class:"a-zone",label:l.label,"is-active":l.isActive({instance:G(e),route:G(i)}),fix:l.fix||!1,onClick:o[0]||(o[0]=Yi(()=>{},["stop"]))},{default:vt(()=>[(R(),gt(sf(G(r)[l.component]),fS(dS(l.props)),null,16))]),_:2},1032,["transition","x","y","label","is-active","fix"]))),128))])}}}),zN={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},qN=Z("path",{fill:"currentColor",d:"M6.225 4.811a1 1 0 0 0-1.414 1.414L10.586 12L4.81 17.775a1 1 0 1 0 1.414 1.414L12 13.414l5.775 5.775a1 1 0 0 0 1.414-1.414L13.414 12l5.775-5.775a1 1 0 0 0-1.414-1.414L12 10.586L6.225 4.81Z"},null,-1),GN=[qN];function HN(t,e){return R(),j("svg",zN,GN)}const KN={name:"gg-close",render:HN},JN={class:"editor__box"},eY={class:"editor__aside left border-ol b-r-2 b-r-solid"},tY={"l-btn-n":""},iY={class:"editor_box"},nY={"m-t-10":"",text:"sm",font:"600",relative:""},rY={flex:"","w-full":"","h-8":"","color-font-t":""},sY=["onClick"],oY={key:0},aY=me({__name:"Editor",setup(t){const e=kt(ht),i=Ht(e,"container"),n=Ht(e,"activeDoc"),r=kt(ht),s=Ht(r,"remove"),o=Ht(r,"docs"),a=Ht(r,"add"),l=Ht(r,"active"),c=Ht(r,"activeId"),h=Ue(()=>Object.keys(no).filter(u=>!!u));return(u,f)=>(R(),j(ct,null,[xe(FN),xe(BN),Z("section",JN,[n.value?(R(),gt(MO,{key:0,appear:"",name:"left"},{default:vt(()=>[nn(Z("div",eY,[xe(G(LL),{"default-value":G(h)[0]},{default:vt(()=>[xe(G(TL),null,{default:vt(()=>[(R(!0),j(ct,null,Tt(G(h),d=>(R(),gt(G(QL),{key:d,value:d},{default:vt(()=>[Z("button",tY,nt(d),1)]),_:2},1032,["value"]))),128)),xe(G(PL),{class:"bg-p h-1"})]),_:1}),(R(!0),j(ct,null,Tt(G(h),d=>(R(),gt(G(_L),{key:d,value:d},{default:vt(()=>[xe(YL,{"comp-list":Array.from(G(no)[d].widgetMap).map(p=>p[1]),type:"text"},null,8,["comp-list"])]),_:2},1032,["value"]))),128))]),_:1},8,["default-value"])],512),[[nl,!i.value.attrs.isFull]])]),_:1})):it("",!0),Z("section",iY,[Z("div",nY,[Z("div",rY,[(R(!0),j(ct,null,Tt(o.value,d=>(R(),j("div",{key:d.id,"max-w-20":"",font:"500","h-8":"","l-flex":"","cursor-pointer":"","border-1":"","border-solid":"","border-font-t":"",relative:"",class:yr({"border-b-none border-p color-on-p":d.id===c.value}),onClick:p=>l.value(d.id)},[xe(VN,{modelValue:d.data.title,"onUpdate:modelValue":p=>d.data.title=p,class:"m-x-2"},null,8,["modelValue","onUpdate:modelValue"]),d.id===c.value&&o.value.length>1?(R(),gt(G(KN),{key:0,absolute:"","right-1":"","w-3":"","h-3":"","rd-2":"","hover:bg-on-b":"","color-p":"",onClick:Yi(p=>s.value(d.id),["stop"])},null,8,["onClick"])):it("",!0)],10,sY))),128)),Z("div",{"i-lucide-plus-square":"",absolute:"","color-font-t":"","hover:color-p":"","cursor-pointer":"",top:"10px",left:"-30px",onClick:f[0]||(f[0]=d=>a.value())})]),n.value?(R(),j("div",oY,[xe(G(tM),{width:i.value.attrs.width,height:i.value.attrs.height},{default:vt(()=>[xe(UL)]),_:1},8,["width","height"])])):it("",!0)])])])],64))}}),lY=wr(aY,[["__scopeId","data-v-ba2351bd"]]),cY={key:0},hY={key:1},uY=me({__name:"Preview",setup(t){const e=$t(new $y),i=we(!1);async function n(r){const s=r.target.files[0],o=new FileReader;o.onload=function(a){const l=a.target.result,c=JSON.parse(l);e.load(c.docs),e.active(e.docs[0].id),i.value=!0},o.readAsText(s)}return(r,s)=>G(i)?(R(),j("div",cY,[xe(G(Tc),{node:G(e).activeDoc.root,type:"render",value:G(ws)("root")},null,8,["node","value"])])):(R(),j("div",hY,[Z("input",{type:"file",onChange:n},null,32)]))}}),fY=q4({history:u4("/"),routes:[{path:"/",redirect:"/editor"},{path:"/editor",name:"Editor",component:lY},{path:"/preview",name:"preview",component:uY}]});var dY=Object.defineProperty,pY=Object.getOwnPropertyDescriptor,Nx=(t,e,i,n)=>{for(var r=n>1?void 0:n?pY(e,i):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(r=(n?o(e,i,r):o(r))||r);return n&&r&&dY(e,i,r),r};const{register:Ah,initialize:gY,state:TO}=z7({undo:!0,redo:!0});let ic=class{constructor(){this.state=TO,this.register=Ah}init(){const{activeDoc:t}=rr(ht);window.$alioth_eventStack=Ah,Ah({name:"nodeAction",pushQueue:!0,init(){const e=()=>{TO.commands.nodeAction()};return on.on("alioth:node-action",e),()=>{on.off("alioth:node-action",e)}},execute(){return{undo(){t.controller.undo()},redo(){t.controller.redo()}}}}),gY()}};Nx([rc],ic.prototype,"init",1);ic=Nx([us,fs("event")],ic);var Pd=(t=>(t.FILTER="FILTER",t.PROPS="PROPS",t))(Pd||{}),mY=Object.defineProperty,OY=Object.getOwnPropertyDescriptor,Td=(t,e,i,n)=>{for(var r=n>1?void 0:n?OY(e,i):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(r=(n?o(e,i,r):o(r))||r);return n&&r&&mY(e,i,r),r};let Mo=class{throw(t){switch(t.type){case Pd.FILTER:return 1}}info(t){console.error(t)}};Td([sc("custom_error")],Mo.prototype,"throw",1);Td([sc("error_info")],Mo.prototype,"info",1);Mo=Td([us,fs("error")],Mo);const bY=["onMousedownCapture"],vY={key:0,class:"w size-controller"},yY={key:1,class:"h size-controller"},xY=["onMousedown"],SY=me({__name:"DragBox",props:{node:null},setup(t){const e=kt(ht),i=Ht(e,"activeNode"),n=Ue(()=>t.node===i.value),r=["tl","tr","bl","br"];async function s(l){if(!i.value)return;let c,h;const u=i.value.attrs.left,f=i.value.attrs.top;Uu({move:d=>{(!c||!h)&&(c=d.clientX,h=d.clientY),i.value.setAttribute("left",u+d.clientX-c),i.value.setAttribute("top",f+d.clientY-h)},up:d=>{}})}function o(){return document.querySelector(".iframebox").getBoundingClientRect()}function a(l,c){if(!i.value)return;const{x:h,y:u}=o(),f=l.clientX+h,d=l.clientY+u,p=i.value.attrs.width,g=i.value.attrs.height,m=i.value.attrs.left,b=i.value.attrs.top;Uu({move:v=>{const x=Math.trunc(v.clientY-d),S=Math.trunc(v.clientX-f);c.includes("t")&&(i.value.setAttribute("top",b+x),i.value.setAttribute("height",g-x)),c.includes("l")&&(i.value.setAttribute("left",m+S),i.value.setAttribute("width",p-S)),c.includes("r")&&i.value.setAttribute("width",p+S),c.includes("b")&&i.value.setAttribute("height",g+x)}})}return(l,c)=>(R(),j("div",null,[Z("div",{class:"dragBox",onMousedownCapture:Yi(s,["self","prevent"])},[Ct(l.$slots,"default",{},void 0,!0),G(n)?(R(),j("i",vY,nt(i.value.attrs.width),1)):it("",!0),G(n)?(R(),j("i",yY,nt(i.value.attrs.height),1)):it("",!0),(R(),j(ct,null,Tt(r,(h,u)=>nn(Z("div",{key:u,class:yr(`${h} moveblock`),onMousedown:Yi(f=>a(f,h),["stop"])},null,42,xY),[[nl,G(n)]])),64))],40,bY)]))}}),wY=wr(SY,[["__scopeId","data-v-5d352a8a"]]),{activeDoc:js}=kt(ht);class kY extends cM{getSize(){return this._vnode?(this._vnode.props.onVnodeMounted=async e=>{const i=e.el;if(i instanceof HTMLElement){const{offsetWidth:n,offsetHeight:r}=i;this.node.attrs.width=n||30,this.node.attrs.height=r||30}},this):this}draggable(){return this._vnode?(this._vnode=ni(wY,{node:this.node},this._vnode),this):this}useSize(){return this._vnode?(this.node.attrs.width&&this.addStyle({width:`${this.node.attrs.width}px`,height:`${this.node.attrs.height}px`}),this):this}response(e,i){return this._vnode?(this._vnode.props.onVnodeMounted=({el:n})=>{const r=n.offsetWidth,s=n.offsetHeight,o=Math.min(1,i/s,e/r);n.style=`transform:scale(${o});`},this):this}useOffset(){return!this._vnode||!this.node.attrs.top?this:(this._vnode.props.style=`top:${this.node.attrs.top}px;left:${this.node.attrs.left}px`,this)}main({type:e,schema:i}){if(!this._vnode)return this;if(this.node.id==="root")return this._vnode=ni(this.comp,this.node.attrs,this._vnode||void 0),this;const n=sn.filter(J8(this.node.attrs.propsData));if("modelValue"in this.node.attrs.propsData&&(n["onUpdate:modelValue"]=r=>n.modelValue=r),i)for(const r in i)new Function(r,`return ${i[r]}`)(n[r])||on.emit("custom_error",{type:Pd.PROPS});return this._vnode=ni(this.comp,Object.assign({a_node:this.node,a_type:e},n),this._vnode||void 0),this}editAction(){return this._vnode?(this._vnode.props.onMousedownCapture=()=>{js.value.select(this.node)},this._vnode.props.onDragoverCapture=()=>{js.value.select(this.node,"hoverNode")},this._vnode.props.onDragleave=()=>{js.value.cancel("hoverNode")},this._vnode.props.onMouseenter=()=>{js.value.select(this.node,"hoverNode")},this._vnode.props.onMouseleave=()=>{js.value.cancel("hoverNode")},this):this}}class CY extends aM{constructor(){super(...arguments),this.Renderer=kY,this.widgetMap=sn.widgetMap}text(){return ni("p",{class:"preview-text"},this.key)}edit(e){const i=this.createRenderer(e);return e.id==="root"?i.slot(["default"],this.widgetMap,"edit").main({type:"edit",schema:this.meta.schema}).exec():i.slot(["default"],this.widgetMap,"edit").main({type:"edit",schema:this.meta.schema}).getSize().addClass("innerBlock_edit").useSize().draggable().addClass("block_edit").useOffset().editAction().exec()}render(e){return this.createRenderer(e).slot(["default"],this.widgetMap,"render").main({type:"render",schema:this.meta.schema}).addStyle({top:`${e.attrs.top}px`,left:`${e.attrs.left}px`,width:`${e.attrs.width}px`,height:`${e.attrs.height}px`,position:"absolute"}).exec()}code(){}}function $Y(){gM(),Cy(CY),Hn(Ro),Hn(Xn),Hn(br),Hn(ht),Hn(ic),Hn(Mo)}function _Y(t){const e=we(null),{add:i,del:n}=kt(br);return vr(()=>{i(e.value,t)}),nc(()=>{n(e.value)}),e}const Eh={};function PY(t){return Eh[t]||(Eh[t]=0),`${t}${++Eh[t]}`}const TY=me({__name:"Container",props:{width:null,height:null,fontSize:null,backgroundColor:null,gridColor:null,gridNum:null,gridGap:null,margin:null,radius:null,isContainer:{type:Boolean},isFull:{type:Boolean},isGrid:{type:Boolean},mode:null,wLimit:null,hLimit:null},setup(t){const e=t,i=kt(ht),n=Ht(i,"activeDoc");Ht(i,"container");function r(o,a){const{key:l,label:c,meta:h}=o,{hoverNode:u,root:f}=n.value,d=PY(l),p=u||f,g=n.value.createNode(Object.assign({slot:"default",key:l,index:d,label:c,propsData:{},level:p===f?1:p.attrs.level+1,top:p===f?a.offsetY:0,left:p===f?a.offsetX:0},(h==null?void 0:h.init)||{}));p.insert(g)}const s=_Y(r);return(o,a)=>(R(),j("div",{ref_key:"containerCanvas",ref:s,class:yr(["editor__canvas",e.isGrid?"gridHelper":""]),style:tn(`--radius:${e.radius/2};--fontSize:${e.fontSize};
            --gridGap:${e.gridGap/2};
            --gridLen:${(e.width-e.margin*2)/e.gridNum};
            --bkColor:${e.backgroundColor};
            --width:${e.width};
            --height:${e.height};
            --margin:${e.margin};
            --gridColor:${e.gridColor};
      `),onClick:a[0]||(a[0]=Yi(l=>n.value.cancel(),["self","stop"]))},[Ct(o.$slots,"default")],6))}});function QY(){const t=window.$alioth_widget;t({category:"",key:"root",component:of(TY)})}const AY=pS(FR).use(vS("alioth")).use(fY).use(XR,{autofocus:!0,disabled:!1,indentWithTab:!0,tabSize:2,placeholder:"Code goes here...",extensions:[qb,ER()]}).use(h5);$Y();QY();AY.mount("#al-root")});export default EY();
