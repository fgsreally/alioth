{
  "resolvedId": "D:/MyProject/5/alioth/packages/preset-layout/src/grid/editor/Container.vue?vue&type=style&index=0&lang.css",
  "transforms": [
    {
      "name": "vite:vue",
      "result": "\n.a-container {\n  min-width: 600px;\n  min-height: 300px;\n}\n",
      "start": 1699405180615,
      "end": 1699405180615,
      "sourcemaps": {
        "version": 3,
        "sources": [
          "D:/MyProject/5/alioth/packages/preset-layout/src/grid/editor/Container.vue"
        ],
        "names": [],
        "mappings": ";AAyEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AACnB",
        "file": "D:/MyProject/5/alioth/packages/preset-layout/src/grid/editor/Container.vue",
        "sourceRoot": "",
        "sourcesContent": [
          "<script setup lang=\"ts\">\nimport { emitter, useV } from 'phecda-vue'\nimport { GridLayout } from 'grid-layout-plus'\nimport { computed, onBeforeUnmount, onMounted, ref } from 'vue'\n\nconst props = defineProps<{ a_mode: string }>()\n\nlet index = 0\nconst { doc, activePage } = useV(__PHECDA__.doc)\nfunction update() {\n  activePage.value.children.forEach((node) => {\n    node.set('layout.x', node.attrs.layout.x)\n    node.set('layout.y', node.attrs.layout.y)\n  })\n}\nconst layout = computed(() => {\n  return activePage.value.children.map(item => item.attrs.layout)\n})\nconst dom = ref<HTMLElement>(null as any)\n\nfunction addBlock(module: any, e: MouseEvent) {\n  const { clientX } = e\n  const { width, left } = dom.value.getBoundingClientRect()\n  const { key, label, meta } = module\n  const { hoverNode, root } = doc.value\n  // const index = createIndex(key)\n  const parent = hoverNode || activePage.value\n  const info = {\n    x: Math.floor(12 * (clientX - left) / width),\n    y: 0, // puts it at the bottom\n    w: 2,\n    h: 2,\n    i: `${index++}`,\n  }\n  const block = doc.value.createNode(Object.assign({\n    slot: 'default',\n    key,\n    index,\n    label,\n    propsData: {\n    },\n    layout: info,\n    level: parent === root ? 1 : parent.attrs.level + 1,\n    top: parent === activePage.value ? e.offsetY : 0,\n    left: parent === activePage.value ? e.offsetX : 0,\n  }, meta?.init || {}))\n  parent.insert(block)\n  emitter.emit('alioth:node-action', null)\n}\n\nconst { add, del } = useV(__PHECDA__.drag)\n\nonMounted(() => {\n  add(dom.value, addBlock)\n})\nonBeforeUnmount(() => {\n  del(dom.value)\n})\n</script>\n\n<template>\n  <section ref=\"dom\" class=\"a-container\" @click.stop.self=\"doc.cancel()\" @mouseup.stop>\n    <GridLayout\n      v-model:layout=\"layout\" :col-num=\"12\" :row-height=\"30\" :is-draggable=\"a_mode !== 'render'\"\n      :is-resizable=\"a_mode !== 'render'\" vertical-compact prevent-collision use-css-transforms\n      @layout-updated=\"update\"\n    >\n      <slot />\n    </GridLayout>\n  </section>\n</template>\n\n<style>\n.a-container {\n  min-width: 600px;\n  min-height: 300px;\n}\n</style>\n"
        ]
      }
    },
    {
      "name": "vite:css",
      "result": "\n.a-container {\n  min-width: 600px;\n  min-height: 300px;\n}\n",
      "start": 1699405180616,
      "end": 1699405180616,
      "order": "normal",
      "sourcemaps": null
    },
    {
      "name": "vite:esbuild",
      "start": 1699405180616,
      "end": 1699405180616,
      "order": "normal"
    },
    {
      "name": "vite:json",
      "start": 1699405180616,
      "end": 1699405180616,
      "order": "normal"
    },
    {
      "name": "vite:worker",
      "start": 1699405180616,
      "end": 1699405180616,
      "order": "normal"
    },
    {
      "name": "vite:vue",
      "result": "\n.a-container {\n  min-width: 600px;\n  min-height: 300px;\n}\n",
      "start": 1699405180616,
      "end": 1699405180617,
      "order": "normal",
      "sourcemaps": {
        "mappings": ""
      }
    },
    {
      "name": "alioth-connector",
      "start": 1699405180617,
      "end": 1699405180617,
      "order": "normal"
    },
    {
      "name": "vite:define",
      "start": 1699405180617,
      "end": 1699405180617,
      "order": "normal"
    },
    {
      "name": "vite:css-post",
      "result": "import { updateStyle as __vite__updateStyle, removeStyle as __vite__removeStyle } from \"/@vite/client\"\nconst __vite__id = \"D:/MyProject/5/alioth/packages/preset-layout/src/grid/editor/Container.vue?vue&type=style&index=0&lang.css\"\nconst __vite__css = \"\\n.a-container {\\n  min-width: 600px;\\n  min-height: 300px;\\n}\\n\"\n__vite__updateStyle(__vite__id, __vite__css)\nimport.meta.hot.accept()\nexport default __vite__css\nimport.meta.hot.prune(() => __vite__removeStyle(__vite__id))",
      "start": 1699405180617,
      "end": 1699405180617,
      "order": "normal",
      "sourcemaps": {
        "mappings": ""
      }
    },
    {
      "name": "vite:worker-import-meta-url",
      "start": 1699405180617,
      "end": 1699405180617,
      "order": "normal"
    },
    {
      "name": "vite:asset-import-meta-url",
      "start": 1699405180617,
      "end": 1699405180617,
      "order": "normal"
    },
    {
      "name": "vite:dynamic-import-vars",
      "start": 1699405180617,
      "end": 1699405180617,
      "order": "normal"
    },
    {
      "name": "vite:import-glob",
      "start": 1699405180617,
      "end": 1699405180617,
      "order": "normal"
    },
    {
      "name": "vite:client-inject",
      "start": 1699405180617,
      "end": 1699405180617,
      "order": "normal"
    },
    {
      "name": "vite:import-analysis",
      "result": "import { createHotContext as __vite__createHotContext } from \"/@vite/client\";import.meta.hot = __vite__createHotContext(\"/@fs/D:/MyProject/5/alioth/packages/preset-layout/src/grid/editor/Container.vue?vue&type=style&index=0&lang.css\");import { updateStyle as __vite__updateStyle, removeStyle as __vite__removeStyle } from \"/@vite/client\"\nconst __vite__id = \"D:/MyProject/5/alioth/packages/preset-layout/src/grid/editor/Container.vue?vue&type=style&index=0&lang.css\"\nconst __vite__css = \"\\n.a-container {\\n  min-width: 600px;\\n  min-height: 300px;\\n}\\n\"\n__vite__updateStyle(__vite__id, __vite__css)\nimport.meta.hot.accept()\nexport default __vite__css\nimport.meta.hot.prune(() => __vite__removeStyle(__vite__id))",
      "start": 1699405180617,
      "end": 1699405180618,
      "order": "normal",
      "sourcemaps": null
    }
  ]
}
